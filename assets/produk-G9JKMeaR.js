import{j as e,L as v,r as n,u as E,a as F,b as M,f as D,c as H,d as T,R as w,e as W,g as K}from"./reachHideWarning-IEH7Dx1O.js";import{B as U,l as k,P as q}from"./ProdukDetail-3YfPDpP_.js";import"./getBlocksReadingTime-Dto5agJ7.js";import{f as I,C as O,a as G,B as J}from"./BannerCrumb-CpdsY4-T.js";import{s as Q}from"./slugify-CtJJmimd.js";import{U as V}from"./user-CPsLnqEq.js";import{M as X}from"./MProdukRo-C0NSDZvP.js";import{m as Y}from"./mountApp-i9mf4gEb.js";import"./createDateFromSqlDateTime-B3lGndXu.js";import"./moment-DknGAOAq.js";const Z=({list:s,loading:t})=>{const a="cls-0 relative md:twx-mt-12 twx-mt-8",o="cls-1 grid grid-cols-1 pb-6 text-center",c="cls-2 mb-6 md:text-3xl text-2xl md:leading-normal leading-normal font-semibold",i="cls-3 text-slate-400 max-w-xl mx-auto",l="cls-4 grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 mt-6 gap-6",b="cls-5 group relative overflow-hidden",N="cls-6 relative overflow-hidden rounded-md shadow dark:shadow-gray-800",$="cls-7 group-hover:scale-110 group-hover:rotate-3 duration-500",y="cls-8 absolute top-0 start-0 p-4 opacity-0 group-hover:opacity-100 duration-500",P="cls-9 bg-red-500 text-white text-[12px] px-2.5 py-1 font-medium rounded-md h-5",m="cls-10 mt-6",g="cls-11 flex mb-4",C="cls-12 flex items-center text-slate-400 text-sm",z="cls-13 feather feather-clock size-4 text-slate-900 dark:text-white me-1.5",L="cls-14 text-slate-400 text-sm ms-3",B="cls-15 twx-ml-2 text-slate-900 dark:text-white hover:text-red-500 dark:hover:text-red-500 font-medium",f="cls-16 text-lg font-medium hover:text-red-500 duration-500 ease-in-out",p="cls-17 text-slate-400 mt-2",u="cls-18 mt-3",d="cls-19 hover:text-red-500 inline-flex items-center",x="cls-20 feather feather-chevron-right size-4 ms-1",h="twx-shadow twx-bg-slate-300 twx-opacity-80 twx-shadow twx-rounded-md";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:a,children:[e.jsxs("div",{className:o,children:[e.jsx("h3",{className:c,children:" Produk "}),e.jsx("p",{className:i,children:" Produk Santri Pondok Pesantren Kanzululum. "})]}),e.jsx("div",{className:l,children:t?e.jsx(e.Fragment,{children:[...Array(6)].fill(1).map((r,A)=>e.jsxs("div",{className:`${b} twx-animate-pulse `,children:[e.jsx("div",{className:`${N} ${h}`,children:e.jsx("div",{className:`${$} twx-h-[200px] twx-w-full ${h}`})}),e.jsxs("div",{className:m,children:[e.jsx("div",{className:`${g} twx-w-3/4 ${h} twx-h-4`}),e.jsx("a",{className:`${f} ${h} twx-h-2`,children:" "}),e.jsx("p",{className:`${p} ${h} twx-h-2`,children:" "}),e.jsx("p",{className:`${p} ${h} twx-h-2`,children:" "}),e.jsx("p",{className:`${p} ${h} twx-h-2`,children:" "}),e.jsx("div",{className:`${u}  twx-w-1/2 ${h} twx-h-6`})]})]}))}):e.jsx(e.Fragment,{children:s&&Array.isArray(s.records)&&s.records.map((r,A)=>{const R=Q(r.title);return e.jsxs("div",{className:b,children:[e.jsxs("div",{className:N,children:[e.jsx("img",{src:`/assets/images/produk/covers/${r.cover}`,alt:r.title,className:`${$}`}),e.jsx("div",{className:y,children:e.jsxs("span",{className:P,children:[" ",I(r.tags)," "]})})]}),e.jsxs("div",{className:m,children:[e.jsxs("div",{className:g,children:[e.jsxs("span",{className:C,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:z,children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14",children:" "})]}),r.readingTime," menit baca"]}),e.jsxs("span",{className:`${L} twx-flex twx-items-center`,children:[e.jsx(V,{className:"feather-icon inline-block twx-text-black !twx-w-[14.6px] !twx-h-[14.6px]"}),e.jsx("a",{href:`/produk/#/kategori/${r.kategori}`,className:B,children:r.kategori})]})]}),r.compiledHash?e.jsx("a",{href:`/produk/lihat/${r.id}/${R}`,className:f,children:r.title}):e.jsx(v,{to:`/lihat/${r.id}/${R}`,className:f,children:r.title}),e.jsxs("p",{className:`${p} twx-line-clamp-3`,children:[" ",r.headline]}),e.jsx("div",{className:u,children:r.compiledHash?e.jsxs("a",{href:`/produk/lihat/${r.id}/${R}`,className:d,children:["Selengkapnya",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:x,children:e.jsx("polyline",{points:"9 18 15 12 9 6",children:" "})})]}):e.jsxs(v,{to:`/lihat/${r.id}/${R}`,className:d,children:["Selengkapnya",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:x,children:e.jsx("polyline",{points:"9 18 15 12 9 6",children:" "})})]})})]})]},A)})})})]})})},_="twx-shadow twx-bg-slate-300 twx-opacity-80 twx-shadow twx-rounded-md",ee=({pager:s,base:t="",routeName:a="page",loading:o})=>(n.useEffect(()=>{},[]),e.jsx("div",{className:"grid md:grid-cols-12 grid-cols-1 mt-6",children:e.jsx("div",{className:"md:col-span-12 text-center",children:o?e.jsx(e.Fragment,{children:e.jsx("div",{className:`twx-h-8 twx-w-[200px] ${_}  twx-animate-pulse twx-mx-auto twx-mt-6`})}):e.jsx("nav",{"aria-label":"Page navigation example",children:e.jsxs("ul",{className:"inline-flex items-center -space-x-px",children:[s.page>1&&e.jsx("li",{children:e.jsx(v,{to:`${t}/${a}/${s.page-1}`,className:"size-[40px] inline-flex justify-center items-center text-slate-400 bg-white dark:bg-slate-900 rounded-s-3xl hover:text-white border border-gray-100 dark:border-gray-800 hover:border-red-500 dark:hover:border-red-500 hover:bg-red-500 dark:hover:bg-red-500",children:e.jsx(O,{className:"size-5 rtl:rotate-180 rtl:-mt-1"})})}),[...Array(s.totalPages).fill(1)].map((c,i)=>{const l=i+1;return e.jsx("li",{children:s.page==l?e.jsx(v,{to:`${t}/${a}/${l}`,"aria-current":"page",className:"z-10 size-[40px] inline-flex justify-center items-center text-white bg-red-500 border border-red-500",children:l}):e.jsx(v,{to:`${t}/${a}/${l}`,className:"size-[40px] inline-flex justify-center items-center text-slate-400 hover:text-white bg-white dark:bg-slate-900 border border-gray-100 dark:border-gray-800 hover:border-red-500 dark:hover:border-red-500 hover:bg-red-500 dark:hover:bg-red-500",children:l})})}),s.page<s.totalPages&&e.jsx("li",{children:e.jsx(v,{to:`${t}/${a}/${s.page+1}`,className:"size-[40px] inline-flex justify-center items-center text-slate-400 bg-white dark:bg-slate-900 rounded-e-3xl hover:text-white border border-gray-100 dark:border-gray-800 hover:border-red-500 dark:hover:border-red-500 hover:bg-red-500 dark:hover:bg-red-500",children:e.jsx(G,{className:"size-5 rtl:rotate-180 rtl:-mt-1"})})})]})})})})),se=({produkData:s,model:t,reload:a,loadingModel:o,byKategori:c})=>{const{pageNumber:i,kategori:l}=E(),[b,N]=n.useState([{title:"Home",path:"/"},{title:"Produk",path:"/produk"}]),[$,y]=n.useState([]),[P,m]=n.useState(o),[g,C]=n.useState(6),[z,L]=n.useState({page:1,limit:g,totalPages:0,totalRecords:0}),B=async p=>{m(!0);const u=parseInt(p||1);let d=null;if(c?(d=await t.getList({limit:g,page:u,search:{type:"single",field:"kategori",query:l}}),N(x=>[{title:"Home",path:"/"},{title:"Produk",path:"/produk"},{title:`Kategori ${l}`,path:null}])):d=await t.getList(g,u),!d){m(!1);return}for(const x of d.records)x.readingTime=await t.getReadingTime(x.id);y(x=>d),L(x=>({...x,limit:g,page:u,totalRecords:d.totalRecords,totalPages:d.totalPages})),m(!1)};n.useEffect(()=>{t&&t.ready&&B(i)},[y,a,L,i,m,c,l]);const f=c?`penulis/${l}/page`:"page";return e.jsxs(e.Fragment,{children:[e.jsx(J,{banner:s.banner,breadcrumbs:b}),e.jsx("section",{className:"relative md:twx-py-12 twx-py-8 overflow-hidden",children:e.jsxs("div",{className:"container twx-relative",children:[e.jsx(Z,{list:$,loading:P}),e.jsx(ee,{pager:z,loading:P,routeName:f})]})})]})},S=({model:s,reload:t,loadingModel:a,byKategori:o})=>{const c=F(l=>l.produk),i=M();return n.useEffect(()=>{i(D())},[i]),e.jsx(se,{byKategori:o,produkData:c.data,loadingModel:a,reload:t,model:s})},j=new X,te=({})=>{const[s,t]=n.useState(""),[a,o]=n.useState(!1),c=async()=>{o(!0),await j.initOrm(),t(K()),o(!1)};n.useEffect(()=>{c()},[t,o]);const i=H(T(e.jsxs(w,{path:"",element:e.jsx(U,{}),children:[e.jsx(w,{index:!0,element:e.jsx(S,{model:j,loadingModel:a,reload:s}),loader:k}),e.jsx(w,{path:"page/:pageNumber",element:e.jsx(S,{model:j,loadingModel:a,reload:s}),loader:k}),e.jsx(w,{path:"kategori/:kategori/page/:pageNumber",element:e.jsx(S,{byKategori:!0,loadingModel:a,model:j,reload:s}),loader:k}),e.jsx(w,{path:"kategori/:kategori",element:e.jsx(S,{byKategori:!0,loadingModel:a,model:j,reload:s}),loader:k}),e.jsx(w,{path:"lihat/:id/:slug",element:e.jsx(q,{model:j,loadingModel:a,reload:s}),loader:k})]})),{basename:"/"});return e.jsx(W,{router:i})};Y(e.jsx(te,{}));
