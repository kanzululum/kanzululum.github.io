var $b=Object.defineProperty;var Sb=(e,t,r)=>t in e?$b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ie=(e,t,r)=>(Sb(e,typeof t!="symbol"?t+"":t,r),r);import{B as ar,q as we,r as Z,j as A,i as K,$ as ef,P as fl,a3 as Sr,a8 as Eb,a5 as X,g as xh}from"./reachHideWarning-DB-uB9Mf.js";function We(e){return typeof File<"u"&&e instanceof File||typeof Date<"u"&&e instanceof Date?!1:typeof e=="object"&&e!==null&&!Array.isArray(e)}function xb(e){return e.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),We(e.additionalItems)}function Oh(e){if(e==="")return;if(e===null)return null;if(/\.$/.test(e)||/\.0$/.test(e)||/\.\d*0$/.test(e))return e;const t=Number(e);return typeof t=="number"&&!Number.isNaN(t)?t:e}const Ha="__additional_property",su="additionalProperties",cs="allOf",kr="anyOf",ry="const",Ob="default",dc="dependencies",Ab="enum",ir="__errors",fn="$id",kb="if",yn="items",Cb="_$junk_option_schema_id$_",wo="$name",Ht="oneOf",Ye="properties",Tb="required",Ro="submitButtonOptions",ct="$ref",tf="__rjsf_additionalProperties",ny="__rjsf_rootSchema",Ib="ui:field",rf="ui:widget",Di="ui:options",Pb="ui:globalOptions";function Se(e={},t={}){return Object.keys(e).filter(r=>r.indexOf("ui:")===0).reduce((r,n)=>{const a=e[n];return n===rf&&We(a)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),r):n===Di&&We(a)?{...r,...a}:{...r,[n.substring(3)]:a}},{...t})}function ay(e,t={},r){if(!e.additionalProperties)return!1;const{expandable:n=!0}=Se(t);return n===!1?n:e.maxProperties!==void 0&&r?Object.keys(r).length<e.maxProperties:!0}var Nb=typeof ar=="object"&&ar&&ar.Object===Object&&ar,iy=Nb,jb=iy,Rb=typeof self=="object"&&self&&self.Object===Object&&self,Fb=jb||Rb||Function("return this")(),Pr=Fb,Db=Pr,Mb=Db.Symbol,Ka=Mb,Ah=Ka,sy=Object.prototype,Ub=sy.hasOwnProperty,Bb=sy.toString,Ei=Ah?Ah.toStringTag:void 0;function Lb(e){var t=Ub.call(e,Ei),r=e[Ei];try{e[Ei]=void 0;var n=!0}catch{}var a=Bb.call(e);return n&&(t?e[Ei]=r:delete e[Ei]),a}var zb=Lb,Vb=Object.prototype,qb=Vb.toString;function Hb(e){return qb.call(e)}var Kb=Hb,kh=Ka,Gb=zb,Wb=Kb,Zb="[object Null]",Yb="[object Undefined]",Ch=kh?kh.toStringTag:void 0;function Xb(e){return e==null?e===void 0?Yb:Zb:Ch&&Ch in Object(e)?Gb(e):Wb(e)}var Wr=Xb;function Jb(e,t){return function(r){return e(t(r))}}var oy=Jb,Qb=oy,e1=Qb(Object.getPrototypeOf,Object),hc=e1;function t1(e){return e!=null&&typeof e=="object"}var Xt=t1,r1=Wr,n1=hc,a1=Xt,i1="[object Object]",s1=Function.prototype,o1=Object.prototype,cy=s1.toString,c1=o1.hasOwnProperty,l1=cy.call(Object);function u1(e){if(!a1(e)||r1(e)!=i1)return!1;var t=n1(e);if(t===null)return!0;var r=c1.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&cy.call(r)==l1}var Ga=u1;const nf=we(Ga);function ou(e){const t={[ir]:[],addError(r){this[ir].push(r)}};if(Array.isArray(e))return e.reduce((r,n,a)=>({...r,[a]:ou(n)}),t);if(nf(e)){const r=e;return Object.keys(r).reduce((n,a)=>({...n,[a]:ou(r[a])}),t)}return t}function f1(){this.__data__=[],this.size=0}var d1=f1;function h1(e,t){return e===t||e!==e&&t!==t}var Wa=h1,p1=Wa;function m1(e,t){for(var r=e.length;r--;)if(p1(e[r][0],t))return r;return-1}var pc=m1,g1=pc,y1=Array.prototype,v1=y1.splice;function w1(e){var t=this.__data__,r=g1(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():v1.call(t,r,1),--this.size,!0}var _1=w1,b1=pc;function $1(e){var t=this.__data__,r=b1(t,e);return r<0?void 0:t[r][1]}var S1=$1,E1=pc;function x1(e){return E1(this.__data__,e)>-1}var O1=x1,A1=pc;function k1(e,t){var r=this.__data__,n=A1(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var C1=k1,T1=d1,I1=_1,P1=S1,N1=O1,j1=C1;function Za(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Za.prototype.clear=T1;Za.prototype.delete=I1;Za.prototype.get=P1;Za.prototype.has=N1;Za.prototype.set=j1;var mc=Za,R1=mc;function F1(){this.__data__=new R1,this.size=0}var D1=F1;function M1(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var U1=M1;function B1(e){return this.__data__.get(e)}var L1=B1;function z1(e){return this.__data__.has(e)}var V1=z1;function q1(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var jt=q1;const sr=we(jt);var H1=Wr,K1=jt,G1="[object AsyncFunction]",W1="[object Function]",Z1="[object GeneratorFunction]",Y1="[object Proxy]";function X1(e){if(!K1(e))return!1;var t=H1(e);return t==W1||t==Z1||t==G1||t==Y1}var gc=X1,J1=Pr,Q1=J1["__core-js_shared__"],e$=Q1,dl=e$,Th=function(){var e=/[^.]+$/.exec(dl&&dl.keys&&dl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function t$(e){return!!Th&&Th in e}var r$=t$,n$=Function.prototype,a$=n$.toString;function i$(e){if(e!=null){try{return a$.call(e)}catch{}try{return e+""}catch{}}return""}var ly=i$,s$=gc,o$=r$,c$=jt,l$=ly,u$=/[\\^$.*+?()[\]{}|]/g,f$=/^\[object .+?Constructor\]$/,d$=Function.prototype,h$=Object.prototype,p$=d$.toString,m$=h$.hasOwnProperty,g$=RegExp("^"+p$.call(m$).replace(u$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y$(e){if(!c$(e)||o$(e))return!1;var t=s$(e)?g$:f$;return t.test(l$(e))}var v$=y$;function w$(e,t){return e==null?void 0:e[t]}var _$=w$,b$=v$,$$=_$;function S$(e,t){var r=$$(e,t);return b$(r)?r:void 0}var Xn=S$,E$=Xn,x$=Pr,O$=E$(x$,"Map"),af=O$,A$=Xn,k$=A$(Object,"create"),yc=k$,Ih=yc;function C$(){this.__data__=Ih?Ih(null):{},this.size=0}var T$=C$;function I$(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var P$=I$,N$=yc,j$="__lodash_hash_undefined__",R$=Object.prototype,F$=R$.hasOwnProperty;function D$(e){var t=this.__data__;if(N$){var r=t[e];return r===j$?void 0:r}return F$.call(t,e)?t[e]:void 0}var M$=D$,U$=yc,B$=Object.prototype,L$=B$.hasOwnProperty;function z$(e){var t=this.__data__;return U$?t[e]!==void 0:L$.call(t,e)}var V$=z$,q$=yc,H$="__lodash_hash_undefined__";function K$(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=q$&&t===void 0?H$:t,this}var G$=K$,W$=T$,Z$=P$,Y$=M$,X$=V$,J$=G$;function Ya(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ya.prototype.clear=W$;Ya.prototype.delete=Z$;Ya.prototype.get=Y$;Ya.prototype.has=X$;Ya.prototype.set=J$;var Q$=Ya,Ph=Q$,eS=mc,tS=af;function rS(){this.size=0,this.__data__={hash:new Ph,map:new(tS||eS),string:new Ph}}var nS=rS;function aS(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var iS=aS,sS=iS;function oS(e,t){var r=e.__data__;return sS(t)?r[typeof t=="string"?"string":"hash"]:r.map}var vc=oS,cS=vc;function lS(e){var t=cS(this,e).delete(e);return this.size-=t?1:0,t}var uS=lS,fS=vc;function dS(e){return fS(this,e).get(e)}var hS=dS,pS=vc;function mS(e){return pS(this,e).has(e)}var gS=mS,yS=vc;function vS(e,t){var r=yS(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var wS=vS,_S=nS,bS=uS,$S=hS,SS=gS,ES=wS;function Xa(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xa.prototype.clear=_S;Xa.prototype.delete=bS;Xa.prototype.get=$S;Xa.prototype.has=SS;Xa.prototype.set=ES;var sf=Xa,xS=mc,OS=af,AS=sf,kS=200;function CS(e,t){var r=this.__data__;if(r instanceof xS){var n=r.__data__;if(!OS||n.length<kS-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new AS(n)}return r.set(e,t),this.size=r.size,this}var TS=CS,IS=mc,PS=D1,NS=U1,jS=L1,RS=V1,FS=TS;function Ja(e){var t=this.__data__=new IS(e);this.size=t.size}Ja.prototype.clear=PS;Ja.prototype.delete=NS;Ja.prototype.get=jS;Ja.prototype.has=RS;Ja.prototype.set=FS;var wc=Ja,DS="__lodash_hash_undefined__";function MS(e){return this.__data__.set(e,DS),this}var US=MS;function BS(e){return this.__data__.has(e)}var LS=BS,zS=sf,VS=US,qS=LS;function Fo(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new zS;++t<r;)this.add(e[t])}Fo.prototype.add=Fo.prototype.push=VS;Fo.prototype.has=qS;var _c=Fo;function HS(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var KS=HS;function GS(e,t){return e.has(t)}var bc=GS,WS=_c,ZS=KS,YS=bc,XS=1,JS=2;function QS(e,t,r,n,a,i){var s=r&XS,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var l=i.get(e),u=i.get(t);if(l&&u)return l==t&&u==e;var f=-1,h=!0,d=r&JS?new WS:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var p=e[f],m=t[f];if(n)var y=s?n(m,p,f,t,e,i):n(p,m,f,e,t,i);if(y!==void 0){if(y)continue;h=!1;break}if(d){if(!ZS(t,function(g,v){if(!YS(d,v)&&(p===g||a(p,g,r,n,i)))return d.push(v)})){h=!1;break}}else if(!(p===m||a(p,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var uy=QS,eE=Pr,tE=eE.Uint8Array,fy=tE;function rE(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var nE=rE;function aE(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var of=aE,Nh=Ka,jh=fy,iE=Wa,sE=uy,oE=nE,cE=of,lE=1,uE=2,fE="[object Boolean]",dE="[object Date]",hE="[object Error]",pE="[object Map]",mE="[object Number]",gE="[object RegExp]",yE="[object Set]",vE="[object String]",wE="[object Symbol]",_E="[object ArrayBuffer]",bE="[object DataView]",Rh=Nh?Nh.prototype:void 0,hl=Rh?Rh.valueOf:void 0;function $E(e,t,r,n,a,i,s){switch(r){case bE:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _E:return!(e.byteLength!=t.byteLength||!i(new jh(e),new jh(t)));case fE:case dE:case mE:return iE(+e,+t);case hE:return e.name==t.name&&e.message==t.message;case gE:case vE:return e==t+"";case pE:var o=oE;case yE:var c=n&lE;if(o||(o=cE),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;n|=uE,s.set(e,t);var u=sE(o(e),o(t),n,a,i,s);return s.delete(e),u;case wE:if(hl)return hl.call(e)==hl.call(t)}return!1}var SE=$E;function EE(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var cf=EE,xE=Array.isArray,ft=xE,OE=cf,AE=ft;function kE(e,t,r){var n=t(e);return AE(e)?n:OE(n,r(e))}var dy=kE;function CE(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var TE=CE;function IE(){return[]}var hy=IE,PE=TE,NE=hy,jE=Object.prototype,RE=jE.propertyIsEnumerable,Fh=Object.getOwnPropertySymbols,FE=Fh?function(e){return e==null?[]:(e=Object(e),PE(Fh(e),function(t){return RE.call(e,t)}))}:NE,lf=FE;function DE(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var py=DE,ME=Wr,UE=Xt,BE="[object Arguments]";function LE(e){return UE(e)&&ME(e)==BE}var zE=LE,Dh=zE,VE=Xt,my=Object.prototype,qE=my.hasOwnProperty,HE=my.propertyIsEnumerable,KE=Dh(function(){return arguments}())?Dh:function(e){return VE(e)&&qE.call(e,"callee")&&!HE.call(e,"callee")},ls=KE,Do={exports:{}};function GE(){return!1}var WE=GE;Do.exports;(function(e,t){var r=Pr,n=WE,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,l=c||n;e.exports=l})(Do,Do.exports);var Qa=Do.exports,ZE=9007199254740991,YE=/^(?:0|[1-9]\d*)$/;function XE(e,t){var r=typeof e;return t=t??ZE,!!t&&(r=="number"||r!="symbol"&&YE.test(e))&&e>-1&&e%1==0&&e<t}var $c=XE,JE=9007199254740991;function QE(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=JE}var uf=QE,ex=Wr,tx=uf,rx=Xt,nx="[object Arguments]",ax="[object Array]",ix="[object Boolean]",sx="[object Date]",ox="[object Error]",cx="[object Function]",lx="[object Map]",ux="[object Number]",fx="[object Object]",dx="[object RegExp]",hx="[object Set]",px="[object String]",mx="[object WeakMap]",gx="[object ArrayBuffer]",yx="[object DataView]",vx="[object Float32Array]",wx="[object Float64Array]",_x="[object Int8Array]",bx="[object Int16Array]",$x="[object Int32Array]",Sx="[object Uint8Array]",Ex="[object Uint8ClampedArray]",xx="[object Uint16Array]",Ox="[object Uint32Array]",Me={};Me[vx]=Me[wx]=Me[_x]=Me[bx]=Me[$x]=Me[Sx]=Me[Ex]=Me[xx]=Me[Ox]=!0;Me[nx]=Me[ax]=Me[gx]=Me[ix]=Me[yx]=Me[sx]=Me[ox]=Me[cx]=Me[lx]=Me[ux]=Me[fx]=Me[dx]=Me[hx]=Me[px]=Me[mx]=!1;function Ax(e){return rx(e)&&tx(e.length)&&!!Me[ex(e)]}var kx=Ax;function Cx(e){return function(t){return e(t)}}var Jn=Cx,Mo={exports:{}};Mo.exports;(function(e,t){var r=iy,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Mo,Mo.exports);var ff=Mo.exports,Tx=kx,Ix=Jn,Mh=ff,Uh=Mh&&Mh.isTypedArray,Px=Uh?Ix(Uh):Tx,us=Px,Nx=py,jx=ls,Rx=ft,Fx=Qa,Dx=$c,Mx=us,Ux=Object.prototype,Bx=Ux.hasOwnProperty;function Lx(e,t){var r=Rx(e),n=!r&&jx(e),a=!r&&!n&&Fx(e),i=!r&&!n&&!a&&Mx(e),s=r||n||a||i,o=s?Nx(e.length,String):[],c=o.length;for(var l in e)(t||Bx.call(e,l))&&!(s&&(l=="length"||a&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Dx(l,c)))&&o.push(l);return o}var gy=Lx,zx=Object.prototype;function Vx(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||zx;return e===r}var Sc=Vx,qx=oy,Hx=qx(Object.keys,Object),Kx=Hx,Gx=Sc,Wx=Kx,Zx=Object.prototype,Yx=Zx.hasOwnProperty;function Xx(e){if(!Gx(e))return Wx(e);var t=[];for(var r in Object(e))Yx.call(e,r)&&r!="constructor"&&t.push(r);return t}var yy=Xx,Jx=gc,Qx=uf;function e2(e){return e!=null&&Qx(e.length)&&!Jx(e)}var Qn=e2,t2=gy,r2=yy,n2=Qn;function a2(e){return n2(e)?t2(e):r2(e)}var fs=a2,i2=dy,s2=lf,o2=fs;function c2(e){return i2(e,o2,s2)}var vy=c2,Bh=vy,l2=1,u2=Object.prototype,f2=u2.hasOwnProperty;function d2(e,t,r,n,a,i){var s=r&l2,o=Bh(e),c=o.length,l=Bh(t),u=l.length;if(c!=u&&!s)return!1;for(var f=c;f--;){var h=o[f];if(!(s?h in t:f2.call(t,h)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var m=!0;i.set(e,t),i.set(t,e);for(var y=s;++f<c;){h=o[f];var g=e[h],v=t[h];if(n)var w=s?n(v,g,h,t,e,i):n(g,v,h,e,t,i);if(!(w===void 0?g===v||a(g,v,r,n,i):w)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var _=e.constructor,b=t.constructor;_!=b&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof b=="function"&&b instanceof b)&&(m=!1)}return i.delete(e),i.delete(t),m}var h2=d2,p2=Xn,m2=Pr,g2=p2(m2,"DataView"),y2=g2,v2=Xn,w2=Pr,_2=v2(w2,"Promise"),b2=_2,$2=Xn,S2=Pr,E2=$2(S2,"Set"),wy=E2,x2=Xn,O2=Pr,A2=x2(O2,"WeakMap"),k2=A2,cu=y2,lu=af,uu=b2,fu=wy,du=k2,_y=Wr,ei=ly,Lh="[object Map]",C2="[object Object]",zh="[object Promise]",Vh="[object Set]",qh="[object WeakMap]",Hh="[object DataView]",T2=ei(cu),I2=ei(lu),P2=ei(uu),N2=ei(fu),j2=ei(du),Nn=_y;(cu&&Nn(new cu(new ArrayBuffer(1)))!=Hh||lu&&Nn(new lu)!=Lh||uu&&Nn(uu.resolve())!=zh||fu&&Nn(new fu)!=Vh||du&&Nn(new du)!=qh)&&(Nn=function(e){var t=_y(e),r=t==C2?e.constructor:void 0,n=r?ei(r):"";if(n)switch(n){case T2:return Hh;case I2:return Lh;case P2:return zh;case N2:return Vh;case j2:return qh}return t});var ds=Nn,pl=wc,R2=uy,F2=SE,D2=h2,Kh=ds,Gh=ft,Wh=Qa,M2=us,U2=1,Zh="[object Arguments]",Yh="[object Array]",eo="[object Object]",B2=Object.prototype,Xh=B2.hasOwnProperty;function L2(e,t,r,n,a,i){var s=Gh(e),o=Gh(t),c=s?Yh:Kh(e),l=o?Yh:Kh(t);c=c==Zh?eo:c,l=l==Zh?eo:l;var u=c==eo,f=l==eo,h=c==l;if(h&&Wh(e)){if(!Wh(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new pl),s||M2(e)?R2(e,t,r,n,a,i):F2(e,t,c,r,n,a,i);if(!(r&U2)){var d=u&&Xh.call(e,"__wrapped__"),p=f&&Xh.call(t,"__wrapped__");if(d||p){var m=d?e.value():e,y=p?t.value():t;return i||(i=new pl),a(m,y,r,n,i)}}return h?(i||(i=new pl),D2(e,t,r,n,a,i)):!1}var z2=L2,V2=z2,Jh=Xt;function by(e,t,r,n,a){return e===t?!0:e==null||t==null||!Jh(e)&&!Jh(t)?e!==e&&t!==t:V2(e,t,r,n,by,a)}var Ec=by,q2=Ec;function H2(e,t,r){r=typeof r=="function"?r:void 0;var n=r?r(e,t):void 0;return n===void 0?q2(e,t,void 0,r):!!n}var K2=H2;const G2=we(K2);function Ct(e,t){return G2(e,t,(r,n)=>{if(typeof r=="function"&&typeof n=="function")return!0})}var W2=Wr,Z2=Xt,Y2="[object Symbol]";function X2(e){return typeof e=="symbol"||Z2(e)&&W2(e)==Y2}var ti=X2,J2=ft,Q2=ti,eO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tO=/^\w*$/;function rO(e,t){if(J2(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Q2(e)?!0:tO.test(e)||!eO.test(e)||t!=null&&e in Object(t)}var df=rO,$y=sf,nO="Expected a function";function hf(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(nO);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(hf.Cache||$y),r}hf.Cache=$y;var aO=hf,iO=aO,sO=500;function oO(e){var t=iO(e,function(n){return r.size===sO&&r.clear(),n}),r=t.cache;return t}var cO=oO,lO=cO,uO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fO=/\\(\\)?/g,dO=lO(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(uO,function(r,n,a,i){t.push(a?i.replace(fO,"$1"):n||r)}),t}),Sy=dO;function hO(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Zr=hO,Qh=Ka,pO=Zr,mO=ft,gO=ti,yO=1/0,ep=Qh?Qh.prototype:void 0,tp=ep?ep.toString:void 0;function Ey(e){if(typeof e=="string")return e;if(mO(e))return pO(e,Ey)+"";if(gO(e))return tp?tp.call(e):"";var t=e+"";return t=="0"&&1/e==-yO?"-0":t}var vO=Ey,wO=vO;function _O(e){return e==null?"":wO(e)}var xy=_O,bO=ft,$O=df,SO=Sy,EO=xy;function xO(e,t){return bO(e)?e:$O(e,t)?[e]:SO(EO(e))}var ri=xO,OO=ti,AO=1/0;function kO(e){if(typeof e=="string"||OO(e))return e;var t=e+"";return t=="0"&&1/e==-AO?"-0":t}var ea=kO,CO=ri,TO=ea;function IO(e,t){t=CO(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[TO(t[r++])];return r&&r==n?e:void 0}var hs=IO,PO=hs;function NO(e,t,r){var n=e==null?void 0:PO(e,t);return n===void 0?r:n}var Oy=NO;const re=we(Oy);var jO=yy,RO=ds,FO=ls,DO=ft,MO=Qn,UO=Qa,BO=Sc,LO=us,zO="[object Map]",VO="[object Set]",qO=Object.prototype,HO=qO.hasOwnProperty;function KO(e){if(e==null)return!0;if(MO(e)&&(DO(e)||typeof e=="string"||typeof e.splice=="function"||UO(e)||LO(e)||FO(e)))return!e.length;var t=RO(e);if(t==zO||t==VO)return!e.size;if(BO(e))return!jO(e).length;for(var r in e)if(HO.call(e,r))return!1;return!0}var GO=KO;const bn=we(GO);var xc={},WO=/~/,ZO=/~[01]/g;function YO(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function Ay(e){return WO.test(e)?e.replace(ZO,YO):e}function XO(e,t,r){for(var n,a,i=1,s=t.length;i<s;){if(t[i]==="constructor"||t[i]==="prototype"||t[i]==="__proto__")return e;if(n=Ay(t[i++]),a=s>i,typeof e[n]>"u"&&(Array.isArray(e)&&n==="-"&&(n=e.length),a&&(t[i]!==""&&t[i]<1/0||t[i]==="-"?e[n]=[]:e[n]={})),!a)break;e=e[n]}var o=e[n];return r===void 0?delete e[n]:e[n]=r,o}function pf(e){if(typeof e=="string"){if(e=e.split("/"),e[0]==="")return e;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(e)){for(const t of e)if(typeof t!="string"&&typeof t!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function ky(e,t){if(typeof e!="object")throw new Error("Invalid input object.");t=pf(t);var r=t.length;if(r===1)return e;for(var n=1;n<r;){if(e=e[Ay(t[n++])],r===n)return e;if(typeof e!="object"||e===null)return}}function Cy(e,t,r){if(typeof e!="object")throw new Error("Invalid input object.");if(t=pf(t),t.length===0)throw new Error("Invalid JSON pointer for set.");return XO(e,t,r)}function JO(e){var t=pf(e);return{get:function(r){return ky(r,t)},set:function(r,n){return Cy(r,t,n)}}}xc.get=ky;xc.set=Cy;xc.compile=JO;function QO(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var mf=QO,eA=Xn,tA=function(){try{var e=eA(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ty=tA,rp=Ty;function rA(e,t,r){t=="__proto__"&&rp?rp(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var gf=rA,nA=gf,aA=Wa,iA=Object.prototype,sA=iA.hasOwnProperty;function oA(e,t,r){var n=e[t];(!(sA.call(e,t)&&aA(n,r))||r===void 0&&!(t in e))&&nA(e,t,r)}var yf=oA,cA=yf,lA=gf;function uA(e,t,r,n){var a=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var o=t[i],c=n?n(r[o],e[o],o,r,e):void 0;c===void 0&&(c=e[o]),a?lA(r,o,c):cA(r,o,c)}return r}var ni=uA,fA=ni,dA=fs;function hA(e,t){return e&&fA(t,dA(t),e)}var pA=hA;function mA(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var gA=mA,yA=jt,vA=Sc,wA=gA,_A=Object.prototype,bA=_A.hasOwnProperty;function $A(e){if(!yA(e))return wA(e);var t=vA(e),r=[];for(var n in e)n=="constructor"&&(t||!bA.call(e,n))||r.push(n);return r}var SA=$A,EA=gy,xA=SA,OA=Qn;function AA(e){return OA(e)?EA(e,!0):xA(e)}var ai=AA,kA=ni,CA=ai;function TA(e,t){return e&&kA(t,CA(t),e)}var IA=TA,Uo={exports:{}};Uo.exports;(function(e,t){var r=Pr,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var f=l.length,h=o?o(f):new l.constructor(f);return l.copy(h),h}e.exports=c})(Uo,Uo.exports);var Iy=Uo.exports;function PA(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Oc=PA,NA=ni,jA=lf;function RA(e,t){return NA(e,jA(e),t)}var FA=RA,DA=cf,MA=hc,UA=lf,BA=hy,LA=Object.getOwnPropertySymbols,zA=LA?function(e){for(var t=[];e;)DA(t,UA(e)),e=MA(e);return t}:BA,Py=zA,VA=ni,qA=Py;function HA(e,t){return VA(e,qA(e),t)}var KA=HA,GA=dy,WA=Py,ZA=ai;function YA(e){return GA(e,ZA,WA)}var Ny=YA,XA=Object.prototype,JA=XA.hasOwnProperty;function QA(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&JA.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var ek=QA,np=fy;function tk(e){var t=new e.constructor(e.byteLength);return new np(t).set(new np(e)),t}var vf=tk,rk=vf;function nk(e,t){var r=t?rk(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var ak=nk,ik=/\w*$/;function sk(e){var t=new e.constructor(e.source,ik.exec(e));return t.lastIndex=e.lastIndex,t}var ok=sk,ap=Ka,ip=ap?ap.prototype:void 0,sp=ip?ip.valueOf:void 0;function ck(e){return sp?Object(sp.call(e)):{}}var lk=ck,uk=vf;function fk(e,t){var r=t?uk(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var jy=fk,dk=vf,hk=ak,pk=ok,mk=lk,gk=jy,yk="[object Boolean]",vk="[object Date]",wk="[object Map]",_k="[object Number]",bk="[object RegExp]",$k="[object Set]",Sk="[object String]",Ek="[object Symbol]",xk="[object ArrayBuffer]",Ok="[object DataView]",Ak="[object Float32Array]",kk="[object Float64Array]",Ck="[object Int8Array]",Tk="[object Int16Array]",Ik="[object Int32Array]",Pk="[object Uint8Array]",Nk="[object Uint8ClampedArray]",jk="[object Uint16Array]",Rk="[object Uint32Array]";function Fk(e,t,r){var n=e.constructor;switch(t){case xk:return dk(e);case yk:case vk:return new n(+e);case Ok:return hk(e,r);case Ak:case kk:case Ck:case Tk:case Ik:case Pk:case Nk:case jk:case Rk:return gk(e,r);case wk:return new n;case _k:case Sk:return new n(e);case bk:return pk(e);case $k:return new n;case Ek:return mk(e)}}var Dk=Fk,Mk=jt,op=Object.create,Uk=function(){function e(){}return function(t){if(!Mk(t))return{};if(op)return op(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Ry=Uk,Bk=Ry,Lk=hc,zk=Sc;function Vk(e){return typeof e.constructor=="function"&&!zk(e)?Bk(Lk(e)):{}}var Fy=Vk,qk=ds,Hk=Xt,Kk="[object Map]";function Gk(e){return Hk(e)&&qk(e)==Kk}var Wk=Gk,Zk=Wk,Yk=Jn,cp=ff,lp=cp&&cp.isMap,Xk=lp?Yk(lp):Zk,Jk=Xk,Qk=ds,eC=Xt,tC="[object Set]";function rC(e){return eC(e)&&Qk(e)==tC}var nC=rC,aC=nC,iC=Jn,up=ff,fp=up&&up.isSet,sC=fp?iC(fp):aC,oC=sC,cC=wc,lC=mf,uC=yf,fC=pA,dC=IA,hC=Iy,pC=Oc,mC=FA,gC=KA,yC=vy,vC=Ny,wC=ds,_C=ek,bC=Dk,$C=Fy,SC=ft,EC=Qa,xC=Jk,OC=jt,AC=oC,kC=fs,CC=ai,TC=1,IC=2,PC=4,Dy="[object Arguments]",NC="[object Array]",jC="[object Boolean]",RC="[object Date]",FC="[object Error]",My="[object Function]",DC="[object GeneratorFunction]",MC="[object Map]",UC="[object Number]",Uy="[object Object]",BC="[object RegExp]",LC="[object Set]",zC="[object String]",VC="[object Symbol]",qC="[object WeakMap]",HC="[object ArrayBuffer]",KC="[object DataView]",GC="[object Float32Array]",WC="[object Float64Array]",ZC="[object Int8Array]",YC="[object Int16Array]",XC="[object Int32Array]",JC="[object Uint8Array]",QC="[object Uint8ClampedArray]",eT="[object Uint16Array]",tT="[object Uint32Array]",Re={};Re[Dy]=Re[NC]=Re[HC]=Re[KC]=Re[jC]=Re[RC]=Re[GC]=Re[WC]=Re[ZC]=Re[YC]=Re[XC]=Re[MC]=Re[UC]=Re[Uy]=Re[BC]=Re[LC]=Re[zC]=Re[VC]=Re[JC]=Re[QC]=Re[eT]=Re[tT]=!0;Re[FC]=Re[My]=Re[qC]=!1;function _o(e,t,r,n,a,i){var s,o=t&TC,c=t&IC,l=t&PC;if(r&&(s=a?r(e,n,a,i):r(e)),s!==void 0)return s;if(!OC(e))return e;var u=SC(e);if(u){if(s=_C(e),!o)return pC(e,s)}else{var f=wC(e),h=f==My||f==DC;if(EC(e))return hC(e,o);if(f==Uy||f==Dy||h&&!a){if(s=c||h?{}:$C(e),!o)return c?gC(e,dC(s,e)):mC(e,fC(s,e))}else{if(!Re[f])return a?e:{};s=bC(e,f,o)}}i||(i=new cC);var d=i.get(e);if(d)return d;i.set(e,s),AC(e)?e.forEach(function(y){s.add(_o(y,t,r,y,e,i))}):xC(e)&&e.forEach(function(y,g){s.set(g,_o(y,t,r,g,e,i))});var p=l?c?vC:yC:c?CC:kC,m=u?void 0:p(e);return lC(m||e,function(y,g){m&&(g=y,y=e[g]),uC(s,g,_o(y,t,r,g,e,i))}),s}var By=_o;function rT(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Ly=rT;function nT(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var aT=nT,iT=hs,sT=aT;function oT(e,t){return t.length<2?e:iT(e,sT(t,0,-1))}var cT=oT,lT=ri,uT=Ly,fT=cT,dT=ea;function hT(e,t){return t=lT(t,e),e=fT(e,t),e==null||delete e[dT(uT(t))]}var zy=hT,pT=Ga;function mT(e){return pT(e)?void 0:e}var gT=mT,dp=Ka,yT=ls,vT=ft,hp=dp?dp.isConcatSpreadable:void 0;function wT(e){return vT(e)||yT(e)||!!(hp&&e&&e[hp])}var _T=wT,bT=cf,$T=_T;function Vy(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=$T),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?Vy(o,t-1,r,n,a):bT(a,o):n||(a[a.length]=o)}return a}var Ac=Vy,ST=Ac;function ET(e){var t=e==null?0:e.length;return t?ST(e,1):[]}var wf=ET;function xT(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var qy=xT,OT=qy,pp=Math.max;function AT(e,t,r){return t=pp(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=pp(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),OT(e,this,o)}}var Hy=AT;function kT(e){return function(){return e}}var CT=kT;function TT(e){return e}var ps=TT,IT=CT,mp=Ty,PT=ps,NT=mp?function(e,t){return mp(e,"toString",{configurable:!0,enumerable:!1,value:IT(t),writable:!0})}:PT,jT=NT,RT=800,FT=16,DT=Date.now;function MT(e){var t=0,r=0;return function(){var n=DT(),a=FT-(n-r);if(r=n,a>0){if(++t>=RT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var UT=MT,BT=jT,LT=UT,zT=LT(BT),Ky=zT,VT=wf,qT=Hy,HT=Ky;function KT(e){return HT(qT(e,void 0,VT),e+"")}var Gy=KT,GT=Zr,WT=By,ZT=zy,YT=ri,XT=ni,JT=gT,QT=Gy,eI=Ny,tI=1,rI=2,nI=4,aI=QT(function(e,t){var r={};if(e==null)return r;var n=!1;t=GT(t,function(i){return i=YT(i,e),n||(n=i.length>1),i}),XT(e,eI(e),r),n&&(r=WT(r,tI|rI|nI,JT));for(var a=t.length;a--;)ZT(r,t[a]);return r}),iI=aI;const Bo=we(iI);function _f(e,t){const r=t[e];return[Bo(t,[e]),r]}function Wy(e,t={},r=[]){const n=e||"";let a;if(n.startsWith("#"))a=decodeURIComponent(n.substring(1));else throw new Error(`Could not find a definition for ${e}.`);const i=xc.get(t,a);if(i===void 0)throw new Error(`Could not find a definition for ${e}.`);const s=i[ct];if(s){if(r.includes(s)){if(r.length===1)throw new Error(`Definition for ${e} is a circular reference`);const[u,...f]=r,h=[...f,n,u].join(" -> ");throw new Error(`Definition for ${u} contains a circular reference through ${h}`)}const[o,c]=_f(ct,i),l=Wy(c,t,[...r,n]);return Object.keys(o).length>0?{...o,...l}:l}return i}function Zy(e,t={}){return Wy(e,t,[])}var sI=Object.prototype,oI=sI.hasOwnProperty;function cI(e,t){return e!=null&&oI.call(e,t)}var lI=cI,uI=ri,fI=ls,dI=ft,hI=$c,pI=uf,mI=ea;function gI(e,t,r){t=uI(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=mI(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&pI(a)&&hI(s,a)&&(dI(e)||fI(e)))}var Yy=gI,yI=lI,vI=Yy;function wI(e,t){return e!=null&&vI(e,t,yI)}var _I=wI;const bt=we(_I);var bI=Wr,$I=Xt,SI="[object Number]";function EI(e){return typeof e=="number"||$I(e)&&bI(e)==SI}var xI=EI;const Xy=we(xI);var OI=Wr,AI=ft,kI=Xt,CI="[object String]";function TI(e){return typeof e=="string"||!AI(e)&&kI(e)&&OI(e)==CI}var II=TI;const bf=we(II);function PI(e,t,r,n){var a=-1,i=e==null?0:e.length;for(n&&i&&(r=e[++a]);++a<i;)r=t(r,e[a],a,e);return r}var NI=PI;function jI(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var c=s[e?o:++a];if(r(i[c],c,i)===!1)break}return t}}var RI=jI,FI=RI,DI=FI(),Jy=DI,MI=Jy,UI=fs;function BI(e,t){return e&&MI(e,t,UI)}var Qy=BI,LI=Qn;function zI(e,t){return function(r,n){if(r==null)return r;if(!LI(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var VI=zI,qI=Qy,HI=VI,KI=HI(qI),$f=KI,GI=wc,WI=Ec,ZI=1,YI=2;function XI(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var c=o[0],l=e[c],u=o[1];if(s&&o[2]){if(l===void 0&&!(c in e))return!1}else{var f=new GI;if(n)var h=n(l,u,c,e,t,f);if(!(h===void 0?WI(u,l,ZI|YI,n,f):h))return!1}}return!0}var JI=XI,QI=jt;function eP(e){return e===e&&!QI(e)}var ev=eP,tP=ev,rP=fs;function nP(e){for(var t=rP(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,tP(a)]}return t}var aP=nP;function iP(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var tv=iP,sP=JI,oP=aP,cP=tv;function lP(e){var t=oP(e);return t.length==1&&t[0][2]?cP(t[0][0],t[0][1]):function(r){return r===e||sP(r,e,t)}}var uP=lP;function fP(e,t){return e!=null&&t in Object(e)}var dP=fP,hP=dP,pP=Yy;function mP(e,t){return e!=null&&pP(e,t,hP)}var rv=mP,gP=Ec,yP=Oy,vP=rv,wP=df,_P=ev,bP=tv,$P=ea,SP=1,EP=2;function xP(e,t){return wP(e)&&_P(t)?bP($P(e),t):function(r){var n=yP(r,e);return n===void 0&&n===t?vP(r,e):gP(t,n,SP|EP)}}var OP=xP;function AP(e){return function(t){return t==null?void 0:t[e]}}var kP=AP,CP=hs;function TP(e){return function(t){return CP(t,e)}}var IP=TP,PP=kP,NP=IP,jP=df,RP=ea;function FP(e){return jP(e)?PP(RP(e)):NP(e)}var DP=FP,MP=uP,UP=OP,BP=ps,LP=ft,zP=DP;function VP(e){return typeof e=="function"?e:e==null?BP:typeof e=="object"?LP(e)?UP(e[0],e[1]):MP(e):zP(e)}var Sf=VP;function qP(e,t,r,n,a){return a(e,function(i,s,o){r=n?(n=!1,i):t(r,i,s,o)}),r}var HP=qP,KP=NI,GP=$f,WP=Sf,ZP=HP,YP=ft;function XP(e,t,r){var n=YP(e)?KP:ZP,a=arguments.length<3;return n(e,WP(t),r,a,GP)}var JP=XP;const QP=we(JP);var eN=ps;function tN(e){return typeof e=="function"?e:eN}var nv=tN,rN=/\s/;function nN(e){for(var t=e.length;t--&&rN.test(e.charAt(t)););return t}var aN=nN,iN=aN,sN=/^\s+/;function oN(e){return e&&e.slice(0,iN(e)+1).replace(sN,"")}var cN=oN,lN=cN,gp=jt,uN=ti,yp=NaN,fN=/^[-+]0x[0-9a-f]+$/i,dN=/^0b[01]+$/i,hN=/^0o[0-7]+$/i,pN=parseInt;function mN(e){if(typeof e=="number")return e;if(uN(e))return yp;if(gp(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=gp(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lN(e);var r=dN.test(e);return r||hN.test(e)?pN(e.slice(2),r?2:8):fN.test(e)?yp:+e}var gN=mN,yN=gN,vp=1/0,vN=17976931348623157e292;function wN(e){if(!e)return e===0?e:0;if(e=yN(e),e===vp||e===-vp){var t=e<0?-1:1;return t*vN}return e===e?e:0}var _N=wN,bN=_N;function $N(e){var t=bN(e),r=t%1;return t===t?r?t-r:t:0}var SN=$N,EN=py,xN=nv,ON=SN,AN=9007199254740991,ml=4294967295,kN=Math.min;function CN(e,t){if(e=ON(e),e<1||e>AN)return[];var r=ml,n=kN(e,ml);t=xN(t),e-=ml;for(var a=EN(n,t);++r<e;)t(r);return a}var TN=CN;const av=we(TN);function iv(e,t,r){var n;if(e&&r){const a=re(e,r);if(a===void 0)return;for(let i=0;i<t.length;i++){const s=t[i],o=re(s,[Ye,r],{});if(!(o.type==="object"||o.type==="array")&&(o.const===a||!((n=o.enum)===null||n===void 0)&&n.includes(a)))return i}}}function sv(e,t,r,n,a){if(t===void 0)return 0;const i=iv(t,r,a);if(Xy(i))return i;for(let s=0;s<r.length;s++){const o=r[s];if(a&&bt(o,[Ye,a])){const c=re(t,a),l=re(o,[Ye,a],{});if(e.isValid(l,c,n))return s}else if(o[Ye]){const c={anyOf:Object.keys(o[Ye]).map(u=>({required:[u]}))};let l;if(o.anyOf){const{...u}=o;u.allOf?u.allOf=u.allOf.slice():u.allOf=[],u.allOf.push(c),l=u}else l=Object.assign({},o,c);if(delete l.required,e.isValid(l,t,n))return s}else if(e.isValid(o,t,n))return s}return 0}function Ef(e,t,r,n,a){return sv(e,t,r,n,a)}var IN=Ec;function PN(e,t){return IN(e,t)}var xf=PN;const zn=we(xf);var NN=yf,jN=ri,RN=$c,wp=jt,FN=ea;function DN(e,t,r,n){if(!wp(e))return e;t=jN(t,e);for(var a=-1,i=t.length,s=i-1,o=e;o!=null&&++a<i;){var c=FN(t[a]),l=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(a!=s){var u=o[c];l=n?n(u,c,o):void 0,l===void 0&&(l=wp(u)?u:RN(t[a+1])?[]:{})}NN(o,c,l),o=o[c]}return e}var ov=DN,MN=ov;function UN(e,t,r){return e==null?e:MN(e,t,r)}var BN=UN;const vt=we(BN);var LN=mf,zN=Ry,VN=Qy,qN=Sf,HN=hc,KN=ft,GN=Qa,WN=gc,ZN=jt,YN=us;function XN(e,t,r){var n=KN(e),a=n||GN(e)||YN(e);if(t=qN(t),r==null){var i=e&&e.constructor;a?r=n?new i:[]:ZN(e)?r=WN(i)?zN(HN(e)):{}:r={}}return(a?LN:VN)(e,function(s,o,c){return t(r,s,o,c)}),r}var JN=XN;const QN=we(JN);var ej=gf,tj=Wa;function rj(e,t,r){(r!==void 0&&!tj(e[t],r)||r===void 0&&!(t in e))&&ej(e,t,r)}var cv=rj,nj=Qn,aj=Xt;function ij(e){return aj(e)&&nj(e)}var kc=ij;function sj(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var lv=sj,oj=ni,cj=ai;function lj(e){return oj(e,cj(e))}var uj=lj,_p=cv,fj=Iy,dj=jy,hj=Oc,pj=Fy,bp=ls,$p=ft,mj=kc,gj=Qa,yj=gc,vj=jt,wj=Ga,_j=us,Sp=lv,bj=uj;function $j(e,t,r,n,a,i,s){var o=Sp(e,r),c=Sp(t,r),l=s.get(c);if(l){_p(e,r,l);return}var u=i?i(o,c,r+"",e,t,s):void 0,f=u===void 0;if(f){var h=$p(c),d=!h&&gj(c),p=!h&&!d&&_j(c);u=c,h||d||p?$p(o)?u=o:mj(o)?u=hj(o):d?(f=!1,u=fj(c,!0)):p?(f=!1,u=dj(c,!0)):u=[]:wj(c)||bp(c)?(u=o,bp(o)?u=bj(o):(!vj(o)||yj(o))&&(u=pj(c))):f=!1}f&&(s.set(c,u),a(u,c,n,i,s),s.delete(c)),_p(e,r,u)}var Sj=$j,Ej=wc,xj=cv,Oj=Jy,Aj=Sj,kj=jt,Cj=ai,Tj=lv;function uv(e,t,r,n,a){e!==t&&Oj(t,function(i,s){if(a||(a=new Ej),kj(i))Aj(e,t,s,r,uv,n,a);else{var o=n?n(Tj(e,s),i,s+"",e,t,a):void 0;o===void 0&&(o=i),xj(e,s,o)}},Cj)}var Of=uv,Ij=ps,Pj=Hy,Nj=Ky;function jj(e,t){return Nj(Pj(e,t,Ij),e+"")}var On=jj,Rj=Wa,Fj=Qn,Dj=$c,Mj=jt;function Uj(e,t,r){if(!Mj(r))return!1;var n=typeof t;return(n=="number"?Fj(r)&&Dj(t,r.length):n=="string"&&t in r)?Rj(r[t],e):!1}var Af=Uj,Bj=On,Lj=Af;function zj(e){return Bj(function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,s=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,s&&Lj(r[0],r[1],s)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var o=r[n];o&&e(t,o,n,i)}return t})}var fv=zj,Vj=Of,qj=fv,Hj=qj(function(e,t,r){Vj(e,t,r)}),Kj=Hj;const Gj=we(Kj);var Wj=Ac,Zj=1/0;function Yj(e){var t=e==null?0:e.length;return t?Wj(e,Zj):[]}var kf=Yj;const Xj=we(kf);function Jj(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Qj=Jj;function eR(e){return e!==e}var tR=eR;function rR(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var nR=rR,aR=Qj,iR=tR,sR=nR;function oR(e,t,r){return t===t?sR(e,t,r):aR(e,iR,r)}var dv=oR,cR=dv;function lR(e,t){var r=e==null?0:e.length;return!!r&&cR(e,t,0)>-1}var Cf=lR;function uR(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Tf=uR;function fR(){}var dR=fR,gl=wy,hR=dR,pR=of,mR=1/0,gR=gl&&1/pR(new gl([,-0]))[1]==mR?function(e){return new gl(e)}:hR,yR=gR,vR=_c,wR=Cf,_R=Tf,bR=bc,$R=yR,SR=of,ER=200;function xR(e,t,r){var n=-1,a=wR,i=e.length,s=!0,o=[],c=o;if(r)s=!1,a=_R;else if(i>=ER){var l=t?null:$R(e);if(l)return SR(l);s=!1,a=bR,c=new vR}else c=t?[]:o;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),o.push(u)}else a(c,f,r)||(c!==o&&c.push(f),o.push(u))}return o}var If=xR,OR=If;function AR(e){return e&&e.length?OR(e):[]}var Cc=AR;const kR=we(Cc);var CR=By,TR=1,IR=4;function PR(e){return CR(e,TR|IR)}var hv=PR;const pv=we(hv);var NR=$f,jR=Qn;function RR(e,t){var r=-1,n=jR(e)?Array(e.length):[];return NR(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var FR=RR;function DR(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var MR=DR,Ep=ti;function UR(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=Ep(e),s=t!==void 0,o=t===null,c=t===t,l=Ep(t);if(!o&&!l&&!i&&e>t||i&&s&&c&&!o&&!l||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!l&&e<t||l&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!c)return-1}return 0}var BR=UR,LR=BR;function zR(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var c=LR(a[n],i[n]);if(c){if(n>=o)return c;var l=r[n];return c*(l=="desc"?-1:1)}}return e.index-t.index}var VR=zR,yl=Zr,qR=hs,HR=Sf,KR=FR,GR=MR,WR=Jn,ZR=VR,YR=ps,XR=ft;function JR(e,t,r){t.length?t=yl(t,function(i){return XR(i)?function(s){return qR(s,i.length===1?i[0]:i)}:i}):t=[YR];var n=-1;t=yl(t,WR(HR));var a=KR(e,function(i,s,o){var c=yl(t,function(l){return l(i)});return{criteria:c,index:++n,value:i}});return GR(a,function(i,s){return ZR(i,s,r)})}var QR=JR,eF=Ac,tF=QR,rF=On,xp=Af,nF=rF(function(e,t){if(e==null)return[];var r=t.length;return r>1&&xp(e,t[0],t[1])?t=[]:r>2&&xp(t[0],t[1],t[2])&&(t=[t[0]]),tF(e,eF(t,1),[])}),mv=nF,aF=If;function iF(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?aF(e,void 0,t):[]}var Pf=iF,sF=On,oF=Wa,cF=Af,lF=ai,gv=Object.prototype,uF=gv.hasOwnProperty,fF=sF(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&cF(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],s=lF(i),o=-1,c=s.length;++o<c;){var l=s[o],u=e[l];(u===void 0||oF(u,gv[l])&&!uF.call(e,l))&&(e[l]=i[l])}return e}),dF=fF,hF=_c,pF=Cf,mF=Tf,gF=Zr,yF=Jn,Op=bc,vF=Math.min;function wF(e,t,r){for(var n=r?mF:pF,a=e[0].length,i=e.length,s=i,o=Array(i),c=1/0,l=[];s--;){var u=e[s];s&&t&&(u=gF(u,yF(t))),c=vF(u.length,c),o[s]=!r&&(t||a>=120&&u.length>=120)?new hF(s&&u):void 0}u=e[0];var f=-1,h=o[0];e:for(;++f<a&&l.length<c;){var d=u[f],p=t?t(d):d;if(d=r||d!==0?d:0,!(h?Op(h,p):n(l,p,r))){for(s=i;--s;){var m=o[s];if(!(m?Op(m,p):n(e[s],p,r)))continue e}h&&h.push(p),l.push(d)}}return l}var yv=wF,_F=kc;function bF(e){return _F(e)?e:[]}var vv=bF,$F=Zr,SF=yv,EF=On,xF=vv,OF=Ly,AF=EF(function(e){var t=OF(e),r=$F(e,xF);return t=typeof t=="function"?t:void 0,t&&r.pop(),r.length&&r[0]===e[0]?SF(r,void 0,t):[]}),wv=AF,kF=Wr,CF=Xt,TF="[object Boolean]";function IF(e){return e===!0||e===!1||CF(e)&&kF(e)==TF}var PF=IF,lr=xf,NF=mv,Nf=Cc,Ap=Pf,jF=dF,RF=wv,Lo=Ga,vl=PF,kp=e=>Array.isArray(e)?e:[e],Kt=e=>e===void 0,to=e=>Lo(e)||Array.isArray(e)?Object.keys(e):[],Sa=(e,t)=>e.hasOwnProperty(t),Pa=e=>NF(Nf(e)),Cp=e=>Kt(e)||Array.isArray(e)&&e.length===0,FF=(e,t,r,n)=>t&&Sa(t,r)&&e&&Sa(e,r)&&n(e[r],t[r]),wl=(e,t)=>Kt(e)&&t===0||Kt(t)&&e===0||lr(e,t),DF=(e,t)=>Kt(e)&&t===!1||Kt(t)&&e===!1||lr(e,t),Tp=e=>Kt(e)||lr(e,{})||e===!0,ro=e=>Kt(e)||lr(e,{}),Ip=e=>Kt(e)||Lo(e)||e===!0||e===!1;function Pp(e,t){return Cp(e)&&Cp(t)?!0:lr(Pa(e),Pa(t))}function MF(e,t){return e=kp(e),t=kp(t),lr(Pa(e),Pa(t))}function bo(e,t,r,n){var a=Nf(to(e).concat(to(t)));return ro(e)&&ro(t)?!0:ro(e)&&to(t).length||ro(t)&&to(e).length?!1:a.every(function(i){var s=e[i],o=t[i];return Array.isArray(s)&&Array.isArray(o)?lr(Pa(e),Pa(t)):Array.isArray(s)&&!Array.isArray(o)||Array.isArray(o)&&!Array.isArray(s)?!1:FF(e,t,i,n)})}function UF(e,t,r,n){return Lo(e)&&Lo(t)?n(e,t):Array.isArray(e)&&Array.isArray(t)?bo(e,t,r,n):lr(e,t)}function _l(e,t,r,n){var a=Ap(e,n),i=Ap(t,n),s=RF(a,i,n);return s.length===Math.max(a.length,i.length)}var BF={title:lr,uniqueItems:DF,minLength:wl,minItems:wl,minProperties:wl,required:Pp,enum:Pp,type:MF,items:UF,anyOf:_l,allOf:_l,oneOf:_l,properties:bo,patternProperties:bo,dependencies:bo},LF=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],zF=["additionalProperties","additionalItems","contains","propertyNames","not"];function hu(e,t,r){if(r=jF(r,{ignore:[]}),Tp(e)&&Tp(t))return!0;if(!Ip(e)||!Ip(t))throw new Error("Either of the values are not a JSON schema.");if(e===t)return!0;if(vl(e)&&vl(t))return e===t;if(e===void 0&&t===!1||t===void 0&&e===!1||Kt(e)&&!Kt(t)||!Kt(e)&&Kt(t))return!1;var n=Nf(Object.keys(e).concat(Object.keys(t)));if(r.ignore.length&&(n=n.filter(i=>r.ignore.indexOf(i)===-1)),!n.length)return!0;function a(i,s){return hu(i,s,r)}return n.every(function(i){var s=e[i],o=t[i];if(zF.indexOf(i)!==-1)return hu(s,o,r);var c=BF[i];if(c||(c=lr),lr(s,o))return!0;if(LF.indexOf(i)===-1&&(!Sa(e,i)&&Sa(t,i)||Sa(e,i)&&!Sa(t,i)))return s===o;var l=c(s,o,i,a);if(!vl(l))throw new Error("Comparer must return true or false");return l})}var jf=hu;function VF(e){return Object.prototype.toString.call(e)==="[object Array]"}var Rf=Array.isArray||VF;function qF(e){return(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")&&e.valueOf()===e.valueOf()}var HF=qF,KF=HF;function GF(e){return KF(e)&&e%1===0}var WF=GF,ZF=Rf,YF=WF;function XF(e){var t;if(!ZF(e)||(t=e.length,!t))return!1;for(var r=0;r<t;r++)if(!YF(e[r]))return!1;return!0}var _v=XF;function JF(e){return typeof e=="function"}var bv=JF,QF=Rf,Np=_v,eD=bv,no=Math.pow(2,31)-1;function jp(e,t){var r=1,n;if(e===0)return t;if(t===0)return e;for(;e%2===0&&t%2===0;)e=e/2,t=t/2,r=r*2;for(;e%2===0;)e=e/2;for(;t;){for(;t%2===0;)t=t/2;e>t&&(n=t,t=e,e=n),t=t-e}return r*e}function Rp(e,t){var r=0,n;if(e===0)return t;if(t===0)return e;for(;!(e&1)&&!(t&1);)e>>>=1,t>>>=1,r++;for(;!(e&1);)e>>>=1;for(;t;){for(;!(t&1);)t>>>=1;e>t&&(n=t,t=e,e=n),t=t-e}return e<<r}function tD(){var e=arguments.length,t,r,n,a,i,s,o;for(t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if(Np(t)){if(e===2)return i=t[0],s=t[1],i<0&&(i=-i),s<0&&(s=-s),i<=no&&s<=no?Rp(i,s):jp(i,s);n=t}else if(QF(t[0]))if(e>1){if(n=t[0],r=t[1],!eD(r))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+r+"`.")}else n=t[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+t[0]+"`.");if(a=n.length,a<2)return null;if(r){for(i=new Array(a),o=0;o<a;o++)i[o]=r(n[o],o);n=i}if(e<3&&!Np(n))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+n+"`.");for(o=0;o<a;o++)i=n[o],i<0&&(n[o]=-i);for(i=n[0],o=1;o<a;o++)s=n[o],s<=no&&i<=no?i=Rp(i,s):i=jp(i,s);return i}var rD=tD,Fp=rD,nD=Rf,Dp=_v,aD=bv;function iD(){var e=arguments.length,t,r,n,a,i,s,o;for(t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if(Dp(t)){if(e===2)return i=t[0],s=t[1],i<0&&(i=-i),s<0&&(s=-s),i===0||s===0?0:i/Fp(i,s)*s;n=t}else if(nD(t[0]))if(e>1){if(n=t[0],r=t[1],!aD(r))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+r+"`.")}else n=t[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+t[0]+"`.");if(a=n.length,a<2)return null;if(r){for(i=new Array(a),o=0;o<a;o++)i[o]=r(n[o],o);n=i}if(e<3&&!Dp(n))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+n+"`.");for(o=0;o<a;o++)i=n[o],i<0&&(n[o]=-i);for(i=n[0],o=1;o<a;o++){if(s=n[o],i===0||s===0)return 0;i=i/Fp(i,s)*s}return i}var sD=iD,oD=Of,Mp=jt;function $v(e,t,r,n,a,i){return Mp(e)&&Mp(t)&&(i.set(t,e),oD(e,t,void 0,$v,i),i.delete(t)),e}var cD=$v,lD=Of,uD=fv,fD=uD(function(e,t,r,n){lD(e,t,r,n)}),dD=fD,hD=qy,pD=On,mD=cD,gD=dD,yD=pD(function(e){return e.push(void 0,mD),hD(gD,void 0,e)}),vD=yD,wD=Zr,_D=yv,bD=On,$D=vv,SD=bD(function(e){var t=wD(e,$D);return t.length&&t[0]===e[0]?_D(t):[]}),ED=SD;function xD(e,t,r,n){for(var a=r-1,i=e.length;++a<i;)if(n(e[a],t))return a;return-1}var OD=xD,AD=Zr,kD=dv,CD=OD,TD=Jn,ID=Oc,PD=Array.prototype,Up=PD.splice;function ND(e,t,r,n){var a=n?CD:kD,i=-1,s=t.length,o=e;for(e===t&&(t=ID(t)),r&&(o=AD(e,TD(r)));++i<s;)for(var c=0,l=t[i],u=r?r(l):l;(c=a(o,u,c,n))>-1;)o!==e&&Up.call(o,c,1),Up.call(e,c,1);return e}var jD=ND,RD=jD;function FD(e,t){return e&&e.length&&t&&t.length?RD(e,t):e}var DD=FD,MD=mf,UD=$f,BD=nv,LD=ft;function zD(e,t){var r=LD(e)?MD:UD;return r(e,BD(t))}var Sv=zD,VD=_c,qD=Cf,HD=Tf,KD=Zr,GD=Jn,WD=bc,ZD=200;function YD(e,t,r,n){var a=-1,i=qD,s=!0,o=e.length,c=[],l=t.length;if(!o)return c;r&&(t=KD(t,GD(r))),n?(i=HD,s=!1):t.length>=ZD&&(i=WD,s=!1,t=new VD(t));e:for(;++a<o;){var u=e[a],f=r==null?u:r(u);if(u=n||u!==0?u:0,s&&f===f){for(var h=l;h--;)if(t[h]===f)continue e;c.push(u)}else i(t,f,n)||c.push(u)}return c}var XD=YD,JD=XD,QD=On,e3=kc,t3=QD(function(e,t){return e3(e)?JD(e,t):[]}),r3=t3;const n3=wf,a3=kf,Ev=Ga,i3=Cc,s3=Pf,o3=r3;function c3(e){for(const t in e)xv(e,t)&&Ov(e[t])&&delete e[t];return e}const l3=e=>i3(a3(e.map(Ff))),u3=(e,t)=>e.map(r=>r&&r[t]),xv=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Ff=e=>Ev(e)||Array.isArray(e)?Object.keys(e):[],f3=e=>e!==void 0,d3=e=>Ev(e)||e===!0||e===!1,Ov=e=>!Ff(e).length&&e!==!1&&e!==!0,h3=(e,...t)=>o3.apply(null,[e].concat(n3(t)));var Av={allUniqueKeys:l3,deleteUndefinedProps:c3,getValues:u3,has:xv,isEmptySchema:Ov,isSchema:d3,keys:Ff,notUndefined:f3,uniqWith:s3,withoutArr:h3};const p3=jf,m3=Sv,{allUniqueKeys:g3,deleteUndefinedProps:y3,getValues:v3,keys:xi,notUndefined:w3,uniqWith:_3,withoutArr:Bp}=Av;function b3(e){m3(e,function(t,r){t===!1&&delete e[r]})}function Lp(e,t){return g3(e).reduce(function(n,a){const i=v3(e,a),s=_3(i.filter(w3),p3);return n[a]=t(s,a),n},{})}var $3={keywords:["properties","patternProperties","additionalProperties"],resolver(e,t,r,n){n.ignoreAdditionalProperties||(e.forEach(function(i){const s=e.filter(u=>u!==i),o=xi(i.properties),l=xi(i.patternProperties).map(u=>new RegExp(u));s.forEach(function(u){const f=xi(u.properties),h=f.filter(p=>l.some(m=>m.test(p)));Bp(f,o,h).forEach(function(p){u.properties[p]=r.properties([u.properties[p],i.additionalProperties],p)})})}),e.forEach(function(i){const s=e.filter(c=>c!==i),o=xi(i.patternProperties);i.additionalProperties===!1&&s.forEach(function(c){const l=xi(c.patternProperties);Bp(l,o).forEach(f=>delete c.patternProperties[f])})}));const a={additionalProperties:r.additionalProperties(e.map(i=>i.additionalProperties)),patternProperties:Lp(e.map(i=>i.patternProperties),r.patternProperties),properties:Lp(e.map(i=>i.properties),r.properties)};return a.additionalProperties===!1&&b3(a.properties),y3(a)}};const S3=jf,E3=Sv,{allUniqueKeys:x3,deleteUndefinedProps:O3,has:A3,isSchema:kv,notUndefined:Cv,uniqWith:k3}=Av;function C3(e){E3(e,function(t,r){t===!1&&e.splice(r,1)})}function T3(e,t){return e.map(function(r){if(r)if(Array.isArray(r.items)){const n=r.items[t];if(kv(n))return n;if(A3(r,"additionalItems"))return r.additionalItems}else return r.items})}function I3(e){return e.map(function(t){if(t)return Array.isArray(t.items)?t.additionalItems:t.items})}function P3(e,t,r){return x3(r).reduce(function(a,i){const s=T3(e,i),o=k3(s.filter(Cv),S3);return a[i]=t(o,i),a},[])}var N3={keywords:["items","additionalItems"],resolver(e,t,r){const n=e.map(o=>o.items),a=n.filter(Cv),i={};a.every(kv)?i.items=r.items(n):i.items=P3(e,r.items,n);let s;return a.every(Array.isArray)?s=e.map(o=>o.additionalItems):a.some(Array.isArray)&&(s=I3(e)),s&&(i.additionalItems=r.additionalItems(s)),i.additionalItems===!1&&Array.isArray(i.items)&&C3(i.items),O3(i)}};const Tv=hv,zo=jf,j3=sD,R3=vD,Iv=wf,Df=kf,F3=ED,D3=wv,pu=xf,Na=Ga,M3=DD,Pv=mv,Mf=Cc,Oa=Pf,Nv=$3,jv=N3,ao=(e,t)=>e.indexOf(t)!==-1,U3=e=>Na(e)||e===!0||e===!1,B3=e=>e===!1,Rv=e=>e===!0,Tc=(e,t,r)=>r(e),Fv=e=>Pv(Mf(Df(e))),Vo=e=>e!==void 0,Dv=e=>Mf(Df(e.map(K3))),ii=e=>e[0],L3=e=>Fv(e),ms=e=>Math.max.apply(Math,e),gs=e=>Math.min.apply(Math,e),z3=e=>e.some(Rv),V3=e=>Oa(Iv(e),pu);function q3(e){return function(t,r){return zo({[e]:t},{[e]:r})}}function Mv(e){let{allOf:t=[],...r}=e;return r=Na(e)?r:e,[r,...t.map(Mv)]}function Uv(e,t){return e.map(r=>r&&r[t])}function H3(e,t){return e.map(function(r,n){try{return t(r,n)}catch{return}}).filter(Vo)}function K3(e){return Na(e)||Array.isArray(e)?Object.keys(e):[]}function mu(e,t){if(t=t||[],!e.length)return t;const r=e.slice(0).shift(),n=e.slice(1);return t.length?mu(n,Iv(t.map(a=>r.map(i=>[i].concat(a))))):mu(n,r.map(a=>a))}function Bv(e,t){let r;try{r=e.map(function(n){return JSON.stringify(n,null,2)}).join(`
`)}catch{r=e.join(", ")}throw new Error('Could not resolve values for path:"'+t.join(".")+`". They are probably incompatible. Values: 
`+r)}function G3(e,t,r,n,a,i){if(e.length){const s=a.complexResolvers[t];if(!s||!s.resolver)throw new Error("No resolver found for "+t);const o=r.map(f=>e.reduce((h,d)=>(f[d]!==void 0&&(h[d]=f[d]),h),{})),c=Oa(o,zo),l=s.keywords.reduce((f,h)=>({...f,[h]:(d,p=[])=>n(d,null,i.concat(h,p))}),{}),u=s.resolver(c,i.concat(t),l,a);return Na(u)||Bv(c,i.concat(t)),u}}function W3(e){return{required:e}}const Z3=["properties","patternProperties","definitions","dependencies"],Y3=["anyOf","oneOf"],X3=["additionalProperties","additionalItems","contains","propertyNames","not","items"],ke={type(e){if(e.some(Array.isArray)){const t=e.map(function(n){return Array.isArray(n)?n:[n]}),r=F3.apply(null,t);if(r.length===1)return r[0];if(r.length>1)return Mf(r)}},dependencies(e,t,r){return Dv(e).reduce(function(a,i){const s=Uv(e,i);let o=Oa(s.filter(Vo),pu);const c=o.filter(Array.isArray);if(c.length){if(c.length===o.length)a[i]=Fv(o);else{const l=o.filter(U3),u=c.map(W3);a[i]=r(l.concat(u),i)}return a}return o=Oa(o,zo),a[i]=r(o,i),a},{})},oneOf(e,t,r){const n=mu(Tv(e)),a=H3(n,r),i=Oa(a,zo);if(i.length)return i},not(e){return{anyOf:e}},pattern(e){return e.map(t=>"(?="+t+")").join("")},multipleOf(e){let t=e.slice(0),r=1;for(;t.some(n=>!Number.isInteger(n));)t=t.map(n=>n*10),r=r*10;return j3(t)/r},enum(e){const t=D3.apply(null,e.concat(pu));if(t.length)return Pv(t)}};ke.$id=ii;ke.$ref=ii;ke.$schema=ii;ke.additionalItems=Tc;ke.additionalProperties=Tc;ke.anyOf=ke.oneOf;ke.contains=Tc;ke.default=ii;ke.definitions=ke.dependencies;ke.description=ii;ke.examples=V3;ke.exclusiveMaximum=gs;ke.exclusiveMinimum=ms;ke.items=jv;ke.maximum=gs;ke.maxItems=gs;ke.maxLength=gs;ke.maxProperties=gs;ke.minimum=ms;ke.minItems=ms;ke.minLength=ms;ke.minProperties=ms;ke.properties=Nv;ke.propertyNames=Tc;ke.required=L3;ke.title=ii;ke.uniqueItems=z3;const J3={properties:Nv,items:jv};function Uf(e,t,r){t=R3(t,{ignoreAdditionalProperties:!1,resolvers:ke,complexResolvers:J3,deep:!0});const n=Object.entries(t.complexResolvers);function a(o,c,l){o=Tv(o.filter(Vo)),l=l||[];const u=Na(c)?c:{};if(!o.length)return;if(o.some(B3))return!1;if(o.every(Rv))return!0;o=o.filter(Na);const f=Dv(o);if(t.deep&&ao(f,"allOf"))return Uf({allOf:o},t);const h=n.map(([d,p])=>f.filter(m=>p.keywords.includes(m)));return h.forEach(d=>M3(f,d)),f.forEach(function(d){const p=Uv(o,d),m=Oa(p.filter(Vo),q3(d));if(m.length===1&&ao(Y3,d))u[d]=m[0].map(y=>a([y],y));else if(m.length===1&&!ao(Z3,d)&&!ao(X3,d))u[d]=m[0];else{const y=t.resolvers[d]||t.resolvers.defaultResolver;if(!y)throw new Error("No resolver found for key "+d+". You can provide a resolver for this keyword in the options, or provide a default resolver.");const g=(v,w=[])=>a(v,null,l.concat(d,w));u[d]=y(m,l.concat(d),g,t),u[d]===void 0?Bv(m,l.concat(d)):u[d]===void 0&&delete u[d]}}),n.reduce((d,[p,m],y)=>({...d,...G3(h[y],p,o,a,t,l)}),u)}const i=Df(Mv(e));return a(i)}Uf.options={resolvers:ke};var Q3=Uf;const eM=we(Q3);function ja(e){let t;const r=re(e,"discriminator.propertyName",void 0);return bf(r)?t=r:r!==void 0&&console.warn(`Expecting discriminator to be a string, got "${typeof r}" instead`),t}function Zi(e){return Array.isArray(e)?"array":typeof e=="string"?"string":e==null?"null":typeof e=="boolean"?"boolean":isNaN(e)?typeof e=="object"?"object":"string":"number"}var tM=Ac,rM=On,nM=If,aM=kc,iM=rM(function(e){return nM(tM(e,1,aM,!0))}),sM=iM;const oM=we(sM);function $n(e){let{type:t}=e;return!t&&e.const?Zi(e.const):!t&&e.enum?"string":!t&&(e.properties||e.additionalProperties)?"object":(Array.isArray(t)&&(t.length===2&&t.includes("null")?t=t.find(r=>r!=="null"):t=t[0]),t)}function qr(e,t){const r=Object.assign({},e);return Object.keys(t).reduce((n,a)=>{const i=e?e[a]:{},s=t[a];return e&&a in e&&We(s)?n[a]=qr(i,s):e&&t&&($n(e)==="object"||$n(t)==="object")&&a===Tb&&Array.isArray(i)&&Array.isArray(s)?n[a]=oM(i,s):n[a]=s,n},r)}function Ft(e,t,r={},n){return Cr(e,t,r,n)[0]}function cM(e,t,r,n,a,i){const{if:s,then:o,else:c,...l}=t,u=e.isValid(s,i||{},r);let f=[l],h=[];if(n)o&&typeof o!="boolean"&&(h=h.concat(Cr(e,o,r,i,n,a))),c&&typeof c!="boolean"&&(h=h.concat(Cr(e,c,r,i,n,a)));else{const d=u?o:c;d&&typeof d!="boolean"&&(h=h.concat(Cr(e,d,r,i,n,a)))}return h.length&&(f=h.map(d=>qr(l,d))),f.flatMap(d=>Cr(e,d,r,i,n,a))}function Lv(e){return e.reduce((r,n)=>n.length>1?n.flatMap(a=>av(r.length,i=>[...r[i]].concat(a))):(r.forEach(a=>a.push(n[0])),r),[[]])}function lM(e,t,r,n,a,i){const s=zv(e,t,r,n,a,i);if(s.length>1||s[0]!==t)return s;if(dc in t)return Vv(e,t,r,n,a,i).flatMap(c=>Cr(e,c,r,i,n,a));if(cs in t&&Array.isArray(t.allOf)){const o=t.allOf.map(l=>Cr(e,l,r,i,n,a));return Lv(o).map(l=>({...t,allOf:l}))}return[t]}function zv(e,t,r,n,a,i){const s=Yi(t,r,a);return s!==t?Cr(e,s,r,i,n,a):[t]}function Yi(e,t,r){if(!We(e))return e;let n=e;if(ct in n){const{$ref:a,...i}=n;if(r.includes(a))return n;r.push(a),n={...Zy(a,t),...i}}if(Ye in n){const a=[],i=QN(n[Ye],(s,o,c)=>{const l=[...r];s[c]=Yi(o,t,l),a.push(l)},{});Gj(r,kR(Xj(a))),n={...n,[Ye]:i}}return yn in n&&!Array.isArray(n.items)&&typeof n.items!="boolean"&&(n={...n,items:Yi(n.items,t,r)}),zn(e,n)?e:n}function uM(e,t,r,n){const a={...t,properties:{...t.properties}},i=n&&We(n)?n:{};return Object.keys(i).forEach(s=>{if(s in a.properties)return;let o={};typeof a.additionalProperties!="boolean"?ct in a.additionalProperties?o=Ft(e,{$ref:re(a.additionalProperties,[ct])},r,i):"type"in a.additionalProperties?o={...a.additionalProperties}:kr in a.additionalProperties||Ht in a.additionalProperties?o={type:"object",...a.additionalProperties}:o={type:Zi(re(i,[s]))}:o={type:Zi(re(i,[s]))},a.properties[s]=o,vt(a.properties,[s,Ha],!0)}),a}function Cr(e,t,r,n,a=!1,i=[]){return We(t)?lM(e,t,r,a,i,n).flatMap(o=>{let c=o;if(kb in c)return cM(e,c,r,a,i,n);if(cs in c){if(a){const{allOf:u,...f}=c;return[...u,f]}try{c=eM(c,{deep:!1})}catch(u){console.warn(`could not merge subschemas in allOf:
`,u);const{allOf:f,...h}=c;return h}}return su in c&&c.additionalProperties!==!1?uM(e,c,r,n):c}):[{}]}function fM(e,t,r,n,a){let i;const{oneOf:s,anyOf:o,...c}=t;if(Array.isArray(s)?i=s:Array.isArray(o)&&(i=o),i){const l=a===void 0&&n?{}:a,u=ja(t);i=i.map(h=>Yi(h,r,[]));const f=Ef(e,l,i,r,u);if(n)return i.map(h=>qr(c,h));t=qr(c,i[f])}return[t]}function Vv(e,t,r,n,a,i){const{dependencies:s,...o}=t;return fM(e,o,r,n,i).flatMap(l=>qv(e,s,l,r,n,a,i))}function qv(e,t,r,n,a,i,s){let o=[r];for(const c in t){if(!a&&re(s,[c])===void 0||r.properties&&!(c in r.properties))continue;const[l,u]=_f(c,t);return Array.isArray(u)?o[0]=dM(r,u):We(u)&&(o=hM(e,r,n,c,u,a,i,s)),o.flatMap(f=>qv(e,l,f,n,a,i,s))}return o}function dM(e,t){if(!t)return e;const r=Array.isArray(e.required)?Array.from(new Set([...e.required,...t])):t;return{...e,required:r}}function hM(e,t,r,n,a,i,s,o){return Cr(e,a,r,o,i,s).flatMap(l=>{const{oneOf:u,...f}=l;if(t=qr(t,f),u===void 0)return t;const h=u.map(p=>typeof p=="boolean"||!(ct in p)?[p]:zv(e,p,r,i,s,o));return Lv(h).flatMap(p=>pM(e,t,r,n,p,i,s,o))})}function pM(e,t,r,n,a,i,s,o){const c=a.filter(l=>{if(typeof l=="boolean"||!l||!l.properties)return!1;const{[n]:u}=l.properties;if(u){const f={type:"object",properties:{[n]:u}};return e.isValid(f,o,r)||i}return!1});return!i&&c.length!==1?(console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[t]):c.flatMap(l=>{const u=l,[f]=_f(n,u.properties),h={...u,properties:f};return Cr(e,h,r,o,i,s).map(p=>qr(t,p))})}const mM={type:"object",$id:Cb,properties:{__not_really_there__:{type:"number"}}};function gu(e,t,r,n={}){let a=0;return r&&(sr(r.properties)?a+=QP(r.properties,(i,s,o)=>{const c=re(n,o);if(typeof s=="boolean")return i;if(bt(s,ct)){const l=Ft(e,s,t,c);return i+gu(e,t,l,c||{})}if((bt(s,Ht)||bt(s,kr))&&c){const l=bt(s,Ht)?Ht:kr,u=ja(s);return i+Xi(e,t,c,re(s,l),-1,u)}if(s.type==="object")return i+gu(e,t,s,c||{});if(s.type===Zi(c)){let l=i+1;return s.default?l+=c===s.default?1:-1:s.const&&(l+=c===s.const?1:-1),l}return i},0):bf(r.type)&&r.type===Zi(n)&&(a+=1)),a}function Xi(e,t,r,n,a=-1,i){const s=n.map(f=>Yi(f,t,[])),o=iv(r,n,i);if(Xy(o))return o;const c=s.reduce((f,h,d)=>(Ef(e,r,[mM,h],t,i)===1&&f.push(d),f),[]);if(c.length===1)return c[0];c.length||av(s.length,f=>c.push(f));const l=new Set,{bestIndex:u}=c.reduce((f,h)=>{const{bestScore:d}=f,p=s[h],m=gu(e,t,p,r);return l.add(m),m>d?{bestIndex:h,bestScore:m}:f},{bestIndex:a,bestScore:0});return l.size===1&&a>=0?a:u}function yu(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every(t=>We(t))}function qo(e,t,r=!1){if(Array.isArray(t)){const n=Array.isArray(e)?e:[],a=t.map((i,s)=>n[s]?qo(n[s],i,r):i);return r&&a.length<n.length&&a.push(...n.slice(a.length)),a}if(We(t)){const n=Object.assign({},e);return Object.keys(t).reduce((a,i)=>(a[i]=qo(e?re(e,i):{},re(t,i),r),a),n)}return t}function si(e,t,r=!1){return Object.keys(t).reduce((n,a)=>{const i=e?e[a]:{},s=t[a];if(e&&a in e&&We(s))n[a]=si(i,s,r);else if(r&&Array.isArray(i)&&Array.isArray(s)){let o=s;r==="preventDuplicates"&&(o=s.reduce((c,l)=>(i.includes(l)||c.push(l),c),[])),n[a]=i.concat(o)}else n[a]=s;return n},Object.assign({},e))}function gM(e){return Array.isArray(e.enum)&&e.enum.length===1||ry in e}function Hv(e,t,r={}){const n=Ft(e,t,r,void 0),a=n.oneOf||n.anyOf;return Array.isArray(n.enum)?!0:Array.isArray(a)?a.every(i=>typeof i!="boolean"&&gM(i)):!1}function Bf(e,t,r){return!t.uniqueItems||!t.items||typeof t.items=="boolean"?!1:Hv(e,t.items,r)}var Ra;(function(e){e[e.Ignore=0]="Ignore",e[e.Invert=1]="Invert",e[e.Fallback=2]="Fallback"})(Ra||(Ra={}));function bl(e,t=Ra.Ignore,r=-1){if(r>=0){if(Array.isArray(e.items)&&r<e.items.length){const n=e.items[r];if(typeof n!="boolean")return n}}else if(e.items&&!Array.isArray(e.items)&&typeof e.items!="boolean")return e.items;return t!==Ra.Ignore&&We(e.additionalItems)?e.additionalItems:{}}function zp(e,t,r,n,a,i=[],s={}){const{emptyObjectFields:o="populateAllDefaults"}=s;if(n)e[t]=r;else if(o!=="skipDefaults")if(We(r)){const c=a===void 0?i.includes(t):a;o==="skipEmptyDefaults"?bn(r)||(e[t]=r):(!bn(r)||i.includes(t))&&(c||o!=="populateRequiredDefaults")&&(e[t]=r)}else r!==void 0&&(o==="populateAllDefaults"||o==="skipEmptyDefaults"||i.includes(t))&&(e[t]=r)}function sn(e,t,{parentDefaults:r,rawFormData:n,rootSchema:a={},includeUndefinedValues:i=!1,_recurseList:s=[],experimental_defaultFormStateBehavior:o=void 0,required:c}={}){var l,u,f,h;const d=We(n)?n:{},p=We(t)?t:{};let m=r,y=null,g=s;if(We(m)&&We(p.default))m=si(m,p.default);else if(Ob in p)m=p.default;else if(ct in p){const v=p[ct];s.includes(v)||(g=s.concat(v),y=Zy(v,a))}else if(dc in p)y=Vv(e,p,a,!1,[],d)[0];else if(yu(p))m=p.items.map((v,w)=>sn(e,v,{rootSchema:a,includeUndefinedValues:i,_recurseList:s,experimental_defaultFormStateBehavior:o,parentDefaults:Array.isArray(r)?r[w]:void 0,rawFormData:d,required:c}));else if(Ht in p){const{oneOf:v,...w}=p;if(v.length===0)return;const _=ja(p);y=v[Xi(e,a,bn(d)?void 0:d,v,0,_)],y=qr(w,y)}else if(kr in p){const{anyOf:v,...w}=p;if(v.length===0)return;const _=ja(p);y=v[Xi(e,a,bn(d)?void 0:d,v,0,_)],y=qr(w,y)}if(y)return sn(e,y,{rootSchema:a,includeUndefinedValues:i,_recurseList:g,experimental_defaultFormStateBehavior:o,parentDefaults:m,rawFormData:d,required:c});switch(m===void 0&&(m=p.default),$n(p)){case"object":{const v=(o==null?void 0:o.allOf)==="populateDefaults"&&cs in p?Ft(e,p,a,d):p,w=Object.keys(v.properties||{}).reduce((_,b)=>{var x;const S=sn(e,re(v,[Ye,b]),{rootSchema:a,_recurseList:s,experimental_defaultFormStateBehavior:o,includeUndefinedValues:i===!0,parentDefaults:re(m,[b]),rawFormData:re(d,[b]),required:(x=v.required)===null||x===void 0?void 0:x.includes(b)});return zp(_,b,S,i,c,v.required,o),_},{});if(v.additionalProperties){const _=We(v.additionalProperties)?v.additionalProperties:{},b=new Set;We(m)&&Object.keys(m).filter(S=>!v.properties||!v.properties[S]).forEach(S=>b.add(S));const x=[];Object.keys(d).filter(S=>!v.properties||!v.properties[S]).forEach(S=>{b.add(S),x.push(S)}),b.forEach(S=>{var E;const C=sn(e,_,{rootSchema:a,_recurseList:s,experimental_defaultFormStateBehavior:o,includeUndefinedValues:i===!0,parentDefaults:re(m,[S]),rawFormData:re(d,[S]),required:(E=v.required)===null||E===void 0?void 0:E.includes(S)});zp(w,S,C,i,c,x)})}return w}case"array":{const v=((l=o==null?void 0:o.arrayMinItems)===null||l===void 0?void 0:l.populate)==="never",w=((u=o==null?void 0:o.arrayMinItems)===null||u===void 0?void 0:u.populate)==="requiredOnly",_=(o==null?void 0:o.emptyObjectFields)==="skipEmptyDefaults",b=(h=(f=o==null?void 0:o.arrayMinItems)===null||f===void 0?void 0:f.computeSkipPopulate)!==null&&h!==void 0?h:()=>!1,x=_?void 0:[];if(Array.isArray(m)&&(m=m.map((D,L)=>{const H=bl(p,Ra.Fallback,L);return sn(e,H,{rootSchema:a,_recurseList:s,experimental_defaultFormStateBehavior:o,parentDefaults:D,required:c})})),Array.isArray(n)){const D=bl(p);v?m=n:m=n.map((L,H)=>sn(e,D,{rootSchema:a,_recurseList:s,experimental_defaultFormStateBehavior:o,rawFormData:L,parentDefaults:re(m,[H]),required:c}))}if(v)return m??x;if(w&&!c)return m||void 0;const S=Array.isArray(m)?m.length:0;if(!p.minItems||Bf(e,p,a)||b(e,p,a)||p.minItems<=S)return m||x;const E=m||[],C=bl(p,Ra.Invert),k=C.default,R=new Array(p.minItems-S).fill(sn(e,C,{parentDefaults:k,rootSchema:a,_recurseList:s,experimental_defaultFormStateBehavior:o,required:c}));return E.concat(R)}}return m}function Kv(e,t,r,n,a=!1,i){if(!We(t))throw new Error("Invalid schema: "+t);const s=Ft(e,t,n,r),o=sn(e,s,{rootSchema:n,includeUndefinedValues:a,experimental_defaultFormStateBehavior:i,rawFormData:r});if(r==null||typeof r=="number"&&isNaN(r))return o;const{mergeExtraDefaults:c}=(i==null?void 0:i.arrayMinItems)||{};return We(r)||Array.isArray(r)?qo(o,r,c):r}function Gv(e={}){return"widget"in Se(e)&&Se(e).widget!=="hidden"}function Wv(e,t,r={},n){if(r[rf]==="files")return!0;if(t.items){const a=Ft(e,t.items,n);return a.type==="string"&&a.format==="data-url"}return!1}function yM(e,t,r={},n,a){const i=Se(r,a),{label:s=!0}=i;let o=!!s;const c=$n(t);return c==="array"&&(o=Bf(e,t,n)||Wv(e,t,r,n)||Gv(r)),c==="object"&&(o=!1),c==="boolean"&&!r[rf]&&(o=!1),r[Ib]&&(o=!1),o}function vM(e,t,r){if(!r)return t;const{errors:n,errorSchema:a}=t;let i=e.toErrorList(r),s=r;return bn(a)||(s=si(a,r,!0),i=[...n].concat(i)),{errorSchema:s,errors:i}}const ma=Symbol("no Value");function vu(e,t,r,n,a={}){let i;if(bt(r,Ye)){const s={};if(bt(n,Ye)){const l=re(n,Ye,{});Object.keys(l).forEach(u=>{bt(a,u)&&(s[u]=void 0)})}const o=Object.keys(re(r,Ye,{})),c={};o.forEach(l=>{const u=re(a,l);let f=re(n,[Ye,l],{}),h=re(r,[Ye,l],{});bt(f,ct)&&(f=Ft(e,f,t,u)),bt(h,ct)&&(h=Ft(e,h,t,u));const d=re(f,"type"),p=re(h,"type");if(!d||d===p)if(bt(s,l)&&delete s[l],p==="object"||p==="array"&&Array.isArray(u)){const m=vu(e,t,h,f,u);(m!==void 0||p==="array")&&(c[l]=m)}else{const m=re(h,"default",ma),y=re(f,"default",ma);m!==ma&&m!==u&&(y===u?s[l]=m:re(h,"readOnly")===!0&&(s[l]=void 0));const g=re(h,"const",ma),v=re(f,"const",ma);g!==ma&&g!==u&&(s[l]=v===u?g:void 0)}}),i={...typeof a=="string"||Array.isArray(a)?void 0:a,...s,...c}}else if(re(n,"type")==="array"&&re(r,"type")==="array"&&Array.isArray(a)){let s=re(n,"items"),o=re(r,"items");if(typeof s=="object"&&typeof o=="object"&&!Array.isArray(s)&&!Array.isArray(o)){bt(s,ct)&&(s=Ft(e,s,t,a)),bt(o,ct)&&(o=Ft(e,o,t,a));const c=re(s,"type"),l=re(o,"type");if(!c||c===l){const u=re(r,"maxItems",-1);l==="object"?i=a.reduce((f,h)=>{const d=vu(e,t,o,s,h);return d!==void 0&&(u<0||f.length<u)&&f.push(d),f},[]):i=u>0&&a.length>u?a.slice(0,u):a}}else typeof s=="boolean"&&typeof o=="boolean"&&s===o&&(i=a)}return i}function $o(e,t,r,n,a,i,s,o=[]){if(ct in t||dc in t||cs in t){const u=Ft(e,t,i,s);if(o.findIndex(h=>zn(h,u))===-1)return $o(e,u,r,n,a,i,s,o.concat(u))}if(yn in t&&!re(t,[yn,ct]))return $o(e,re(t,yn),r,n,a,i,s,o);const l={$id:a||r};if($n(t)==="object"&&Ye in t)for(const u in t.properties){const f=re(t,[Ye,u]),h=l[fn]+n+u;l[u]=$o(e,We(f)?f:{},r,n,h,i,re(s,[u]),o)}return l}function wM(e,t,r,n,a,i="root",s="_"){return $o(e,t,i,s,r,n,a)}function jn(e,t,r,n,a,i=[]){if(ct in t||dc in t||cs in t){const o=Ft(e,t,n,a);if(i.findIndex(l=>zn(l,o))===-1)return jn(e,o,r,n,a,i.concat(o))}let s={[wo]:r.replace(/^\./,"")};if(Ht in t||kr in t){const o=Ht in t?t.oneOf:t.anyOf,c=ja(t),l=Xi(e,n,a,o,0,c),u=o[l];s={...s,...jn(e,u,r,n,a,i)}}if(su in t&&t[su]!==!1&&vt(s,tf,!0),yn in t&&Array.isArray(a)){const{items:o,additionalItems:c}=t;Array.isArray(o)?a.forEach((l,u)=>{o[u]?s[u]=jn(e,o[u],`${r}.${u}`,n,l,i):c?s[u]=jn(e,c,`${r}.${u}`,n,l,i):console.warn(`Unable to generate path schema for "${r}.${u}". No schema defined for it`)}):a.forEach((l,u)=>{s[u]=jn(e,o,`${r}.${u}`,n,l,i)})}else if(Ye in t)for(const o in t.properties){const c=re(t,[Ye,o]);s[o]=jn(e,c,`${r}.${o}`,n,re(a,[o]),i)}return s}function _M(e,t,r="",n,a){return jn(e,t,r,n,a)}class bM{constructor(t,r,n){this.rootSchema=r,this.validator=t,this.experimental_defaultFormStateBehavior=n}getValidator(){return this.validator}doesSchemaUtilsDiffer(t,r,n={}){return!t||!r?!1:this.validator!==t||!Ct(this.rootSchema,r)||!Ct(this.experimental_defaultFormStateBehavior,n)}getDefaultFormState(t,r,n=!1){return Kv(this.validator,t,r,this.rootSchema,n,this.experimental_defaultFormStateBehavior)}getDisplayLabel(t,r,n){return yM(this.validator,t,r,this.rootSchema,n)}getClosestMatchingOption(t,r,n,a){return Xi(this.validator,this.rootSchema,t,r,n,a)}getFirstMatchingOption(t,r,n){return Ef(this.validator,t,r,this.rootSchema,n)}getMatchingOption(t,r,n){return sv(this.validator,t,r,this.rootSchema,n)}isFilesArray(t,r){return Wv(this.validator,t,r,this.rootSchema)}isMultiSelect(t){return Bf(this.validator,t,this.rootSchema)}isSelect(t){return Hv(this.validator,t,this.rootSchema)}mergeValidationData(t,r){return vM(this.validator,t,r)}retrieveSchema(t,r){return Ft(this.validator,t,this.rootSchema,r)}sanitizeDataForNewSchema(t,r,n){return vu(this.validator,this.rootSchema,t,r,n)}toIdSchema(t,r,n,a="root",i="_"){return wM(this.validator,t,r,this.rootSchema,n,a,i)}toPathSchema(t,r,n){return _M(this.validator,t,r,this.rootSchema,n)}}function $M(e,t,r={}){return new bM(e,t,r)}function SM(e){var t;if(e.indexOf("data:")===-1)throw new Error("File is invalid: URI must be a dataURI");const n=e.slice(5).split(";base64,");if(n.length!==2)throw new Error("File is invalid: dataURI must be base64");const[a,i]=n,[s,...o]=a.split(";"),c=s||"",l=decodeURI(((t=o.map(u=>u.split("=")).find(([u])=>u==="name"))===null||t===void 0?void 0:t[1])||"unknown");try{const u=atob(i),f=new Array(u.length);for(let d=0;d<u.length;d++)f[d]=u.charCodeAt(d);return{blob:new window.Blob([new Uint8Array(f)],{type:c}),name:l}}catch(u){throw new Error("File is invalid: "+u.message)}}function EM(e,t){let r=e;if(Array.isArray(t)){const n=r.split(/(%\d)/);t.forEach((a,i)=>{const s=n.findIndex(o=>o===`%${i+1}`);s>=0&&(n[s]=a)}),r=n.join("")}return r}function xM(e,t){return EM(e,t)}function ut(e,t=[],r){if(Array.isArray(e))return e.map(i=>ut(i,t)).filter(i=>i!==r);const n=e===""||e===null?-1:Number(e),a=t[n];return a?a.value:r}function Zv(e,t,r=[]){const n=ut(e,r);return Array.isArray(t)?t.filter(a=>!zn(a,n)):zn(n,t)?void 0:t}function ys(e,t){return Array.isArray(t)?t.some(r=>zn(r,e)):zn(t,e)}function Yv(e,t=[],r=!1){const n=t.map((a,i)=>ys(a.value,e)?String(i):void 0).filter(a=>typeof a<"u");return r?n:n[0]}function OM(e){return e==null}var AM=OM;const kM=we(AM);function Xv(e,t,r=[]){const n=ut(e,r);if(!kM(n)){const a=r.findIndex(o=>n===o.value),i=r.map(({value:o})=>o);return t.slice(0,a).concat(n,t.slice(a)).sort((o,c)=>+(i.indexOf(o)>i.indexOf(c)))}return t}class CM{constructor(t){this.errorSchema={},this.resetAllErrors(t)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(t){let n=Array.isArray(t)&&t.length>0||typeof t=="string"?re(this.errorSchema,t):this.errorSchema;return!n&&t&&(n={},vt(this.errorSchema,t,n)),n}resetAllErrors(t){return this.errorSchema=t?pv(t):{},this}addErrors(t,r){const n=this.getOrCreateErrorBlock(r);let a=re(n,ir);return Array.isArray(a)||(a=[],n[ir]=a),Array.isArray(t)?a.push(...t):a.push(t),this}setErrors(t,r){const n=this.getOrCreateErrorBlock(r),a=Array.isArray(t)?[...t]:[t];return vt(n,ir,a),this}clearErrors(t){const r=this.getOrCreateErrorBlock(t);return vt(r,ir,[]),this}}function TM(e,t,r=[1900,new Date().getFullYear()+2],n="YMD"){const{day:a,month:i,year:s,hour:o,minute:c,second:l}=e,u={type:"day",range:[1,31],value:a},f={type:"month",range:[1,12],value:i},h={type:"year",range:r,value:s},d=[];switch(n){case"MDY":d.push(f,u,h);break;case"DMY":d.push(u,f,h);break;case"YMD":default:d.push(h,f,u)}return t&&d.push({type:"hour",range:[0,23],value:o},{type:"minute",range:[0,59],value:c},{type:"second",range:[0,59],value:l}),d}function IM(e){const t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||e.minimum===0)&&(t.min=e.minimum),(e.maximum||e.maximum===0)&&(t.max=e.maximum),t}function Jv(e,t,r={},n=!0){const a={type:t||"text",...IM(e)};return r.inputType?a.type=r.inputType:t||(e.type==="number"?(a.type="number",n&&a.step===void 0&&(a.step="any")):e.type==="integer"&&(a.type="number",a.step===void 0&&(a.step=1))),r.autocomplete&&(a.autoComplete=r.autocomplete),a}const Vp={props:{disabled:!1},submitText:"Submit",norender:!1};function Qv(e={}){const t=Se(e);if(t&&t[Ro]){const r=t[Ro];return{...Vp,...r}}return Vp}function ve(e,t,r={}){const{templates:n}=t;return e==="ButtonTemplates"?n[e]:r[e]||n[e]}var e0={exports:{}},Te={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=Symbol.for("react.element"),zf=Symbol.for("react.portal"),Ic=Symbol.for("react.fragment"),Pc=Symbol.for("react.strict_mode"),Nc=Symbol.for("react.profiler"),jc=Symbol.for("react.provider"),Rc=Symbol.for("react.context"),PM=Symbol.for("react.server_context"),Fc=Symbol.for("react.forward_ref"),Dc=Symbol.for("react.suspense"),Mc=Symbol.for("react.suspense_list"),Uc=Symbol.for("react.memo"),Bc=Symbol.for("react.lazy"),NM=Symbol.for("react.offscreen"),t0;t0=Symbol.for("react.module.reference");function Jt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Lf:switch(e=e.type,e){case Ic:case Nc:case Pc:case Dc:case Mc:return e;default:switch(e=e&&e.$$typeof,e){case PM:case Rc:case Fc:case Bc:case Uc:case jc:return e;default:return t}}case zf:return t}}}Te.ContextConsumer=Rc;Te.ContextProvider=jc;Te.Element=Lf;Te.ForwardRef=Fc;Te.Fragment=Ic;Te.Lazy=Bc;Te.Memo=Uc;Te.Portal=zf;Te.Profiler=Nc;Te.StrictMode=Pc;Te.Suspense=Dc;Te.SuspenseList=Mc;Te.isAsyncMode=function(){return!1};Te.isConcurrentMode=function(){return!1};Te.isContextConsumer=function(e){return Jt(e)===Rc};Te.isContextProvider=function(e){return Jt(e)===jc};Te.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lf};Te.isForwardRef=function(e){return Jt(e)===Fc};Te.isFragment=function(e){return Jt(e)===Ic};Te.isLazy=function(e){return Jt(e)===Bc};Te.isMemo=function(e){return Jt(e)===Uc};Te.isPortal=function(e){return Jt(e)===zf};Te.isProfiler=function(e){return Jt(e)===Nc};Te.isStrictMode=function(e){return Jt(e)===Pc};Te.isSuspense=function(e){return Jt(e)===Dc};Te.isSuspenseList=function(e){return Jt(e)===Mc};Te.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ic||e===Nc||e===Pc||e===Dc||e===Mc||e===NM||typeof e=="object"&&e!==null&&(e.$$typeof===Bc||e.$$typeof===Uc||e.$$typeof===jc||e.$$typeof===Rc||e.$$typeof===Fc||e.$$typeof===t0||e.getModuleId!==void 0)};Te.typeOf=Jt;e0.exports=Te;var jM=e0.exports;const qp=we(jM),$l={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function RM(e){let t=re(e,"MergedWidget");if(!t){const r=e.defaultProps&&e.defaultProps.options||{};t=({options:n,...a})=>A.jsx(e,{options:{...r,...n},...a}),vt(e,"MergedWidget",t)}return t}function Lr(e,t,r={}){const n=$n(e);if(typeof t=="function"||t&&qp.isForwardRef(Z.createElement(t))||qp.isMemo(t))return RM(t);if(typeof t!="string")throw new Error(`Unsupported widget definition: ${typeof t}`);if(t in r){const a=r[t];return Lr(e,a,r)}if(typeof n=="string"){if(!(n in $l))throw new Error(`No widget for type '${n}'`);if(t in $l[n]){const a=r[$l[n][t]];return Lr(e,a,r)}}throw new Error(`No widget '${t}' for type '${n}'`)}function FM(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t.toString(16)}function DM(e){const t=new Set;return JSON.stringify(e,(r,n)=>(t.add(r),n)),FM(JSON.stringify(e,Array.from(t).sort()))}function MM(e,t,r={}){try{return Lr(e,t,r),!0}catch(n){const a=n;if(a.message&&(a.message.startsWith("No widget")||a.message.startsWith("Unsupported widget")))return!1;throw n}}function vs(e,t){return`${bf(e)?e:e[fn]}__${t}`}function ta(e){return vs(e,"description")}function Vf(e){return vs(e,"error")}function Ji(e){return vs(e,"examples")}function qf(e){return vs(e,"help")}function Hf(e){return vs(e,"title")}function Bt(e,t=!1){const r=t?` ${Ji(e)}`:"";return`${Vf(e)} ${ta(e)} ${qf(e)}${r}`}function Lc(e,t){return`${e}-${t}`}function Kf(e,t,r){return t?r:e}function UM(e){return e?new Date(e).toJSON():void 0}function BM(e){if(Ab in e&&Array.isArray(e.enum)&&e.enum.length===1)return e.enum[0];if(ry in e)return e.const;throw new Error("schema cannot be inferred as a constant")}function Ho(e){const t=e;if(t.enumNames,e.enum)return e.enum.map((n,a)=>({label:t.enumNames&&t.enumNames[a]||String(n),value:n}));const r=e.oneOf||e.anyOf;return r&&r.map(n=>{const a=n,i=BM(a),s=a.title||String(i);return{schema:a,label:s,value:i}})}function LM(e,t){if(!Array.isArray(t))return e;const r=u=>u.reduce((f,h)=>(f[h]=!0,f),{}),n=u=>u.length>1?`properties '${u.join("', '")}'`:`property '${u[0]}'`,a=r(e),i=t.filter(u=>u==="*"||a[u]),s=r(i),o=e.filter(u=>!s[u]),c=i.indexOf("*");if(c===-1){if(o.length)throw new Error(`uiSchema order list does not contain ${n(o)}`);return i}if(c!==i.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const l=[...i];return l.splice(c,1,...o),l}function on(e,t){let r=String(e);for(;r.length<t;)r="0"+r;return r}function Sl(e,t=!0){if(!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};const r=new Date(e);if(Number.isNaN(r.getTime()))throw new Error("Unable to parse date "+e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:t?r.getUTCHours():0,minute:t?r.getUTCMinutes():0,second:t?r.getUTCSeconds():0}}function Mi(e){if(e.const||e.enum&&e.enum.length===1&&e.enum[0]===!0)return!0;if(e.anyOf&&e.anyOf.length===1)return Mi(e.anyOf[0]);if(e.oneOf&&e.oneOf.length===1)return Mi(e.oneOf[0]);if(e.allOf){const t=r=>Mi(r);return e.allOf.some(t)}return!1}function zM(e,t,r){const{props:n,state:a}=e;return!Ct(n,t)||!Ct(a,r)}function Hp(e,t=!0){const{year:r,month:n,day:a,hour:i=0,minute:s=0,second:o=0}=e,c=Date.UTC(r,n-1,a,i,s,o),l=new Date(c).toJSON();return t?l:l.slice(0,10)}function Qi(e,t=[]){if(!e)return[];let r=[];return ir in e&&(r=r.concat(e[ir].map(n=>{const a=`.${t.join(".")}`;return{property:a,message:n,stack:`${a} ${n}`}}))),Object.keys(e).reduce((n,a)=>{if(a!==ir){const i=e[a];nf(i)&&(n=n.concat(Qi(i,[...t,a])))}return n},r)}var VM=Zr,qM=Oc,HM=ft,KM=ti,GM=Sy,WM=ea,ZM=xy;function YM(e){return HM(e)?VM(e,WM):KM(e)?[e]:qM(GM(ZM(e)))}var XM=YM;const r0=we(XM);function JM(e){const t=new CM;return e.length&&e.forEach(r=>{const{property:n,message:a}=r,i=n==="."?[]:r0(n);i.length>0&&i[0]===""&&i.splice(0,1),a&&t.addErrors(a,i)}),t.ErrorSchema}function n0(e){return Object.keys(e).reduce((t,r)=>{if(r==="addError")return t;{const n=e[r];return nf(n)?{...t,[r]:n0(n)}:{...t,[r]:n}}},{})}function QM(e){if(!e)return"";const t=new Date(e),r=on(t.getFullYear(),4),n=on(t.getMonth()+1,2),a=on(t.getDate(),2),i=on(t.getHours(),2),s=on(t.getMinutes(),2),o=on(t.getSeconds(),2),c=on(t.getMilliseconds(),3);return`${r}-${n}-${a}T${i}:${s}:${o}.${c}`}function So(e,t){if(!t)return e;const{errors:r,errorSchema:n}=e;let a=Qi(t),i=t;return bn(n)||(i=si(n,t,!0),a=[...r].concat(a)),{errorSchema:i,errors:a}}function e4(e){for(const t in e){const r=e,n=r[t];t===ct&&typeof n=="string"&&n.startsWith("#")?r[t]=ny+n:r[t]=Gf(n)}return e}function t4(e){for(let t=0;t<e.length;t++)e[t]=Gf(e[t]);return e}function Gf(e){return Array.isArray(e)?t4([...e]):sr(e)?e4({...e}):e}var Ee;(function(e){e.ArrayItemTitle="Item",e.MissingItems="Missing items definition",e.YesLabel="Yes",e.NoLabel="No",e.CloseLabel="Close",e.ErrorsLabel="Errors",e.NewStringDefault="New Value",e.AddButton="Add",e.AddItemButton="Add Item",e.CopyButton="Copy",e.MoveDownButton="Move down",e.MoveUpButton="Move up",e.RemoveButton="Remove",e.NowLabel="Now",e.ClearLabel="Clear",e.AriaDateLabel="Select a date",e.PreviewLabel="Preview",e.DecrementAriaLabel="Decrease value by 1",e.IncrementAriaLabel="Increase value by 1",e.UnknownFieldType="Unknown field type %1",e.OptionPrefix="Option %1",e.TitleOptionPrefix="%1 option %2",e.KeyLabel="%1 Key",e.InvalidObjectField='Invalid "%1" object field configuration: <em>%2</em>.',e.UnsupportedField="Unsupported field schema.",e.UnsupportedFieldWithId="Unsupported field schema for field <code>%1</code>.",e.UnsupportedFieldWithReason="Unsupported field schema: <em>%1</em>.",e.UnsupportedFieldWithIdAndReason="Unsupported field schema for field <code>%1</code>: <em>%2</em>.",e.FilesInfo="**%1** (%2, %3 bytes)"})(Ee||(Ee={}));var r4=hs,n4=ov,a4=ri;function i4(e,t,r){for(var n=-1,a=t.length,i={};++n<a;){var s=t[n],o=r4(e,s);r(o,s)&&n4(i,a4(s,e),o)}return i}var s4=i4,o4=s4,c4=rv;function l4(e,t){return o4(e,t,function(r,n){return c4(e,n)})}var u4=l4,f4=u4,d4=Gy,h4=d4(function(e,t){return e==null?{}:f4(e,t)}),p4=h4;const m4=we(p4);let g4=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");function wu(){return g4()}function Kp(e){return Array.isArray(e)?e.map(t=>({key:wu(),item:t})):[]}function Oi(e){return Array.isArray(e)?e.map(t=>t.item):[]}class y4 extends Z.Component{constructor(t){super(t),this._getNewFormDataRow=()=>{const{schema:a,registry:i}=this.props,{schemaUtils:s}=i;let o=a.items;return yu(a)&&xb(a)&&(o=a.additionalItems),s.getDefaultFormState(o)},this.onAddClick=a=>{this._handleAddClick(a)},this.onAddIndexClick=a=>i=>{this._handleAddClick(i,a)},this.onCopyIndexClick=a=>i=>{i&&i.preventDefault();const{onChange:s,errorSchema:o}=this.props,{keyedFormData:c}=this.state;let l;if(o){l={};for(const h in o){const d=parseInt(h);d<=a?vt(l,[d],o[h]):d>a&&vt(l,[d+1],o[h])}}const u={key:wu(),item:pv(c[a].item)},f=[...c];a!==void 0?f.splice(a+1,0,u):f.push(u),this.setState({keyedFormData:f,updatedKeyedFormData:!0},()=>s(Oi(f),l))},this.onDropIndexClick=a=>i=>{i&&i.preventDefault();const{onChange:s,errorSchema:o}=this.props,{keyedFormData:c}=this.state;let l;if(o){l={};for(const f in o){const h=parseInt(f);h<a?vt(l,[h],o[f]):h>a&&vt(l,[h-1],o[f])}}const u=c.filter((f,h)=>h!==a);this.setState({keyedFormData:u,updatedKeyedFormData:!0},()=>s(Oi(u),l))},this.onReorderClick=(a,i)=>s=>{s&&(s.preventDefault(),s.currentTarget.blur());const{onChange:o,errorSchema:c}=this.props;let l;if(c){l={};for(const d in c){const p=parseInt(d);p==a?vt(l,[i],c[a]):p==i?vt(l,[a],c[i]):vt(l,[d],c[p])}}const{keyedFormData:u}=this.state;function f(){const d=u.slice();return d.splice(a,1),d.splice(i,0,u[a]),d}const h=f();this.setState({keyedFormData:h},()=>o(Oi(h),l))},this.onChangeForIndex=a=>(i,s,o)=>{const{formData:c,onChange:l,errorSchema:u}=this.props,h=(Array.isArray(c)?c:[]).map((d,p)=>a===p?typeof i>"u"?null:i:d);l(h,u&&u&&{...u,[a]:s},o)},this.onSelectChange=a=>{const{onChange:i,idSchema:s}=this.props;i(a,void 0,s&&s.$id)};const{formData:r=[]}=t,n=Kp(r);this.state={keyedFormData:n,updatedKeyedFormData:!1}}static getDerivedStateFromProps(t,r){if(r.updatedKeyedFormData)return{updatedKeyedFormData:!1};const n=Array.isArray(t.formData)?t.formData:[],a=r.keyedFormData||[];return{keyedFormData:n.length===a.length?a.map((s,o)=>({key:s.key,item:n[o]})):Kp(n)}}get itemTitle(){const{schema:t,registry:r}=this.props,{translateString:n}=r;return re(t,[yn,"title"],re(t,[yn,"description"],n(Ee.ArrayItemTitle)))}isItemRequired(t){return Array.isArray(t.type)?!t.type.includes("null"):t.type!=="null"}canAddItem(t){const{schema:r,uiSchema:n,registry:a}=this.props;let{addable:i}=Se(n,a.globalUiOptions);return i!==!1&&(r.maxItems!==void 0?i=t.length<r.maxItems:i=!0),i}_handleAddClick(t,r){t&&t.preventDefault();const{onChange:n,errorSchema:a}=this.props,{keyedFormData:i}=this.state;let s;if(a){s={};for(const l in a){const u=parseInt(l);r===void 0||u<r?vt(s,[u],a[l]):u>=r&&vt(s,[u+1],a[l])}}const o={key:wu(),item:this._getNewFormDataRow()},c=[...i];r!==void 0?c.splice(r,0,o):c.push(o),this.setState({keyedFormData:c,updatedKeyedFormData:!0},()=>n(Oi(c),s))}render(){const{schema:t,uiSchema:r,idSchema:n,registry:a}=this.props,{schemaUtils:i,translateString:s}=a;if(!(yn in t)){const o=Se(r),c=ve("UnsupportedFieldTemplate",a,o);return A.jsx(c,{schema:t,idSchema:n,reason:s(Ee.MissingItems),registry:a})}return i.isMultiSelect(t)?this.renderMultiSelect():Gv(r)?this.renderCustomWidget():yu(t)?this.renderFixedArray():i.isFilesArray(t,r)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:t,uiSchema:r={},errorSchema:n,idSchema:a,name:i,title:s,disabled:o=!1,readonly:c=!1,autofocus:l=!1,required:u=!1,registry:f,onBlur:h,onFocus:d,idPrefix:p,idSeparator:m="_",rawErrors:y}=this.props,{keyedFormData:g}=this.state,v=t.title||s||i,{schemaUtils:w,formContext:_}=f,b=Se(r),x=sr(t.items)?t.items:{},S=w.retrieveSchema(x),E=Oi(this.state.keyedFormData),C=this.canAddItem(E),k={canAdd:C,items:g.map((D,L)=>{const{key:H,item:Y}=D,ce=Y,de=w.retrieveSchema(x,ce),se=n?n[L]:void 0,ee=a.$id+m+L,V=w.toIdSchema(de,ee,ce,p,m);return this.renderArrayFieldItem({key:H,index:L,name:i&&`${i}-${L}`,title:v?`${v}-${L+1}`:void 0,canAdd:C,canMoveUp:L>0,canMoveDown:L<E.length-1,itemSchema:de,itemIdSchema:V,itemErrorSchema:se,itemData:ce,itemUiSchema:r.items,autofocus:l&&L===0,onBlur:h,onFocus:d,rawErrors:y,totalItems:g.length})}),className:`field field-array field-array-of-${S.type}`,disabled:o,idSchema:a,uiSchema:r,onAddClick:this.onAddClick,readonly:c,required:u,schema:t,title:v,formContext:_,formData:E,rawErrors:y,registry:f},R=ve("ArrayFieldTemplate",f,b);return A.jsx(R,{...k})}renderCustomWidget(){var t;const{schema:r,idSchema:n,uiSchema:a,disabled:i=!1,readonly:s=!1,autofocus:o=!1,required:c=!1,hideError:l,placeholder:u,onBlur:f,onFocus:h,formData:d=[],registry:p,rawErrors:m,name:y}=this.props,{widgets:g,formContext:v,globalUiOptions:w,schemaUtils:_}=p,{widget:b,title:x,...S}=Se(a,w),E=Lr(r,b,g),C=(t=x??r.title)!==null&&t!==void 0?t:y,k=_.getDisplayLabel(r,a,w);return A.jsx(E,{id:n.$id,name:y,multiple:!0,onChange:this.onSelectChange,onBlur:f,onFocus:h,options:S,schema:r,uiSchema:a,registry:p,value:d,disabled:i,readonly:s,hideError:l,required:c,label:C,hideLabel:!k,placeholder:u,formContext:v,autofocus:o,rawErrors:m})}renderMultiSelect(){var t;const{schema:r,idSchema:n,uiSchema:a,formData:i=[],disabled:s=!1,readonly:o=!1,autofocus:c=!1,required:l=!1,placeholder:u,onBlur:f,onFocus:h,registry:d,rawErrors:p,name:m}=this.props,{widgets:y,schemaUtils:g,formContext:v,globalUiOptions:w}=d,_=g.retrieveSchema(r.items,i),b=Ho(_),{widget:x="select",title:S,...E}=Se(a,w),C=Lr(r,x,y),k=(t=S??r.title)!==null&&t!==void 0?t:m,R=g.getDisplayLabel(r,a,w);return A.jsx(C,{id:n.$id,name:m,multiple:!0,onChange:this.onSelectChange,onBlur:f,onFocus:h,options:{...E,enumOptions:b},schema:r,uiSchema:a,registry:d,value:i,disabled:s,readonly:o,required:l,label:k,hideLabel:!R,placeholder:u,formContext:v,autofocus:c,rawErrors:p})}renderFiles(){var t;const{schema:r,uiSchema:n,idSchema:a,name:i,disabled:s=!1,readonly:o=!1,autofocus:c=!1,required:l=!1,onBlur:u,onFocus:f,registry:h,formData:d=[],rawErrors:p}=this.props,{widgets:m,formContext:y,globalUiOptions:g,schemaUtils:v}=h,{widget:w="files",title:_,...b}=Se(n,g),x=Lr(r,w,m),S=(t=_??r.title)!==null&&t!==void 0?t:i,E=v.getDisplayLabel(r,n,g);return A.jsx(x,{options:b,id:a.$id,name:i,multiple:!0,onChange:this.onSelectChange,onBlur:u,onFocus:f,schema:r,uiSchema:n,value:d,disabled:s,readonly:o,required:l,registry:h,formContext:y,autofocus:c,rawErrors:p,label:S,hideLabel:!E})}renderFixedArray(){const{schema:t,uiSchema:r={},formData:n=[],errorSchema:a,idPrefix:i,idSeparator:s="_",idSchema:o,name:c,title:l,disabled:u=!1,readonly:f=!1,autofocus:h=!1,required:d=!1,registry:p,onBlur:m,onFocus:y,rawErrors:g}=this.props,{keyedFormData:v}=this.state;let{formData:w=[]}=this.props;const _=t.title||l||c,b=Se(r),{schemaUtils:x,formContext:S}=p,C=(sr(t.items)?t.items:[]).map((H,Y)=>x.retrieveSchema(H,n[Y])),k=sr(t.additionalItems)?x.retrieveSchema(t.additionalItems,n):null;(!w||w.length<C.length)&&(w=w||[],w=w.concat(new Array(C.length-w.length)));const R=this.canAddItem(w)&&!!k,D={canAdd:R,className:"field field-array field-array-fixed-items",disabled:u,idSchema:o,formData:n,items:v.map((H,Y)=>{const{key:ce,item:de}=H,se=de,ee=Y>=C.length,V=(ee&&sr(t.additionalItems)?x.retrieveSchema(t.additionalItems,se):C[Y])||{},N=o.$id+s+Y,z=x.toIdSchema(V,N,se,i,s),F=ee?r.additionalItems||{}:Array.isArray(r.items)?r.items[Y]:r.items||{},$=a?a[Y]:void 0;return this.renderArrayFieldItem({key:ce,index:Y,name:c&&`${c}-${Y}`,title:_?`${_}-${Y+1}`:void 0,canAdd:R,canRemove:ee,canMoveUp:Y>=C.length+1,canMoveDown:ee&&Y<w.length-1,itemSchema:V,itemData:se,itemUiSchema:F,itemIdSchema:z,itemErrorSchema:$,autofocus:h&&Y===0,onBlur:m,onFocus:y,rawErrors:g,totalItems:v.length})}),onAddClick:this.onAddClick,readonly:f,required:d,registry:p,schema:t,uiSchema:r,title:_,formContext:S,errorSchema:a,rawErrors:g},L=ve("ArrayFieldTemplate",p,b);return A.jsx(L,{...D})}renderArrayFieldItem(t){const{key:r,index:n,name:a,canAdd:i,canRemove:s=!0,canMoveUp:o,canMoveDown:c,itemSchema:l,itemData:u,itemUiSchema:f,itemIdSchema:h,itemErrorSchema:d,autofocus:p,onBlur:m,onFocus:y,rawErrors:g,totalItems:v,title:w}=t,{disabled:_,hideError:b,idPrefix:x,idSeparator:S,readonly:E,uiSchema:C,registry:k,formContext:R}=this.props,{fields:{ArraySchemaField:D,SchemaField:L},globalUiOptions:H}=k,Y=D||L,{orderable:ce=!0,removable:de=!0,copyable:se=!1}=Se(C,H),ee={moveUp:ce&&o,moveDown:ce&&c,copy:se&&i,remove:de&&s,toolbar:!1};return ee.toolbar=Object.keys(ee).some(V=>ee[V]),{children:A.jsx(Y,{name:a,title:w,index:n,schema:l,uiSchema:f,formData:u,formContext:R,errorSchema:d,idPrefix:x,idSeparator:S,idSchema:h,required:this.isItemRequired(l),onChange:this.onChangeForIndex(n),onBlur:m,onFocus:y,registry:k,disabled:_,readonly:E,hideError:b,autofocus:p,rawErrors:g}),className:"array-item",disabled:_,canAdd:i,hasCopy:ee.copy,hasToolbar:ee.toolbar,hasMoveUp:ee.moveUp,hasMoveDown:ee.moveDown,hasRemove:ee.remove,index:n,totalItems:v,key:r,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:E,registry:k,schema:l,uiSchema:f}}}function v4(e){var t,r,n;const{schema:a,name:i,uiSchema:s,idSchema:o,formData:c,registry:l,required:u,disabled:f,readonly:h,hideError:d,autofocus:p,title:m,onChange:y,onFocus:g,onBlur:v,rawErrors:w}=e,{title:_}=a,{widgets:b,formContext:x,translateString:S,globalUiOptions:E}=l,{widget:C="checkbox",title:k,label:R=!0,...D}=Se(s,E),L=Lr(a,C,b),H=S(Ee.YesLabel),Y=S(Ee.NoLabel);let ce;const de=(r=(t=k??_)!==null&&t!==void 0?t:m)!==null&&r!==void 0?r:i;if(Array.isArray(a.oneOf))ce=Ho({oneOf:a.oneOf.map(se=>{if(sr(se))return{...se,title:se.title||(se.const===!0?H:Y)}}).filter(se=>se)});else{const se=a,ee=(n=a.enum)!==null&&n!==void 0?n:[!0,!1];!se.enumNames&&ee.length===2&&ee.every(V=>typeof V=="boolean")?ce=[{value:ee[0],label:ee[0]?H:Y},{value:ee[1],label:ee[1]?H:Y}]:ce=Ho({enum:ee,enumNames:se.enumNames})}return A.jsx(L,{options:{...D,enumOptions:ce},schema:a,uiSchema:s,id:o.$id,name:i,onChange:y,onFocus:g,onBlur:v,label:de,hideLabel:!R,value:c,required:u,disabled:f,readonly:h,hideError:d,registry:l,formContext:x,autofocus:p,rawErrors:w})}class Gp extends Z.Component{constructor(t){super(t),this.onOptionChange=s=>{const{selectedOption:o,retrievedOptions:c}=this.state,{formData:l,onChange:u,registry:f}=this.props,{schemaUtils:h}=f,d=s!==void 0?parseInt(s,10):-1;if(d===o)return;const p=d>=0?c[d]:void 0,m=o>=0?c[o]:void 0;let y=h.sanitizeDataForNewSchema(p,m,l);y&&p&&(y=h.getDefaultFormState(p,y,"excludeObjectChildren")),u(y,void 0,this.getFieldId()),this.setState({selectedOption:d})};const{formData:r,options:n,registry:{schemaUtils:a}}=this.props,i=n.map(s=>a.retrieveSchema(s,r));this.state={retrievedOptions:i,selectedOption:this.getMatchingOption(0,r,i)}}componentDidUpdate(t,r){const{formData:n,options:a,idSchema:i}=this.props,{selectedOption:s}=this.state;let o=this.state;if(!Ct(t.options,a)){const{registry:{schemaUtils:c}}=this.props,l=a.map(u=>c.retrieveSchema(u,n));o={selectedOption:s,retrievedOptions:l}}if(!Ct(n,t.formData)&&i.$id===t.idSchema.$id){const{retrievedOptions:c}=o,l=this.getMatchingOption(s,n,c);r&&l!==s&&(o={selectedOption:l,retrievedOptions:c})}o!==this.state&&this.setState(o)}getMatchingOption(t,r,n){const{schema:a,registry:{schemaUtils:i}}=this.props,s=ja(a);return i.getClosestMatchingOption(r,n,t,s)}getFieldId(){const{idSchema:t,schema:r}=this.props;return`${t.$id}${r.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:t,disabled:r=!1,errorSchema:n={},formContext:a,onBlur:i,onFocus:s,registry:o,schema:c,uiSchema:l}=this.props,{widgets:u,fields:f,translateString:h,globalUiOptions:d,schemaUtils:p}=o,{SchemaField:m}=f,{selectedOption:y,retrievedOptions:g}=this.state,{widget:v="select",placeholder:w,autofocus:_,autocomplete:b,title:x=c.title,...S}=Se(l,d),E=Lr({type:"number"},v,u),C=re(n,ir,[]),k=Bo(n,[ir]),R=p.getDisplayLabel(c,l,d),D=y>=0&&g[y]||null;let L;if(D){const{required:ee}=c;L=ee?qr({required:ee},D):D}let H=[];Ht in c&&l&&Ht in l?Array.isArray(l[Ht])?H=l[Ht]:console.warn(`uiSchema.oneOf is not an array for "${x||t}"`):kr in c&&l&&kr in l&&(Array.isArray(l[kr])?H=l[kr]:console.warn(`uiSchema.anyOf is not an array for "${x||t}"`));let Y=l;y>=0&&H.length>y&&(Y=H[y]);const ce=x?Ee.TitleOptionPrefix:Ee.OptionPrefix,de=x?[x]:[],se=g.map((ee,V)=>{const{title:N=ee.title}=Se(H[V]);return{label:N||h(ce,de.concat(String(V+1))),value:V}});return A.jsxs("div",{className:"panel panel-default panel-body",children:[A.jsx("div",{className:"form-group",children:A.jsx(E,{id:this.getFieldId(),name:`${t}${c.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:i,onFocus:s,disabled:r||bn(se),multiple:!1,rawErrors:C,errorSchema:k,value:y>=0?y:void 0,options:{enumOptions:se,...S},registry:o,formContext:a,placeholder:w,autocomplete:b,autofocus:_,label:x??t,hideLabel:!R})}),L&&A.jsx(m,{...this.props,schema:L,uiSchema:Y})]})}}const w4=/\.([0-9]*0)*$/,_4=/[0.]0*$/;function b4(e){const{registry:t,onChange:r,formData:n,value:a}=e,[i,s]=Z.useState(a),{StringField:o}=t.fields;let c=n;const l=Z.useCallback(u=>{s(u),`${u}`.charAt(0)==="."&&(u=`0${u}`);const f=typeof u=="string"&&u.match(w4)?Oh(u.replace(_4,"")):Oh(u);r(f)},[r]);if(typeof i=="string"&&typeof c=="number"){const u=new RegExp(`${c}`.replace(".","\\.")+"\\.?0*$");i.match(u)&&(c=i)}return A.jsx(o,{...e,formData:c,onChange:l})}function Rn(){return Rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rn.apply(this,arguments)}const $4=["children","options"];var Wp,Zp;(function(e){e.blockQuote="0",e.breakLine="1",e.breakThematic="2",e.codeBlock="3",e.codeFenced="4",e.codeInline="5",e.footnote="6",e.footnoteReference="7",e.gfmTask="8",e.heading="9",e.headingSetext="10",e.htmlBlock="11",e.htmlComment="12",e.htmlSelfClosing="13",e.image="14",e.link="15",e.linkAngleBraceStyleDetector="16",e.linkBareUrlDetector="17",e.linkMailtoDetector="18",e.newlineCoalescer="19",e.orderedList="20",e.paragraph="21",e.ref="22",e.refImage="23",e.refLink="24",e.table="25",e.tableSeparator="26",e.text="27",e.textBolded="28",e.textEmphasized="29",e.textEscaped="30",e.textMarked="31",e.textStrikethroughed="32",e.unorderedList="33"})(Wp||(Wp={})),function(e){e[e.MAX=0]="MAX",e[e.HIGH=1]="HIGH",e[e.MED=2]="MED",e[e.LOW=3]="LOW",e[e.MIN=4]="MIN"}(Zp||(Zp={}));const Yp=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{for:"htmlFor"}),Xp={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},S4=["style","script"],E4=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,x4=/mailto:/i,O4=/\n{2,}$/,a0=/^(\s*>[\s\S]*?)(?=\n{2,})/,A4=/^ *> ?/gm,k4=/^ {2,}\n/,C4=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,i0=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,s0=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,T4=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,I4=/^(?:\n *)*\n/,P4=/\r\n?/g,N4=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,j4=/^\[\^([^\]]+)]/,R4=/\f/g,F4=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,D4=/^\s*?\[(x|\s)\]/,o0=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,c0=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,l0=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,_u=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,M4=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,u0=/^<!--[\s\S]*?(?:-->)/,U4=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,bu=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,B4=/^\{.*\}$/,L4=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,z4=/^<([^ >]+@[^ >]+)>/,V4=/^<([^ >]+:\/[^ >]+)>/,q4=/-([a-z])?/gi,f0=/^(.*\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,H4=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,K4=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,G4=/^\[([^\]]*)\] ?\[([^\]]*)\]/,W4=/(\[|\])/g,Z4=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Y4=/\t/g,X4=/(^ *\||\| *$)/g,J4=/^ *:-+: *$/,Q4=/^ *:-+ *$/,eU=/^ *-+: *$/,zc="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~~.*?~~|==.*?==|.|\\n)*?)",tU=new RegExp(`^([*_])\\1${zc}\\1\\1(?!\\1)`),rU=new RegExp(`^([*_])${zc}\\1(?!\\1|\\w)`),nU=new RegExp(`^==${zc}==`),aU=new RegExp(`^~~${zc}~~`),iU=/^\\([^0-9A-Za-z\s])/,sU=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&#;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,oU=/^\n+/,cU=/^([ \t]*)/,lU=/\\([^\\])/g,Jp=/ *\n+$/,uU=/(?:^|\n)( *)$/,Wf="(?:\\d+\\.)",Zf="(?:[*+-])";function d0(e){return"( *)("+(e===1?Wf:Zf)+") +"}const h0=d0(1),p0=d0(2);function m0(e){return new RegExp("^"+(e===1?h0:p0))}const fU=m0(1),dU=m0(2);function g0(e){return new RegExp("^"+(e===1?h0:p0)+"[^\\n]*(?:\\n(?!\\1"+(e===1?Wf:Zf)+" )[^\\n]*)*(\\n|$)","gm")}const y0=g0(1),v0=g0(2);function w0(e){const t=e===1?Wf:Zf;return new RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const _0=w0(1),b0=w0(2);function Qp(e,t){const r=t===1,n=r?_0:b0,a=r?y0:v0,i=r?fU:dU;return{match(s,o,c){const l=uU.exec(c);return l&&(o.list||!o.inline&&!o.simple)?n.exec(s=l[1]+s):null},order:1,parse(s,o,c){const l=r?+s[2]:void 0,u=s[0].replace(O4,`
`).match(a);let f=!1;return{items:u.map(function(h,d){const p=i.exec(h)[0].length,m=new RegExp("^ {1,"+p+"}","gm"),y=h.replace(m,"").replace(i,""),g=d===u.length-1,v=y.indexOf(`

`)!==-1||g&&f;f=v;const w=c.inline,_=c.list;let b;c.list=!0,v?(c.inline=!1,b=y.replace(Jp,`

`)):(c.inline=!0,b=y.replace(Jp,""));const x=o(b,c);return c.inline=w,c.list=_,x}),ordered:r,start:l}},render:(s,o,c)=>e(s.ordered?"ol":"ul",{key:c.key,start:s.type==="20"?s.start:void 0},s.items.map(function(l,u){return e("li",{key:u},o(l,c))}))}}const hU=new RegExp(`^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),pU=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,$0=[a0,i0,s0,o0,l0,c0,u0,f0,y0,_0,v0,b0],mU=[...$0,/^[^\n]+(?:  \n|\n{2,})/,_u,bu];function gU(e){return e.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function yU(e){return eU.test(e)?"right":J4.test(e)?"center":Q4.test(e)?"left":null}function em(e,t,r,n){const a=r.inTable;r.inTable=!0;let i=e.trim().split(/( *(?:`[^`]*`|<.*?>.*?<\/.*?>(?!<\/.*?>)|\\\||\|) *)/).reduce((o,c)=>(c.trim()==="|"?o.push(n?{type:"26"}:{type:"27",text:c}):c!==""&&o.push.apply(o,t(c,r)),o),[]);r.inTable=a;let s=[[]];return i.forEach(function(o,c){o.type==="26"?c!==0&&c!==i.length-1&&s.push([]):(o.type!=="27"||i[c+1]!=null&&i[c+1].type!=="26"||(o.text=o.text.trimEnd()),s[s.length-1].push(o))}),s}function vU(e,t,r){r.inline=!0;const n=e[2]?e[2].replace(X4,"").split("|").map(yU):[],a=e[3]?function(s,o,c){return s.trim().split(`
`).map(function(l){return em(l,o,c,!0)})}(e[3],t,r):[],i=em(e[1],t,r,!!a.length);return r.inline=!1,a.length?{align:n,cells:a,header:i,type:"25"}:{children:i,type:"21"}}function tm(e,t){return e.align[t]==null?{}:{textAlign:e.align[t]}}function Jr(e){return function(t,r){return r.inline?e.exec(t):null}}function Qr(e){return function(t,r){return r.inline||r.simple?e.exec(t):null}}function Fr(e){return function(t,r){return r.inline||r.simple?null:e.exec(t)}}function Ai(e){return function(t){return e.exec(t)}}function wU(e,t,r){if(t.inline||t.simple||r&&!r.endsWith(`
`))return null;let n="";e.split(`
`).every(i=>!$0.some(s=>s.test(i))&&(n+=i+`
`,i.trim()));const a=n.trimEnd();return a==""?null:[n,a]}function ga(e){try{if(decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return}catch{return null}return e}function rm(e){return e.replace(lU,"$1")}function Eo(e,t,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!0,r.simple=!0;const i=e(t,r);return r.inline=n,r.simple=a,i}function _U(e,t,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!1,r.simple=!0;const i=e(t,r);return r.inline=n,r.simple=a,i}function bU(e,t,r){const n=r.inline||!1;r.inline=!1;const a=e(t,r);return r.inline=n,a}const El=(e,t,r)=>({children:Eo(t,e[1],r)});function xl(){return{}}function Ol(){return null}function $U(...e){return e.filter(Boolean).join(" ")}function Al(e,t,r){let n=e;const a=t.split(".");for(;a.length&&(n=n[a[0]],n!==void 0);)a.shift();return n||r}function SU(e="",t={}){t.overrides=t.overrides||{},t.slugify=t.slugify||gU,t.namedCodesToUnicode=t.namedCodesToUnicode?Rn({},Xp,t.namedCodesToUnicode):Xp;const r=t.createElement||Z.createElement;function n(d,p,...m){const y=Al(t.overrides,`${d}.props`,{});return r(function(g,v){const w=Al(v,g);return w?typeof w=="function"||typeof w=="object"&&"render"in w?w:Al(v,`${g}.component`,g):g}(d,t.overrides),Rn({},p,y,{className:$U(p==null?void 0:p.className,y.className)||void 0}),...m)}function a(d){d=d.replace(F4,"");let p=!1;t.forceInline?p=!0:t.forceBlock||(p=Z4.test(d)===!1);const m=u(l(p?d:`${d.trimEnd().replace(oU,"")}

`,{inline:p}));for(;typeof m[m.length-1]=="string"&&!m[m.length-1].trim();)m.pop();if(t.wrapper===null)return m;const y=t.wrapper||(p?"span":"div");let g;if(m.length>1||t.forceWrapper)g=m;else{if(m.length===1)return g=m[0],typeof g=="string"?n("span",{key:"outer"},g):g;g=null}return Z.createElement(y,{key:"outer"},g)}function i(d){const p=d.match(E4);return p?p.reduce(function(m,y,g){const v=y.indexOf("=");if(v!==-1){const w=function(S){return S.indexOf("-")!==-1&&S.match(U4)===null&&(S=S.replace(q4,function(E,C){return C.toUpperCase()})),S}(y.slice(0,v)).trim(),_=function(S){const E=S[0];return(E==='"'||E==="'")&&S.length>=2&&S[S.length-1]===E?S.slice(1,-1):S}(y.slice(v+1).trim()),b=Yp[w]||w,x=m[b]=function(S,E){return S==="style"?E.split(/;\s?/).reduce(function(C,k){const R=k.slice(0,k.indexOf(":"));return C[R.trim().replace(/(-[a-z])/g,D=>D[1].toUpperCase())]=k.slice(R.length+1).trim(),C},{}):S==="href"||S==="src"?ga(E):(E.match(B4)&&(E=E.slice(1,E.length-1)),E==="true"||E!=="false"&&E)}(w,_);typeof x=="string"&&(_u.test(x)||bu.test(x))&&(m[b]=Z.cloneElement(a(x.trim()),{key:g}))}else y!=="style"&&(m[Yp[y]||y]=!0);return m},{}):null}const s=[],o={},c={0:{match:Fr(a0),order:1,parse:(d,p,m)=>({children:p(d[0].replace(A4,""),m)}),render:(d,p,m)=>n("blockquote",{key:m.key},p(d.children,m))},1:{match:Ai(k4),order:1,parse:xl,render:(d,p,m)=>n("br",{key:m.key})},2:{match:Fr(C4),order:1,parse:xl,render:(d,p,m)=>n("hr",{key:m.key})},3:{match:Fr(s0),order:0,parse:d=>({lang:void 0,text:d[0].replace(/^ {4}/gm,"").replace(/\n+$/,"")}),render:(d,p,m)=>n("pre",{key:m.key},n("code",Rn({},d.attrs,{className:d.lang?`lang-${d.lang}`:""}),d.text))},4:{match:Fr(i0),order:0,parse:d=>({attrs:i(d[3]||""),lang:d[2]||void 0,text:d[4],type:"3"})},5:{match:Qr(T4),order:3,parse:d=>({text:d[2]}),render:(d,p,m)=>n("code",{key:m.key},d.text)},6:{match:Fr(N4),order:0,parse:d=>(s.push({footnote:d[2],identifier:d[1]}),{}),render:Ol},7:{match:Jr(j4),order:1,parse:d=>({target:`#${t.slugify(d[1])}`,text:d[1]}),render:(d,p,m)=>n("a",{key:m.key,href:ga(d.target)},n("sup",{key:m.key},d.text))},8:{match:Jr(D4),order:1,parse:d=>({completed:d[1].toLowerCase()==="x"}),render:(d,p,m)=>n("input",{checked:d.completed,key:m.key,readOnly:!0,type:"checkbox"})},9:{match:Fr(t.enforceAtxHeadings?c0:o0),order:1,parse:(d,p,m)=>({children:Eo(p,d[2],m),id:t.slugify(d[2]),level:d[1].length}),render:(d,p,m)=>n(`h${d.level}`,{id:d.id,key:m.key},p(d.children,m))},10:{match:Fr(l0),order:0,parse:(d,p,m)=>({children:Eo(p,d[1],m),level:d[2]==="="?1:2,type:"9"})},11:{match:Ai(_u),order:1,parse(d,p,m){const[,y]=d[3].match(cU),g=new RegExp(`^${y}`,"gm"),v=d[3].replace(g,""),w=(_=v,mU.some(E=>E.test(_))?bU:Eo);var _;const b=d[1].toLowerCase(),x=S4.indexOf(b)!==-1,S={attrs:i(d[2]),noInnerParse:x,tag:(x?b:d[1]).trim()};return m.inAnchor=m.inAnchor||b==="a",x?S.text=d[3]:S.children=w(p,v,m),m.inAnchor=!1,S},render:(d,p,m)=>n(d.tag,Rn({key:m.key},d.attrs),d.text||p(d.children,m))},13:{match:Ai(bu),order:1,parse:d=>({attrs:i(d[2]||""),tag:d[1].trim()}),render:(d,p,m)=>n(d.tag,Rn({},d.attrs,{key:m.key}))},12:{match:Ai(u0),order:1,parse:()=>({}),render:Ol},14:{match:Qr(pU),order:1,parse:d=>({alt:d[1],target:rm(d[2]),title:d[3]}),render:(d,p,m)=>n("img",{key:m.key,alt:d.alt||void 0,title:d.title||void 0,src:ga(d.target)})},15:{match:Jr(hU),order:3,parse:(d,p,m)=>({children:_U(p,d[1],m),target:rm(d[2]),title:d[3]}),render:(d,p,m)=>n("a",{key:m.key,href:ga(d.target),title:d.title},p(d.children,m))},16:{match:Jr(V4),order:0,parse:d=>({children:[{text:d[1],type:"27"}],target:d[1],type:"15"})},17:{match:(d,p)=>p.inAnchor?null:Jr(L4)(d,p),order:0,parse:d=>({children:[{text:d[1],type:"27"}],target:d[1],title:void 0,type:"15"})},18:{match:Jr(z4),order:0,parse(d){let p=d[1],m=d[1];return x4.test(m)||(m="mailto:"+m),{children:[{text:p.replace("mailto:",""),type:"27"}],target:m,type:"15"}}},20:Qp(n,1),33:Qp(n,2),19:{match:Fr(I4),order:3,parse:xl,render:()=>`
`},21:{match:wU,order:3,parse:El,render:(d,p,m)=>n("p",{key:m.key},p(d.children,m))},22:{match:Jr(H4),order:0,parse:d=>(o[d[1]]={target:d[2],title:d[4]},{}),render:Ol},23:{match:Qr(K4),order:0,parse:d=>({alt:d[1]||void 0,ref:d[2]}),render:(d,p,m)=>o[d.ref]?n("img",{key:m.key,alt:d.alt,src:ga(o[d.ref].target),title:o[d.ref].title}):null},24:{match:Jr(G4),order:0,parse:(d,p,m)=>({children:p(d[1],m),fallbackChildren:p(d[0].replace(W4,"\\$1"),m),ref:d[2]}),render:(d,p,m)=>o[d.ref]?n("a",{key:m.key,href:ga(o[d.ref].target),title:o[d.ref].title},p(d.children,m)):n("span",{key:m.key},p(d.fallbackChildren,m))},25:{match:Fr(f0),order:1,parse:vU,render(d,p,m){const y=d;return n("table",{key:m.key},n("thead",null,n("tr",null,y.header.map(function(g,v){return n("th",{key:v,style:tm(y,v)},p(g,m))}))),n("tbody",null,y.cells.map(function(g,v){return n("tr",{key:v},g.map(function(w,_){return n("td",{key:_,style:tm(y,_)},p(w,m))}))})))}},27:{match:Ai(sU),order:4,parse:d=>({text:d[0].replace(M4,(p,m)=>t.namedCodesToUnicode[m]?t.namedCodesToUnicode[m]:p)}),render:d=>d.text},28:{match:Qr(tU),order:2,parse:(d,p,m)=>({children:p(d[2],m)}),render:(d,p,m)=>n("strong",{key:m.key},p(d.children,m))},29:{match:Qr(rU),order:3,parse:(d,p,m)=>({children:p(d[2],m)}),render:(d,p,m)=>n("em",{key:m.key},p(d.children,m))},30:{match:Qr(iU),order:1,parse:d=>({text:d[1],type:"27"})},31:{match:Qr(nU),order:3,parse:El,render:(d,p,m)=>n("mark",{key:m.key},p(d.children,m))},32:{match:Qr(aU),order:3,parse:El,render:(d,p,m)=>n("del",{key:m.key},p(d.children,m))}};t.disableParsingRawHTML===!0&&(delete c[11],delete c[13]);const l=function(d){let p=Object.keys(d);function m(y,g){let v=[],w="";for(;y;){let _=0;for(;_<p.length;){const b=p[_],x=d[b],S=x.match(y,g,w);if(S){const E=S[0];y=y.substring(E.length);const C=x.parse(S,m,g);C.type==null&&(C.type=b),v.push(C),w=E;break}_++}}return v}return p.sort(function(y,g){let v=d[y].order,w=d[g].order;return v!==w?v-w:y<g?-1:1}),function(y,g){return m(function(v){return v.replace(P4,`
`).replace(R4,"").replace(Y4,"    ")}(y),g)}}(c),u=(f=function(d,p){return function(m,y,g){const v=d[m.type].render;return p?p(()=>v(m,y,g),m,y,g):v(m,y,g)}}(c,t.renderRule),function d(p,m={}){if(Array.isArray(p)){const y=m.key,g=[];let v=!1;for(let w=0;w<p.length;w++){m.key=w;const _=d(p[w],m),b=typeof _=="string";b&&v?g[g.length-1]+=_:_!==null&&g.push(_),v=b}return m.key=y,g}return f(p,d,m)});var f;const h=a(e);return s.length?n("div",null,h,n("footer",{key:"footer"},s.map(function(d){return n("div",{id:t.slugify(d.identifier),key:d.identifier},d.identifier,u(l(d.footnote,{inline:!0})))}))):h}const Vc=e=>{let{children:t="",options:r}=e,n=function(a,i){if(a==null)return{};var s,o,c={},l=Object.keys(a);for(o=0;o<l.length;o++)i.indexOf(s=l[o])>=0||(c[s]=a[s]);return c}(e,$4);return Z.cloneElement(SU(t,r),n)};var EU=zy;function xU(e,t){return e==null?!0:EU(e,t)}var OU=xU;const AU=we(OU);class kU extends Z.Component{constructor(){super(...arguments),this.state={wasPropertyKeyModified:!1,additionalProperties:{}},this.onPropertyChange=(t,r=!1)=>(n,a,i)=>{const{formData:s,onChange:o,errorSchema:c}=this.props;n===void 0&&r&&(n="");const l={...s,[t]:n};o(l,c&&c&&{...c,[t]:a},i)},this.onDropPropertyClick=t=>r=>{r.preventDefault();const{onChange:n,formData:a}=this.props,i={...a};AU(i,t),n(i)},this.getAvailableKey=(t,r)=>{const{uiSchema:n,registry:a}=this.props,{duplicateKeySuffixSeparator:i="-"}=Se(n,a.globalUiOptions);let s=0,o=t;for(;bt(r,o);)o=`${t}${i}${++s}`;return o},this.onKeyChange=t=>(r,n)=>{if(t===r)return;const{formData:a,onChange:i,errorSchema:s}=this.props;r=this.getAvailableKey(r,a);const o={...a},c={[t]:r},l=Object.keys(o).map(f=>({[c[f]||f]:o[f]})),u=Object.assign({},...l);this.setState({wasPropertyKeyModified:!0}),i(u,s&&s&&{...s,[r]:n})},this.handleAddClick=t=>()=>{if(!t.additionalProperties)return;const{formData:r,onChange:n,registry:a}=this.props,i={...r};let s;if(sr(t.additionalProperties)){s=t.additionalProperties.type;let c=t.additionalProperties;if(ct in c){const{schemaUtils:l}=a;c=l.retrieveSchema({$ref:c[ct]},r),s=c.type}!s&&(kr in c||Ht in c)&&(s="object")}const o=this.getAvailableKey("newKey",i);vt(i,o,this.getDefaultValue(s)),n(i)}}isRequired(t){const{schema:r}=this.props;return Array.isArray(r.required)&&r.required.indexOf(t)!==-1}getDefaultValue(t){const{registry:{translateString:r}}=this.props;switch(t){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return r(Ee.NewStringDefault)}}render(){var t,r,n,a;const{schema:i,uiSchema:s={},formData:o,errorSchema:c,idSchema:l,name:u,required:f=!1,disabled:h=!1,readonly:d=!1,hideError:p,idPrefix:m,idSeparator:y,onBlur:g,onFocus:v,registry:w,title:_}=this.props,{fields:b,formContext:x,schemaUtils:S,translateString:E,globalUiOptions:C}=w,{SchemaField:k}=b,R=S.retrieveSchema(i,o),D=Se(s,C),{properties:L={}}=R,H=(n=(r=(t=D.title)!==null&&t!==void 0?t:R.title)!==null&&r!==void 0?r:_)!==null&&n!==void 0?n:u,Y=(a=D.description)!==null&&a!==void 0?a:R.description;let ce;try{const ee=Object.keys(L);ce=LM(ee,D.order)}catch(ee){return A.jsxs("div",{children:[A.jsx("p",{className:"config-error",style:{color:"red"},children:A.jsx(Vc,{children:E(Ee.InvalidObjectField,[u||"root",ee.message])})}),A.jsx("pre",{children:JSON.stringify(R)})]})}const de=ve("ObjectFieldTemplate",w,D),se={title:D.label===!1?"":H,description:D.label===!1?void 0:Y,properties:ce.map(ee=>{const V=bt(R,[Ye,ee,Ha]),N=V?s.additionalProperties:s[ee],z=Se(N).widget==="hidden",F=re(l,[ee],{});return{content:A.jsx(k,{name:ee,required:this.isRequired(ee),schema:re(R,[Ye,ee],{}),uiSchema:N,errorSchema:re(c,ee),idSchema:F,idPrefix:m,idSeparator:y,formData:re(o,ee),formContext:x,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(ee),onChange:this.onPropertyChange(ee,V),onBlur:g,onFocus:v,registry:w,disabled:h,readonly:d,hideError:p,onDropPropertyClick:this.onDropPropertyClick},ee),name:ee,readonly:d,disabled:h,required:f,hidden:z}}),readonly:d,disabled:h,required:f,idSchema:l,uiSchema:s,errorSchema:c,schema:R,formData:o,formContext:x,registry:w};return A.jsx(de,{...se,onAddClick:this.handleAddClick})}}const CU={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function TU(e,t,r,n){const a=t.field,{fields:i,translateString:s}=n;if(typeof a=="function")return a;if(typeof a=="string"&&a in i)return i[a];const o=$n(e),c=Array.isArray(o)?o[0]:o||"",l=e.$id;let u=CU[c];return l&&l in i&&(u=l),!u&&(e.anyOf||e.oneOf)?()=>null:u in i?i[u]:()=>{const f=ve("UnsupportedFieldTemplate",n,t);return A.jsx(f,{schema:e,idSchema:r,reason:s(Ee.UnknownFieldType,[String(e.type)]),registry:n})}}function IU(e){const{schema:t,idSchema:r,uiSchema:n,formData:a,errorSchema:i,idPrefix:s,idSeparator:o,name:c,onChange:l,onKeyChange:u,onDropPropertyClick:f,required:h,registry:d,wasPropertyKeyModified:p=!1}=e,{formContext:m,schemaUtils:y,globalUiOptions:g}=d,v=Se(n,g),w=ve("FieldTemplate",d,v),_=ve("DescriptionFieldTemplate",d,v),b=ve("FieldHelpTemplate",d,v),x=ve("FieldErrorTemplate",d,v),S=y.retrieveSchema(t,a),E=r[fn],C=si(y.toIdSchema(S,E,a,s,o),r),k=Z.useCallback((Ve,it,Rt)=>l(Ve,it,Rt||E),[E,l]),R=TU(S,v,C,d),D=!!(e.disabled||v.disabled),L=!!(e.readonly||v.readonly||e.schema.readOnly||S.readOnly),H=v.hideError,Y=H===void 0?e.hideError:!!H,ce=!!(e.autofocus||v.autofocus);if(Object.keys(S).length===0)return null;const de=y.getDisplayLabel(S,n,g),{__errors:se,...ee}=i||{},V=Bo(n,["ui:classNames","classNames","ui:style"]);Di in V&&(V[Di]=Bo(V[Di],["classNames","style"]));const N=A.jsx(R,{...e,onChange:k,idSchema:C,schema:S,uiSchema:V,disabled:D,readonly:L,hideError:Y,autofocus:ce,errorSchema:ee,formContext:m,rawErrors:se}),z=C[fn];let F;p?F=c:F=Ha in S?c:v.title||e.schema.title||S.title||e.title||c;const $=v.description||e.schema.description||S.description||"",I=v.enableMarkdownInDescription?A.jsx(Vc,{children:$}):$,B=v.help,G=v.widget==="hidden",J=["form-group","field",`field-${$n(S)}`];!Y&&se&&se.length>0&&J.push("field-error has-error has-danger"),n!=null&&n.classNames&&J.push(n.classNames),v.classNames&&J.push(v.classNames);const ue=A.jsx(b,{help:B,idSchema:C,schema:S,uiSchema:n,hasErrors:!Y&&se&&se.length>0,registry:d}),me=Y||(S.anyOf||S.oneOf)&&!y.isSelect(S)?void 0:A.jsx(x,{errors:se,errorSchema:i,idSchema:C,schema:S,uiSchema:n,registry:d}),Ce={description:A.jsx(_,{id:ta(z),description:I,schema:S,uiSchema:n,registry:d}),rawDescription:$,help:ue,rawHelp:typeof B=="string"?B:void 0,errors:me,rawErrors:Y?void 0:se,id:z,label:F,hidden:G,onChange:l,onKeyChange:u,onDropPropertyClick:f,required:h,disabled:D,readonly:L,hideError:Y,displayLabel:de,classNames:J.join(" ").trim(),style:v.style,formContext:m,formData:a,schema:S,uiSchema:n,registry:d},he=d.fields.AnyOfField,Ne=d.fields.OneOfField,Xe=(n==null?void 0:n["ui:field"])&&(n==null?void 0:n["ui:fieldReplacesAnyOrOneOf"])===!0;return A.jsx(w,{...Ce,children:A.jsxs(A.Fragment,{children:[N,S.anyOf&&!Xe&&!y.isSelect(S)&&A.jsx(he,{name:c,disabled:D,readonly:L,hideError:Y,errorSchema:i,formData:a,formContext:m,idPrefix:s,idSchema:C,idSeparator:o,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:S.anyOf.map(Ve=>y.retrieveSchema(sr(Ve)?Ve:{},a)),registry:d,schema:S,uiSchema:n}),S.oneOf&&!Xe&&!y.isSelect(S)&&A.jsx(Ne,{name:c,disabled:D,readonly:L,hideError:Y,errorSchema:i,formData:a,formContext:m,idPrefix:s,idSchema:C,idSeparator:o,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:S.oneOf.map(Ve=>y.retrieveSchema(sr(Ve)?Ve:{},a)),registry:d,schema:S,uiSchema:n})]})})}class PU extends Z.Component{shouldComponentUpdate(t){return!Ct(this.props,t)}render(){return A.jsx(IU,{...this.props})}}function NU(e){var t;const{schema:r,name:n,uiSchema:a,idSchema:i,formData:s,required:o,disabled:c=!1,readonly:l=!1,autofocus:u=!1,onChange:f,onBlur:h,onFocus:d,registry:p,rawErrors:m,hideError:y}=e,{title:g,format:v}=r,{widgets:w,formContext:_,schemaUtils:b,globalUiOptions:x}=p,S=b.isSelect(r)?Ho(r):void 0;let E=S?"select":"text";v&&MM(r,v,w)&&(E=v);const{widget:C=E,placeholder:k="",title:R,...D}=Se(a),L=b.getDisplayLabel(r,a,x),H=(t=R??g)!==null&&t!==void 0?t:n,Y=Lr(r,C,w);return A.jsx(Y,{options:{...D,enumOptions:S},schema:r,uiSchema:a,id:i.$id,name:n,label:H,hideLabel:!L,hideError:y,value:s,onChange:f,onBlur:h,onFocus:d,required:o,disabled:c,readonly:l,formContext:_,autofocus:u,registry:p,placeholder:k,rawErrors:m})}function jU(e){const{formData:t,onChange:r}=e;return Z.useEffect(()=>{t===void 0&&r(null)},[t,r]),null}function RU(){return{AnyOfField:Gp,ArrayField:y4,BooleanField:v4,NumberField:b4,ObjectField:kU,OneOfField:Gp,SchemaField:PU,StringField:NU,NullField:jU}}function FU(e){const{idSchema:t,description:r,registry:n,schema:a,uiSchema:i}=e,s=Se(i,n.globalUiOptions),{label:o=!0}=s;if(!r||!o)return null;const c=ve("DescriptionFieldTemplate",n,s);return A.jsx(c,{id:ta(t),description:r,schema:a,uiSchema:i,registry:n})}function DU(e){const{children:t,className:r,disabled:n,hasToolbar:a,hasMoveDown:i,hasMoveUp:s,hasRemove:o,hasCopy:c,index:l,onCopyIndexClick:u,onDropIndexClick:f,onReorderClick:h,readonly:d,registry:p,uiSchema:m}=e,{CopyButton:y,MoveDownButton:g,MoveUpButton:v,RemoveButton:w}=p.templates.ButtonTemplates,_={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return A.jsxs("div",{className:r,children:[A.jsx("div",{className:a?"col-xs-9":"col-xs-12",children:t}),a&&A.jsx("div",{className:"col-xs-3 array-item-toolbox",children:A.jsxs("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(s||i)&&A.jsx(v,{style:_,disabled:n||d||!s,onClick:h(l,l-1),uiSchema:m,registry:p}),(s||i)&&A.jsx(g,{style:_,disabled:n||d||!i,onClick:h(l,l+1),uiSchema:m,registry:p}),c&&A.jsx(y,{style:_,disabled:n||d,onClick:u(l),uiSchema:m,registry:p}),o&&A.jsx(w,{style:_,disabled:n||d,onClick:f(l),uiSchema:m,registry:p})]})})]})}function MU(e){const{canAdd:t,className:r,disabled:n,idSchema:a,uiSchema:i,items:s,onAddClick:o,readonly:c,registry:l,required:u,schema:f,title:h}=e,d=Se(i),p=ve("ArrayFieldDescriptionTemplate",l,d),m=ve("ArrayFieldItemTemplate",l,d),y=ve("ArrayFieldTitleTemplate",l,d),{ButtonTemplates:{AddButton:g}}=l.templates;return A.jsxs("fieldset",{className:r,id:a.$id,children:[A.jsx(y,{idSchema:a,title:d.title||h,required:u,schema:f,uiSchema:i,registry:l}),A.jsx(p,{idSchema:a,description:d.description||f.description,schema:f,uiSchema:i,registry:l}),A.jsx("div",{className:"row array-item-list",children:s&&s.map(({key:v,...w})=>A.jsx(m,{...w},v))}),t&&A.jsx(g,{className:"array-item-add",onClick:o,disabled:n||c,uiSchema:i,registry:l})]})}function UU(e){const{idSchema:t,title:r,schema:n,uiSchema:a,required:i,registry:s}=e,o=Se(a,s.globalUiOptions),{label:c=!0}=o;if(!r||!c)return null;const l=ve("TitleFieldTemplate",s,o);return A.jsx(l,{id:Hf(t),title:r,required:i,schema:n,uiSchema:a,registry:s})}function BU(e){const{id:t,name:r,value:n,readonly:a,disabled:i,autofocus:s,onBlur:o,onFocus:c,onChange:l,onChangeOverride:u,options:f,schema:h,uiSchema:d,formContext:p,registry:m,rawErrors:y,type:g,hideLabel:v,hideError:w,..._}=e;if(!t)throw console.log("No id for",e),new Error(`no id for props ${JSON.stringify(e)}`);const b={..._,...Jv(h,g,f)};let x;b.type==="number"||b.type==="integer"?x=n||n===0?n:"":x=n??"";const S=Z.useCallback(({target:{value:k}})=>l(k===""?f.emptyValue:k),[l,f]),E=Z.useCallback(({target:{value:k}})=>o(t,k),[o,t]),C=Z.useCallback(({target:{value:k}})=>c(t,k),[c,t]);return A.jsxs(A.Fragment,{children:[A.jsx("input",{id:t,name:t,className:"form-control",readOnly:a,disabled:i,autoFocus:s,value:x,...b,list:h.examples?Ji(t):void 0,onChange:u||S,onBlur:E,onFocus:C,"aria-describedby":Bt(t,!!h.examples)}),Array.isArray(h.examples)&&A.jsx("datalist",{id:Ji(t),children:h.examples.concat(h.default&&!h.examples.includes(h.default)?[h.default]:[]).map(k=>A.jsx("option",{value:k},k))},`datalist_${t}`)]})}function LU({uiSchema:e}){const{submitText:t,norender:r,props:n={}}=Qv(e);return r?null:A.jsx("div",{children:A.jsx("button",{type:"submit",...n,className:`btn btn-info ${n.className||""}`,children:t})})}function ws(e){const{iconType:t="default",icon:r,className:n,uiSchema:a,registry:i,...s}=e;return A.jsx("button",{type:"button",className:`btn btn-${t} ${n}`,...s,children:A.jsx("i",{className:`glyphicon glyphicon-${r}`})})}function zU(e){const{registry:{translateString:t}}=e;return A.jsx(ws,{title:t(Ee.CopyButton),className:"array-item-copy",...e,icon:"copy"})}function VU(e){const{registry:{translateString:t}}=e;return A.jsx(ws,{title:t(Ee.MoveDownButton),className:"array-item-move-down",...e,icon:"arrow-down"})}function qU(e){const{registry:{translateString:t}}=e;return A.jsx(ws,{title:t(Ee.MoveUpButton),className:"array-item-move-up",...e,icon:"arrow-up"})}function HU(e){const{registry:{translateString:t}}=e;return A.jsx(ws,{title:t(Ee.RemoveButton),className:"array-item-remove",...e,iconType:"danger",icon:"remove"})}function KU({className:e,onClick:t,disabled:r,registry:n}){const{translateString:a}=n;return A.jsx("div",{className:"row",children:A.jsx("p",{className:`col-xs-3 col-xs-offset-9 text-right ${e}`,children:A.jsx(ws,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:a(Ee.AddButton),onClick:t,disabled:r,registry:n})})})}function GU(){return{SubmitButton:LU,AddButton:KU,CopyButton:zU,MoveDownButton:VU,MoveUpButton:qU,RemoveButton:HU}}function WU(e){const{id:t,description:r}=e;return r?typeof r=="string"?A.jsx("p",{id:t,className:"field-description",children:r}):A.jsx("div",{id:t,className:"field-description",children:r}):null}function ZU({errors:e,registry:t}){const{translateString:r}=t;return A.jsxs("div",{className:"panel panel-danger errors",children:[A.jsx("div",{className:"panel-heading",children:A.jsx("h3",{className:"panel-title",children:r(Ee.ErrorsLabel)})}),A.jsx("ul",{className:"list-group",children:e.map((n,a)=>A.jsx("li",{className:"list-group-item text-danger",children:n.stack},a))})]})}const YU="*";function S0(e){const{label:t,required:r,id:n}=e;return t?A.jsxs("label",{className:"control-label",htmlFor:n,children:[t,r&&A.jsx("span",{className:"required",children:YU})]}):null}function XU(e){const{id:t,label:r,children:n,errors:a,help:i,description:s,hidden:o,required:c,displayLabel:l,registry:u,uiSchema:f}=e,h=Se(f),d=ve("WrapIfAdditionalTemplate",u,h);return o?A.jsx("div",{className:"hidden",children:n}):A.jsxs(d,{...e,children:[l&&A.jsx(S0,{label:r,required:c,id:t}),l&&s?s:null,n,a,i]})}function JU(e){const{errors:t=[],idSchema:r}=e;if(t.length===0)return null;const n=Vf(r);return A.jsx("div",{children:A.jsx("ul",{id:n,className:"error-detail bs-callout bs-callout-info",children:t.filter(a=>!!a).map((a,i)=>A.jsx("li",{className:"text-danger",children:a},i))})})}function QU(e){const{idSchema:t,help:r}=e;if(!r)return null;const n=qf(t);return typeof r=="string"?A.jsx("p",{id:n,className:"help-block",children:r}):A.jsx("div",{id:n,className:"help-block",children:r})}function e6(e){const{description:t,disabled:r,formData:n,idSchema:a,onAddClick:i,properties:s,readonly:o,registry:c,required:l,schema:u,title:f,uiSchema:h}=e,d=Se(h),p=ve("TitleFieldTemplate",c,d),m=ve("DescriptionFieldTemplate",c,d),{ButtonTemplates:{AddButton:y}}=c.templates;return A.jsxs("fieldset",{id:a.$id,children:[f&&A.jsx(p,{id:Hf(a),title:f,required:l,schema:u,uiSchema:h,registry:c}),t&&A.jsx(m,{id:ta(a),description:t,schema:u,uiSchema:h,registry:c}),s.map(g=>g.content),ay(u,h,n)&&A.jsx(y,{className:"object-property-expand",onClick:i(u),disabled:r||o,uiSchema:h,registry:c})]})}const t6="*";function r6(e){const{id:t,title:r,required:n}=e;return A.jsxs("legend",{id:t,children:[r,n&&A.jsx("span",{className:"required",children:t6})]})}function n6(e){const{schema:t,idSchema:r,reason:n,registry:a}=e,{translateString:i}=a;let s=Ee.UnsupportedField;const o=[];return r&&r.$id&&(s=Ee.UnsupportedFieldWithId,o.push(r.$id)),n&&(s=s===Ee.UnsupportedField?Ee.UnsupportedFieldWithReason:Ee.UnsupportedFieldWithIdAndReason,o.push(n)),A.jsxs("div",{className:"unsupported-field",children:[A.jsx("p",{children:A.jsx(Vc,{children:i(s,o)})}),t&&A.jsx("pre",{children:JSON.stringify(t,null,2)})]})}function a6(e){const{id:t,classNames:r,style:n,disabled:a,label:i,onKeyChange:s,onDropPropertyClick:o,readonly:c,required:l,schema:u,children:f,uiSchema:h,registry:d}=e,{templates:p,translateString:m}=d,{RemoveButton:y}=p.ButtonTemplates,g=m(Ee.KeyLabel,[i]);return Ha in u?A.jsx("div",{className:r,style:n,children:A.jsxs("div",{className:"row",children:[A.jsx("div",{className:"col-xs-5 form-additional",children:A.jsxs("div",{className:"form-group",children:[A.jsx(S0,{label:g,required:l,id:`${t}-key`}),A.jsx("input",{className:"form-control",type:"text",id:`${t}-key`,onBlur:w=>s(w.target.value),defaultValue:i})]})}),A.jsx("div",{className:"form-additional form-group col-xs-5",children:f}),A.jsx("div",{className:"col-xs-2",children:A.jsx(y,{className:"array-item-remove btn-block",style:{border:"0"},disabled:a||c,onClick:o(i),uiSchema:h,registry:d})})]})}):A.jsx("div",{className:r,style:n,children:f})}function i6(){return{ArrayFieldDescriptionTemplate:FU,ArrayFieldItemTemplate:DU,ArrayFieldTemplate:MU,ArrayFieldTitleTemplate:UU,ButtonTemplates:GU(),BaseInputTemplate:BU,DescriptionFieldTemplate:WU,ErrorListTemplate:ZU,FieldTemplate:XU,FieldErrorTemplate:JU,FieldHelpTemplate:QU,ObjectFieldTemplate:e6,TitleFieldTemplate:r6,UnsupportedFieldTemplate:n6,WrapIfAdditionalTemplate:a6}}function s6(e,t){const r=[];for(let n=e;n<=t;n++)r.push({value:n,label:on(n,2)});return r}function o6(e){return Object.values(e).every(t=>t!==-1)}function c6({type:e,range:t,value:r,select:n,rootId:a,name:i,disabled:s,readonly:o,autofocus:c,registry:l,onBlur:u,onFocus:f}){const h=a+"_"+e,{SelectWidget:d}=l.widgets;return A.jsx(d,{schema:{type:"integer"},id:h,name:i,className:"form-control",options:{enumOptions:s6(t[0],t[1])},placeholder:e,value:r,disabled:s,readonly:o,autofocus:c,onChange:p=>n(e,p),onBlur:u,onFocus:f,registry:l,label:"","aria-describedby":Bt(a)})}function l6({time:e=!1,disabled:t=!1,readonly:r=!1,autofocus:n=!1,options:a,id:i,name:s,registry:o,onBlur:c,onFocus:l,onChange:u,value:f}){const{translateString:h}=o,[d,p]=Z.useState(f),[m,y]=Z.useReducer((_,b)=>({..._,...b}),Sl(f,e));Z.useEffect(()=>{const _=Hp(m,e);o6(m)&&_!==f?u(_):d!==f&&(p(f),y(Sl(f,e)))},[e,f,u,m,d]);const g=Z.useCallback((_,b)=>{y({[_]:b})},[]),v=Z.useCallback(_=>{if(_.preventDefault(),t||r)return;const b=Sl(new Date().toJSON(),e);u(Hp(b,e))},[t,r,e]),w=Z.useCallback(_=>{_.preventDefault(),!(t||r)&&u(void 0)},[t,r,u]);return A.jsxs("ul",{className:"list-inline",children:[TM(m,e,a.yearsRange,a.format).map((_,b)=>A.jsx("li",{className:"list-inline-item",children:A.jsx(c6,{rootId:i,name:s,select:g,..._,disabled:t,readonly:r,registry:o,onBlur:c,onFocus:l,autofocus:n&&b===0})},b)),(a.hideNowButton!=="undefined"?!a.hideNowButton:!0)&&A.jsx("li",{className:"list-inline-item",children:A.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:v,children:h(Ee.NowLabel)})}),(a.hideClearButton!=="undefined"?!a.hideClearButton:!0)&&A.jsx("li",{className:"list-inline-item",children:A.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:w,children:h(Ee.ClearLabel)})})]})}function u6({time:e=!0,...t}){const{AltDateWidget:r}=t.registry.widgets;return A.jsx(r,{time:e,...t})}function f6({schema:e,uiSchema:t,options:r,id:n,value:a,disabled:i,readonly:s,label:o,hideLabel:c,autofocus:l=!1,onBlur:u,onFocus:f,onChange:h,registry:d}){var p;const m=ve("DescriptionFieldTemplate",d,r),y=Mi(e),g=Z.useCallback(b=>h(b.target.checked),[h]),v=Z.useCallback(b=>u(n,b.target.checked),[u,n]),w=Z.useCallback(b=>f(n,b.target.checked),[f,n]),_=(p=r.description)!==null&&p!==void 0?p:e.description;return A.jsxs("div",{className:`checkbox ${i||s?"disabled":""}`,children:[!c&&!!_&&A.jsx(m,{id:ta(n),description:_,schema:e,uiSchema:t,registry:d}),A.jsxs("label",{children:[A.jsx("input",{type:"checkbox",id:n,name:n,checked:typeof a>"u"?!1:a,required:y,disabled:i||s,autoFocus:l,onChange:g,onBlur:v,onFocus:w,"aria-describedby":Bt(n)}),Kf(A.jsx("span",{children:o}),c)]})]})}function d6({id:e,disabled:t,options:{inline:r=!1,enumOptions:n,enumDisabled:a,emptyValue:i},value:s,autofocus:o=!1,readonly:c,onChange:l,onBlur:u,onFocus:f}){const h=Array.isArray(s)?s:[s],d=Z.useCallback(({target:{value:m}})=>u(e,ut(m,n,i)),[u,e]),p=Z.useCallback(({target:{value:m}})=>f(e,ut(m,n,i)),[f,e]);return A.jsx("div",{className:"checkboxes",id:e,children:Array.isArray(n)&&n.map((m,y)=>{const g=ys(m.value,h),v=Array.isArray(a)&&a.indexOf(m.value)!==-1,w=t||v||c?"disabled":"",_=x=>{x.target.checked?l(Xv(y,h,n)):l(Zv(y,h,n))},b=A.jsxs("span",{children:[A.jsx("input",{type:"checkbox",id:Lc(e,y),name:e,checked:g,value:String(y),disabled:t||v||c,autoFocus:o&&y===0,onChange:_,onBlur:d,onFocus:p,"aria-describedby":Bt(e)}),A.jsx("span",{children:m.label})]});return r?A.jsx("label",{className:`checkbox-inline ${w}`,children:b},y):A.jsx("div",{className:`checkbox ${w}`,children:A.jsx("label",{children:b})},y)})})}function h6(e){const{disabled:t,readonly:r,options:n,registry:a}=e,i=ve("BaseInputTemplate",a,n);return A.jsx(i,{type:"color",...e,disabled:t||r})}function p6(e){const{onChange:t,options:r,registry:n}=e,a=ve("BaseInputTemplate",n,r),i=Z.useCallback(s=>t(s||void 0),[t]);return A.jsx(a,{type:"date",...e,onChange:i})}function m6(e){const{onChange:t,value:r,options:n,registry:a}=e,i=ve("BaseInputTemplate",a,n);return A.jsx(i,{type:"datetime-local",...e,value:QM(r),onChange:s=>t(UM(s))})}function g6(e){const{options:t,registry:r}=e,n=ve("BaseInputTemplate",r,t);return A.jsx(n,{type:"email",...e})}function y6(e,t){return e===null?null:e.replace(";base64",`;name=${encodeURIComponent(t)};base64`)}function v6(e){const{name:t,size:r,type:n}=e;return new Promise((a,i)=>{const s=new window.FileReader;s.onerror=i,s.onload=o=>{var c;typeof((c=o.target)===null||c===void 0?void 0:c.result)=="string"?a({dataURL:y6(o.target.result,t),name:t,size:r,type:n}):a({dataURL:null,name:t,size:r,type:n})},s.readAsDataURL(e)})}function w6(e){return Promise.all(Array.from(e).map(v6))}function _6({fileInfo:e,registry:t}){const{translateString:r}=t,{dataURL:n,type:a,name:i}=e;return n?["image/jpeg","image/png"].includes(a)?A.jsx("img",{src:n,style:{maxWidth:"100%"},className:"file-preview"}):A.jsxs(A.Fragment,{children:[" ",A.jsx("a",{download:`preview-${i}`,href:n,className:"file-download",children:r(Ee.PreviewLabel)})]}):null}function b6({filesInfo:e,registry:t,preview:r,onRemove:n,options:a}){if(e.length===0)return null;const{translateString:i}=t,{RemoveButton:s}=ve("ButtonTemplates",t,a);return A.jsx("ul",{className:"file-info",children:e.map((o,c)=>{const{name:l,size:u,type:f}=o,h=()=>n(c);return A.jsxs("li",{children:[A.jsx(Vc,{children:i(Ee.FilesInfo,[l,f,String(u)])}),r&&A.jsx(_6,{fileInfo:o,registry:t}),A.jsx(s,{onClick:h,registry:t})]},c)})})}function $6(e){return e.reduce((t,r)=>{if(!r)return t;try{const{blob:n,name:a}=SM(r);return[...t,{dataURL:r,name:a,size:n.size,type:n.type}]}catch{return t}},[])}function S6(e){const{disabled:t,readonly:r,required:n,multiple:a,onChange:i,value:s,options:o,registry:c}=e,l=ve("BaseInputTemplate",c,o),u=Z.useCallback(d=>{d.target.files&&w6(d.target.files).then(p=>{const m=p.map(y=>y.dataURL);i(a?s.concat(m[0]):m[0])})},[a,s,i]),f=Z.useMemo(()=>$6(Array.isArray(s)?s:[s]),[s]),h=Z.useCallback(d=>{if(a){const p=s.filter((m,y)=>y!==d);i(p)}else i(void 0)},[a,s,i]);return A.jsxs("div",{children:[A.jsx(l,{...e,disabled:t||r,type:"file",required:s?!1:n,onChangeOverride:u,value:"",accept:o.accept?String(o.accept):void 0}),A.jsx(b6,{filesInfo:f,onRemove:h,registry:c,preview:o.filePreview,options:o})]})}function E6({id:e,value:t}){return A.jsx("input",{type:"hidden",id:e,name:e,value:typeof t>"u"?"":t})}function x6(e){const{options:t,registry:r}=e,n=ve("BaseInputTemplate",r,t);return A.jsx(n,{type:"password",...e})}function O6({options:e,value:t,required:r,disabled:n,readonly:a,autofocus:i=!1,onBlur:s,onFocus:o,onChange:c,id:l}){const{enumOptions:u,enumDisabled:f,inline:h,emptyValue:d}=e,p=Z.useCallback(({target:{value:y}})=>s(l,ut(y,u,d)),[s,l]),m=Z.useCallback(({target:{value:y}})=>o(l,ut(y,u,d)),[o,l]);return A.jsx("div",{className:"field-radio-group",id:l,children:Array.isArray(u)&&u.map((y,g)=>{const v=ys(y.value,t),w=Array.isArray(f)&&f.indexOf(y.value)!==-1,_=n||w||a?"disabled":"",b=()=>c(y.value),x=A.jsxs("span",{children:[A.jsx("input",{type:"radio",id:Lc(l,g),checked:v,name:l,required:r,value:String(g),disabled:n||w||a,autoFocus:i&&g===0,onChange:b,onBlur:p,onFocus:m,"aria-describedby":Bt(l)}),A.jsx("span",{children:y.label})]});return h?A.jsx("label",{className:`radio-inline ${_}`,children:x},g):A.jsx("div",{className:`radio ${_}`,children:A.jsx("label",{children:x})},g)})})}function A6(e){const{value:t,registry:{templates:{BaseInputTemplate:r}}}=e;return A.jsxs("div",{className:"field-range-wrapper",children:[A.jsx(r,{type:"range",...e}),A.jsx("span",{className:"range-view",children:t})]})}function kl(e,t){return t?Array.from(e.target.options).slice().filter(r=>r.selected).map(r=>r.value):e.target.value}function k6({schema:e,id:t,options:r,value:n,required:a,disabled:i,readonly:s,multiple:o=!1,autofocus:c=!1,onChange:l,onBlur:u,onFocus:f,placeholder:h}){const{enumOptions:d,enumDisabled:p,emptyValue:m}=r,y=o?[]:"",g=Z.useCallback(b=>{const x=kl(b,o);return f(t,ut(x,d,m))},[f,t,e,o,r]),v=Z.useCallback(b=>{const x=kl(b,o);return u(t,ut(x,d,m))},[u,t,e,o,r]),w=Z.useCallback(b=>{const x=kl(b,o);return l(ut(x,d,m))},[l,e,o,r]),_=Yv(n,d,o);return A.jsxs("select",{id:t,name:t,multiple:o,className:"form-control",value:typeof _>"u"?y:_,required:a,disabled:i||s,autoFocus:c,onBlur:v,onFocus:g,onChange:w,"aria-describedby":Bt(t),children:[!o&&e.default===void 0&&A.jsx("option",{value:"",children:h}),Array.isArray(d)&&d.map(({value:b,label:x},S)=>{const E=p&&p.indexOf(b)!==-1;return A.jsx("option",{value:String(S),disabled:E,children:x},S)})]})}function E0({id:e,options:t={},placeholder:r,value:n,required:a,disabled:i,readonly:s,autofocus:o=!1,onChange:c,onBlur:l,onFocus:u}){const f=Z.useCallback(({target:{value:p}})=>c(p===""?t.emptyValue:p),[c,t.emptyValue]),h=Z.useCallback(({target:{value:p}})=>l(e,p),[l,e]),d=Z.useCallback(({target:{value:p}})=>u(e,p),[e,u]);return A.jsx("textarea",{id:e,name:e,className:"form-control",value:n||"",placeholder:r,required:a,disabled:i,readOnly:s,autoFocus:o,rows:t.rows,onBlur:h,onFocus:d,onChange:f,"aria-describedby":Bt(e)})}E0.defaultProps={autofocus:!1,options:{}};function C6(e){const{options:t,registry:r}=e,n=ve("BaseInputTemplate",r,t);return A.jsx(n,{...e})}function T6(e){const{onChange:t,options:r,registry:n}=e,a=ve("BaseInputTemplate",n,r),i=Z.useCallback(s=>t(s?`${s}:00`:void 0),[t]);return A.jsx(a,{type:"time",...e,onChange:i})}function I6(e){const{options:t,registry:r}=e,n=ve("BaseInputTemplate",r,t);return A.jsx(n,{type:"url",...e})}function P6(e){const{options:t,registry:r}=e,n=ve("BaseInputTemplate",r,t);return A.jsx(n,{type:"number",...e})}function N6(){return{AltDateWidget:l6,AltDateTimeWidget:u6,CheckboxWidget:f6,CheckboxesWidget:d6,ColorWidget:h6,DateWidget:p6,DateTimeWidget:m6,EmailWidget:g6,FileWidget:S6,HiddenWidget:E6,PasswordWidget:x6,RadioWidget:O6,RangeWidget:A6,SelectWidget:k6,TextWidget:C6,TextareaWidget:E0,TimeWidget:T6,UpDownWidget:P6,URLWidget:I6}}function j6(){return{fields:RU(),templates:i6(),widgets:N6(),rootSchema:{},formContext:{},translateString:xM}}let R6=class extends Z.Component{constructor(t){if(super(t),this.getUsedFormData=(r,n)=>{if(n.length===0&&typeof r!="object")return r;const a=m4(r,n);return Array.isArray(r)?Object.keys(a).map(i=>a[i]):a},this.getFieldNames=(r,n)=>{const a=(i,s=[],o=[[]])=>(Object.keys(i).forEach(c=>{if(typeof i[c]=="object"){const l=o.map(u=>[...u,c]);i[c][tf]&&i[c][wo]!==""?s.push(i[c][wo]):a(i[c],s,l)}else c===wo&&i[c]!==""&&o.forEach(l=>{const u=re(n,l);(typeof u!="object"||bn(u)||Array.isArray(u)&&u.every(f=>typeof f!="object"))&&s.push(l)})}),s);return a(r)},this.onChange=(r,n,a)=>{const{extraErrors:i,omitExtraData:s,liveOmit:o,noValidate:c,liveValidate:l,onChange:u}=this.props,{schemaUtils:f,schema:h,retrievedSchema:d}=this.state;(We(r)||Array.isArray(r))&&(r=this.getStateFromProps(this.props,r,d).formData);const p=!c&&l;let m={formData:r,schema:h},y=r,g;if(s===!0&&o===!0){g=f.retrieveSchema(h,r);const v=f.toPathSchema(g,"",r),w=this.getFieldNames(v,r);y=this.getUsedFormData(r,w),m={formData:y}}if(p){const v=this.validate(y,h,f,d);let w=v.errors,_=v.errorSchema;const b=w,x=_;if(i){const S=So(v,i);_=S.errorSchema,w=S.errors}m={formData:y,errors:w,errorSchema:_,schemaValidationErrors:b,schemaValidationErrorSchema:x}}else if(!c&&n){const v=i?si(n,i,"preventDuplicates"):n;m={formData:y,errorSchema:v,errors:Qi(v)}}g&&(m.retrievedSchema=g),this.setState(m,()=>u&&u({...this.state,...m},a))},this.reset=()=>{const{onChange:r}=this.props,i={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(i,()=>r&&r({...this.state,...i}))},this.onBlur=(r,n)=>{const{onBlur:a}=this.props;a&&a(r,n)},this.onFocus=(r,n)=>{const{onFocus:a}=this.props;a&&a(r,n)},this.onSubmit=r=>{if(r.preventDefault(),r.target!==r.currentTarget)return;r.persist();const{omitExtraData:n,extraErrors:a,noValidate:i,onSubmit:s}=this.props;let{formData:o}=this.state;const{schema:c,schemaUtils:l}=this.state;if(n===!0){const u=l.retrieveSchema(c,o),f=l.toPathSchema(u,"",o),h=this.getFieldNames(f,o);o=this.getUsedFormData(o,h)}if(i||this.validateForm()){const u=a||{},f=a?Qi(a):[];this.setState({formData:o,errors:f,errorSchema:u,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{s&&s({...this.state,formData:o,status:"submitted"},r)})}},this.submit=()=>{if(this.formElement.current){const r=new CustomEvent("submit",{cancelable:!0});r.preventDefault(),this.formElement.current.dispatchEvent(r),this.formElement.current.requestSubmit()}},!t.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(t,t.formData),this.props.onChange&&!Ct(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=Z.createRef()}getSnapshotBeforeUpdate(t,r){if(!Ct(this.props,t)){const n=!Ct(t.schema,this.props.schema),a=!Ct(t.formData,this.props.formData),i=this.getStateFromProps(this.props,this.props.formData,n||a?void 0:this.state.retrievedSchema,n),s=!Ct(i,r);return{nextState:i,shouldUpdate:s}}return{shouldUpdate:!1}}componentDidUpdate(t,r,n){if(n.shouldUpdate){const{nextState:a}=n;!Ct(a.formData,this.props.formData)&&!Ct(a.formData,r.formData)&&this.props.onChange&&this.props.onChange(a),this.setState(a)}}getStateFromProps(t,r,n,a=!1){const i=this.state||{},s="schema"in t?t.schema:this.props.schema,o=("uiSchema"in t?t.uiSchema:this.props.uiSchema)||{},c=typeof r<"u",l="liveValidate"in t?t.liveValidate:this.props.liveValidate,u=c&&!t.noValidate&&l,f=s,h="experimental_defaultFormStateBehavior"in t?t.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior;let d=i.schemaUtils;(!d||d.doesSchemaUtilsDiffer(t.validator,f,h))&&(d=$M(t.validator,f,h));const p=d.getDefaultFormState(s,r),m=n??d.retrieveSchema(s,p),y=()=>t.noValidate||a?{errors:[],errorSchema:{}}:t.liveValidate?{errors:i.errors||[],errorSchema:i.errorSchema||{}}:{errors:i.schemaValidationErrors||[],errorSchema:i.schemaValidationErrorSchema||{}};let g,v,w=i.schemaValidationErrors,_=i.schemaValidationErrorSchema;if(u){const S=this.validate(p,s,d,m);g=S.errors,v=S.errorSchema,w=g,_=v}else{const S=y();g=S.errors,v=S.errorSchema}if(t.extraErrors){const S=So({errorSchema:v,errors:g},t.extraErrors);v=S.errorSchema,g=S.errors}const b=d.toIdSchema(m,o["ui:rootFieldId"],p,t.idPrefix,t.idSeparator);return{schemaUtils:d,schema:s,uiSchema:o,idSchema:b,formData:p,edit:c,errors:g,errorSchema:v,schemaValidationErrors:w,schemaValidationErrorSchema:_,retrievedSchema:m}}shouldComponentUpdate(t,r){return zM(this,t,r)}validate(t,r=this.props.schema,n,a){const i=n||this.state.schemaUtils,{customValidate:s,transformErrors:o,uiSchema:c}=this.props,l=a??i.retrieveSchema(r,t);return i.getValidator().validateFormData(t,l,s,o,c)}renderErrors(t){const{errors:r,errorSchema:n,schema:a,uiSchema:i}=this.state,{formContext:s}=this.props,o=Se(i),c=ve("ErrorListTemplate",t,o);return r&&r.length?A.jsx(c,{errors:r,errorSchema:n||{},schema:a,uiSchema:i,formContext:s,registry:t}):null}getRegistry(){var t;const{translateString:r,uiSchema:n={}}=this.props,{schemaUtils:a}=this.state,{fields:i,templates:s,widgets:o,formContext:c,translateString:l}=j6();return{fields:{...i,...this.props.fields},templates:{...s,...this.props.templates,ButtonTemplates:{...s.ButtonTemplates,...(t=this.props.templates)===null||t===void 0?void 0:t.ButtonTemplates}},widgets:{...o,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||c,schemaUtils:a,translateString:r||l,globalUiOptions:n[Pb]}}focusOnError(t){const{idPrefix:r="root",idSeparator:n="_"}=this.props,{property:a}=t,i=r0(a);i[0]===""?i[0]=r:i.unshift(r);const s=i.join(n);let o=this.formElement.current.elements[s];o||(o=this.formElement.current.querySelector(`input[id^=${s}`)),o&&o.length&&(o=o[0]),o&&o.focus()}validateForm(){const{extraErrors:t,extraErrorsBlockSubmit:r,focusOnFirstError:n,onError:a}=this.props,{formData:i,errors:s}=this.state,o=this.validate(i);let c=o.errors,l=o.errorSchema;const u=c,f=l,h=c.length>0||t&&r;if(h){if(t){const d=So(o,t);l=d.errorSchema,c=d.errors}n&&(typeof n=="function"?n(c[0]):this.focusOnError(c[0])),this.setState({errors:c,errorSchema:l,schemaValidationErrors:u,schemaValidationErrorSchema:f},()=>{a?a(c):console.error("Form validation failed",c)})}else s.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!h}render(){const{children:t,id:r,idPrefix:n,idSeparator:a,className:i="",tagName:s,name:o,method:c,target:l,action:u,autoComplete:f,enctype:h,acceptcharset:d,acceptCharset:p,noHtml5Validate:m=!1,disabled:y=!1,readonly:g=!1,formContext:v,showErrorList:w="top",_internalFormWrapper:_}=this.props,{schema:b,uiSchema:x,formData:S,errorSchema:E,idSchema:C}=this.state,k=this.getRegistry(),{SchemaField:R}=k.fields,{SubmitButton:D}=k.templates.ButtonTemplates,L=_?s:void 0,H=_||s||"form";let{[Ro]:Y={}}=Se(x);y&&(Y={...Y,props:{...Y.props,disabled:!0}});const ce={[Di]:{[Ro]:Y}};return A.jsxs(H,{className:i||"rjsf",id:r,name:o,method:c,target:l,action:u,autoComplete:f,encType:h,acceptCharset:p||d,noValidate:m,onSubmit:this.onSubmit,as:L,ref:this.formElement,children:[w==="top"&&this.renderErrors(k),A.jsx(R,{name:"",schema:b,uiSchema:x,errorSchema:E,idSchema:C,idPrefix:n,idSeparator:a,formContext:v,formData:S,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:k,disabled:y,readonly:g}),t||A.jsx(D,{uiSchema:ce,registry:k}),w==="bottom"&&this.renderErrors(k)]})}};function F6(e){return Z.forwardRef(({fields:t,widgets:r,templates:n,...a},i)=>{var s;return t={...e==null?void 0:e.fields,...t},r={...e==null?void 0:e.widgets,...r},n={...e==null?void 0:e.templates,...n,ButtonTemplates:{...(s=e==null?void 0:e.templates)===null||s===void 0?void 0:s.ButtonTemplates,...n==null?void 0:n.ButtonTemplates}},A.jsx(R6,{...e,...a,fields:t,widgets:r,templates:n,ref:i})})}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xe.apply(null,arguments)}function Fe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var x0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var i="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(i=a(i,n(o)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var s="";for(var o in i)t.call(i,o)&&i[o]&&(s=a(s,o));return s}function a(i,s){return s?i?i+" "+s:i+s:i}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(x0);var D6=x0.exports;const ze=we(D6);var Yf=K.createContext({});Yf.Consumer;Yf.Provider;function nt(e,t){var r=Z.useContext(Yf);return e||r[t]||t}function M6(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(n){return n!=null}).reduce(function(n,a){if(typeof a!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===null?a:function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];n.apply(this,o),a.apply(this,o)}},null)}var U6=["as","disabled","onKeyDown"];function nm(e){return!e||e.trim()==="#"}var O0=K.forwardRef(function(e,t){var r=e.as,n=r===void 0?"a":r,a=e.disabled,i=e.onKeyDown,s=Fe(e,U6),o=function(u){var f=s.href,h=s.onClick;if((a||nm(f))&&u.preventDefault(),a){u.stopPropagation();return}h&&h(u)},c=function(u){u.key===" "&&(u.preventDefault(),o(u))};return nm(s.href)&&(s.role=s.role||"button",s.href=s.href||"#"),a&&(s.tabIndex=-1,s["aria-disabled"]=!0),K.createElement(n,xe({ref:t},s,{onClick:o,onKeyDown:M6(c,i)}))});O0.displayName="SafeAnchor";var B6=["bsPrefix","variant","size","active","className","block","type","as"],L6={variant:"primary",active:!1,disabled:!1},_s=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.variant,a=e.size,i=e.active,s=e.className,o=e.block,c=e.type,l=e.as,u=Fe(e,B6),f=nt(r,"btn"),h=ze(s,f,i&&"active",n&&f+"-"+n,o&&f+"-block",a&&f+"-"+a);if(u.href)return K.createElement(O0,xe({},u,{as:l,ref:t,className:ze(h,u.disabled&&"disabled")}));t&&(u.ref=t),c?u.type=c:l||(u.type="button");var d=l||"button";return K.createElement(d,xe({},u,{className:h}))});_s.displayName="Button";_s.defaultProps=L6;var z6=[{id:"fa",name:"Font Awesome",projectUrl:"https://fontawesome.com/",license:"CC BY 4.0 License",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"},{id:"io",name:"Ionicons 4",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"io5",name:"Ionicons 5",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"md",name:"Material Design icons",projectUrl:"http://google.github.io/material-design-icons/",license:"Apache License Version 2.0",licenseUrl:"https://github.com/google/material-design-icons/blob/master/LICENSE"},{id:"ti",name:"Typicons",projectUrl:"http://s-ings.com/typicons/",license:"CC BY-SA 3.0",licenseUrl:"https://creativecommons.org/licenses/by-sa/3.0/"},{id:"go",name:"Github Octicons icons",projectUrl:"https://octicons.github.com/",license:"MIT",licenseUrl:"https://github.com/primer/octicons/blob/master/LICENSE"},{id:"fi",name:"Feather",projectUrl:"https://feathericons.com/",license:"MIT",licenseUrl:"https://github.com/feathericons/feather/blob/master/LICENSE"},{id:"gi",name:"Game Icons",projectUrl:"https://game-icons.net/",license:"CC BY 3.0",licenseUrl:"https://creativecommons.org/licenses/by/3.0/"},{id:"wi",name:"Weather Icons",projectUrl:"https://erikflowers.github.io/weather-icons/",license:"SIL OFL 1.1",licenseUrl:"http://scripts.sil.org/OFL"},{id:"di",name:"Devicons",projectUrl:"https://vorillaz.github.io/devicons/",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ai",name:"Ant Design Icons",projectUrl:"https://github.com/ant-design/ant-design-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"bs",name:"Bootstrap Icons",projectUrl:"https://github.com/twbs/icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ri",name:"Remix Icon",projectUrl:"https://github.com/Remix-Design/RemixIcon",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"fc",name:"Flat Color Icons",projectUrl:"https://github.com/icons8/flat-color-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"gr",name:"Grommet-Icons",projectUrl:"https://github.com/grommet/grommet-icons",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"hi",name:"Heroicons",projectUrl:"https://github.com/refactoringui/heroicons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"si",name:"Simple Icons",projectUrl:"https://simpleicons.org/",license:"CC0 1.0 Universal",licenseUrl:"https://creativecommons.org/publicdomain/zero/1.0/"},{id:"im",name:"IcoMoon Free",projectUrl:"https://github.com/Keyamoon/IcoMoon-Free",license:"CC BY 4.0 License"},{id:"bi",name:"BoxIcons",projectUrl:"https://github.com/atisawd/boxicons",license:"CC BY 4.0 License"},{id:"cg",name:"css.gg",projectUrl:"https://github.com/astrit/css.gg",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"vsc",name:"VS Code Icons",projectUrl:"https://github.com/microsoft/vscode-codicons",license:"CC BY 4.0",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"}],Xf={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$u=K.createContext&&K.createContext(Xf),vn=function(){return vn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},vn.apply(this,arguments)},V6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};function A0(e){return e&&e.map(function(t,r){return K.createElement(t.tag,vn({key:r},t.attr),A0(t.child))})}function q6(e){return function(t){return K.createElement(k0,vn({attr:vn({},e.attr)},t),A0(e.child))}}function k0(e){var t=function(r){var n=e.attr,a=e.size,i=e.title,s=V6(e,["attr","size","title"]),o=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),K.createElement("svg",vn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:c,style:vn(vn({color:e.color||r.color},r.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&K.createElement("title",null,i),e.children)};return $u!==void 0?K.createElement($u.Consumer,null,function(r){return t(r)}):t(Xf)}const H6=Object.freeze(Object.defineProperty({__proto__:null,DefaultContext:Xf,GenIcon:q6,IconBase:k0,IconContext:$u,IconsManifest:z6},Symbol.toStringTag,{value:"Module"})),bs=ef(H6);var K6=bs.GenIcon,G6=function(t){return K6({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 3.5a.5.5 0 01.5.5v4a.5.5 0 01-.5.5H4a.5.5 0 010-1h3.5V4a.5.5 0 01.5-.5z",clipRule:"evenodd"}},{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8a.5.5 0 01.5-.5h4a.5.5 0 010 1H8.5V12a.5.5 0 01-1 0V8z",clipRule:"evenodd"}}]})(t)};function W6({uiSchema:e,registry:t,...r}){const{translateString:n}=t;return A.jsx(_s,{...r,style:{width:"100%"},className:`ml-1 ${r.className}`,title:n(Ee.AddItemButton),children:A.jsx(G6,{})})}var Z6=["bsPrefix","className","noGutters","as"],Y6=["xl","lg","md","sm","xs"],X6={noGutters:!1},Sn=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.className,a=e.noGutters,i=e.as,s=i===void 0?"div":i,o=Fe(e,Z6),c=nt(r,"row"),l=c+"-cols",u=[];return Y6.forEach(function(f){var h=o[f];delete o[f];var d;h!=null&&typeof h=="object"?d=h.cols:d=h;var p=f!=="xs"?"-"+f:"";d!=null&&u.push(""+l+p+"-"+d)}),K.createElement(s,xe({ref:t},o,{className:ze.apply(void 0,[n,c,a&&"no-gutters"].concat(u))}))});Sn.displayName="Row";Sn.defaultProps=X6;var J6=["bsPrefix","className","as"],Q6=["xl","lg","md","sm","xs"],Gt=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.className,a=e.as,i=a===void 0?"div":a,s=Fe(e,J6),o=nt(r,"col"),c=[],l=[];return Q6.forEach(function(u){var f=s[u];delete s[u];var h,d,p;if(typeof f=="object"&&f!=null){var m=f.span;h=m===void 0?!0:m,d=f.offset,p=f.order}else h=f;var y=u!=="xs"?"-"+u:"";h&&c.push(h===!0?""+o+y:""+o+y+"-"+h),p!=null&&l.push("order"+y+"-"+p),d!=null&&l.push("offset"+y+"-"+d)}),c.length||c.push(o),K.createElement(i,xe({},s,{ref:t,className:ze.apply(void 0,[n].concat(c,l))}))});Gt.displayName="Col";function e8(e){const{children:t,disabled:r,hasToolbar:n,hasCopy:a,hasMoveDown:i,hasMoveUp:s,hasRemove:o,index:c,onCopyIndexClick:l,onDropIndexClick:u,onReorderClick:f,readonly:h,registry:d,uiSchema:p}=e,{CopyButton:m,MoveDownButton:y,MoveUpButton:g,RemoveButton:v}=d.templates.ButtonTemplates,w={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return A.jsx("div",{children:A.jsxs(Sn,{className:"mb-2  d-flex align-items-center",children:[A.jsx(Gt,{xs:"9",lg:"9",children:t}),A.jsx(Gt,{xs:"3",lg:"3",className:"py-4",children:n&&A.jsxs("div",{className:"d-flex flex-row",children:[(s||i)&&A.jsx("div",{className:"m-0 p-0",children:A.jsx(g,{className:"array-item-move-up",style:w,disabled:r||h||!s,onClick:f(c,c-1),uiSchema:p,registry:d})}),(s||i)&&A.jsx("div",{className:"m-0 p-0",children:A.jsx(y,{style:w,disabled:r||h||!i,onClick:f(c,c+1),uiSchema:p,registry:d})}),a&&A.jsx("div",{className:"m-0 p-0",children:A.jsx(m,{style:w,disabled:r||h,onClick:l(c),uiSchema:p,registry:d})}),o&&A.jsx("div",{className:"m-0 p-0",children:A.jsx(v,{style:w,disabled:r||h,onClick:u(c),uiSchema:p,registry:d})})]})})]})})}var t8=["bsPrefix","fluid","as","className"],r8={fluid:!1},es=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.fluid,a=e.as,i=a===void 0?"div":a,s=e.className,o=Fe(e,t8),c=nt(r,"container"),l=typeof n=="string"?"-"+n:"-fluid";return K.createElement(i,xe({ref:t},o,{className:ze(s,n?""+c+l:c)}))});es.displayName="Container";es.defaultProps=r8;function n8(e){const{canAdd:t,disabled:r,idSchema:n,uiSchema:a,items:i,onAddClick:s,readonly:o,registry:c,required:l,schema:u,title:f}=e,h=Se(a),d=ve("ArrayFieldDescriptionTemplate",c,h),p=ve("ArrayFieldItemTemplate",c,h),m=ve("ArrayFieldTitleTemplate",c,h),{ButtonTemplates:{AddButton:y}}=c.templates;return A.jsx("div",{children:A.jsx(Sn,{className:"p-0 m-0",children:A.jsxs(Gt,{className:"p-0 m-0",children:[A.jsx(m,{idSchema:n,title:h.title||f,schema:u,uiSchema:a,required:l,registry:c}),A.jsx(d,{idSchema:n,description:h.description||u.description,schema:u,uiSchema:a,registry:c}),A.jsxs(es,{fluid:!0,className:"p-0 m-0",children:[i&&i.map(({key:g,...v})=>A.jsx(p,{...v},g)),t&&A.jsx(es,{className:"",children:A.jsxs(Sn,{className:"mt-2",children:[A.jsx(Gt,{xs:9}),A.jsx(Gt,{xs:3,className:"py-4 col-lg-3 col-3",children:A.jsx(y,{className:"array-item-add",onClick:s,disabled:r||o,uiSchema:a,registry:c})})]})})]},`array-item-list-${n.$id}`)]})})})}var am={exports:{}},Su={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){function a(s,o,c,l,u,f){var h=l||"<<anonymous>>",d=f||c;if(o[c]==null)return s?new Error("Required "+u+" `"+d+"` was not specified "+("in `"+h+"`.")):null;for(var p=arguments.length,m=Array(p>6?p-6:0),y=6;y<p;y++)m[y-6]=arguments[y];return n.apply(void 0,[o,c,h,u,d].concat(m))}var i=a.bind(null,!1);return i.isRequired=a.bind(null,!0),i}e.exports=t.default})(Su,Su.exports);var a8=Su.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a8,n=a(r);function a(s){return s&&s.__esModule?s:{default:s}}function i(){for(var s=arguments.length,o=Array(s),c=0;c<s;c++)o[c]=arguments[c];function l(){for(var u=arguments.length,f=Array(u),h=0;h<u;h++)f[h]=arguments[h];var d=null;return o.forEach(function(p){if(d==null){var m=p.apply(void 0,f);m!=null&&(d=m)}}),d}return(0,n.default)(l)}e.exports=t.default})(am,am.exports);var i8=["as","className","type","tooltip"],s8={type:fl.string,tooltip:fl.bool,as:fl.elementType},$s=K.forwardRef(function(e,t){var r=e.as,n=r===void 0?"div":r,a=e.className,i=e.type,s=i===void 0?"valid":i,o=e.tooltip,c=o===void 0?!1:o,l=Fe(e,i8);return K.createElement(n,xe({},l,{ref:t,className:ze(a,s+"-"+(c?"tooltip":"feedback"))}))});$s.displayName="Feedback";$s.propTypes=s8;var ur=K.createContext({controlId:void 0}),o8=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],Jf=K.forwardRef(function(e,t){var r=e.id,n=e.bsPrefix,a=e.bsCustomPrefix,i=e.className,s=e.type,o=s===void 0?"checkbox":s,c=e.isValid,l=c===void 0?!1:c,u=e.isInvalid,f=u===void 0?!1:u,h=e.isStatic,d=e.as,p=d===void 0?"input":d,m=Fe(e,o8),y=Z.useContext(ur),g=y.controlId,v=y.custom,w=v?[a,"custom-control-input"]:[n,"form-check-input"],_=w[0],b=w[1];return n=nt(_,b),K.createElement(p,xe({},m,{ref:t,type:o,id:r||g,className:ze(i,n,l&&"is-valid",f&&"is-invalid",h&&"position-static")}))});Jf.displayName="FormCheckInput";var c8=["bsPrefix","bsCustomPrefix","className","htmlFor"],Qf=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.bsCustomPrefix,a=e.className,i=e.htmlFor,s=Fe(e,c8),o=Z.useContext(ur),c=o.controlId,l=o.custom,u=l?[n,"custom-control-label"]:[r,"form-check-label"],f=u[0],h=u[1];return r=nt(f,h),K.createElement("label",xe({},s,{ref:t,htmlFor:i||c,className:ze(a,r)}))});Qf.displayName="FormCheckLabel";var l8=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],ra=K.forwardRef(function(e,t){var r=e.id,n=e.bsPrefix,a=e.bsCustomPrefix,i=e.inline,s=i===void 0?!1:i,o=e.disabled,c=o===void 0?!1:o,l=e.isValid,u=l===void 0?!1:l,f=e.isInvalid,h=f===void 0?!1:f,d=e.feedbackTooltip,p=d===void 0?!1:d,m=e.feedback,y=e.className,g=e.style,v=e.title,w=v===void 0?"":v,_=e.type,b=_===void 0?"checkbox":_,x=e.label,S=e.children,E=e.custom,C=e.as,k=C===void 0?"input":C,R=Fe(e,l8),D=b==="switch"?!0:E,L=D?[a,"custom-control"]:[n,"form-check"],H=L[0],Y=L[1];n=nt(H,Y);var ce=Z.useContext(ur),de=ce.controlId,se=Z.useMemo(function(){return{controlId:r||de,custom:D}},[de,D,r]),ee=D||x!=null&&x!==!1&&!S,V=K.createElement(Jf,xe({},R,{type:b==="switch"?"checkbox":b,ref:t,isValid:u,isInvalid:h,isStatic:!ee,disabled:c,as:k}));return K.createElement(ur.Provider,{value:se},K.createElement("div",{style:g,className:ze(y,n,D&&"custom-"+b,s&&n+"-inline")},S||K.createElement(K.Fragment,null,V,ee&&K.createElement(Qf,{title:w},x),(u||h)&&K.createElement($s,{type:u?"valid":"invalid",tooltip:p},m))))});ra.displayName="FormCheck";ra.Input=Jf;ra.Label=Qf;var u8=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],ed=K.forwardRef(function(e,t){var r=e.id,n=e.bsPrefix,a=e.bsCustomPrefix,i=e.className,s=e.isValid,o=e.isInvalid,c=e.lang,l=e.as,u=l===void 0?"input":l,f=Fe(e,u8),h=Z.useContext(ur),d=h.controlId,p=h.custom,m="file",y=p?[a,"custom-file-input"]:[n,"form-control-file"],g=y[0],v=y[1];return n=nt(g,v),K.createElement(u,xe({},f,{ref:t,id:r||d,type:m,lang:c,className:ze(i,n,s&&"is-valid",o&&"is-invalid")}))});ed.displayName="FormFileInput";var f8=["bsPrefix","bsCustomPrefix","className","htmlFor"],Ko=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.bsCustomPrefix,a=e.className,i=e.htmlFor,s=Fe(e,f8),o=Z.useContext(ur),c=o.controlId,l=o.custom,u=l?[n,"custom-file-label"]:[r,"form-file-label"],f=u[0],h=u[1];return r=nt(f,h),K.createElement("label",xe({},s,{ref:t,htmlFor:i||c,className:ze(a,r),"data-browse":s["data-browse"]}))});Ko.displayName="FormFileLabel";var d8=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],qc=K.forwardRef(function(e,t){var r=e.id,n=e.bsPrefix,a=e.bsCustomPrefix,i=e.disabled,s=i===void 0?!1:i,o=e.isValid,c=o===void 0?!1:o,l=e.isInvalid,u=l===void 0?!1:l,f=e.feedbackTooltip,h=f===void 0?!1:f,d=e.feedback,p=e.className,m=e.style,y=e.label,g=e.children,v=e.custom,w=e.lang,_=e["data-browse"],b=e.as,x=b===void 0?"div":b,S=e.inputAs,E=S===void 0?"input":S,C=Fe(e,d8),k=v?[a,"custom"]:[n,"form-file"],R=k[0],D=k[1];n=nt(R,D);var L="file",H=Z.useContext(ur),Y=H.controlId,ce=Z.useMemo(function(){return{controlId:r||Y,custom:v}},[Y,v,r]),de=y!=null&&y!==!1&&!g,se=K.createElement(ed,xe({},C,{ref:t,isValid:c,isInvalid:u,disabled:s,as:E,lang:w}));return K.createElement(ur.Provider,{value:ce},K.createElement(x,{style:m,className:ze(p,n,v&&"custom-"+L)},g||K.createElement(K.Fragment,null,v?K.createElement(K.Fragment,null,se,de&&K.createElement(Ko,{"data-browse":_},y)):K.createElement(K.Fragment,null,de&&K.createElement(Ko,null,y),se),(c||u)&&K.createElement($s,{type:c?"valid":"invalid",tooltip:h},d))))});qc.displayName="FormFile";qc.Input=ed;qc.Label=Ko;var h8=["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"],C0=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.bsCustomPrefix,a=e.type,i=e.size,s=e.htmlSize,o=e.id,c=e.className,l=e.isValid,u=l===void 0?!1:l,f=e.isInvalid,h=f===void 0?!1:f,d=e.plaintext,p=e.readOnly,m=e.custom,y=e.as,g=y===void 0?"input":y,v=Fe(e,h8),w=Z.useContext(ur),_=w.controlId,b=m?[n,"custom"]:[r,"form-control"],x=b[0],S=b[1];r=nt(x,S);var E;if(d){var C;E=(C={},C[r+"-plaintext"]=!0,C)}else if(a==="file"){var k;E=(k={},k[r+"-file"]=!0,k)}else if(a==="range"){var R;E=(R={},R[r+"-range"]=!0,R)}else if(g==="select"&&m){var D;E=(D={},D[r+"-select"]=!0,D[r+"-select-"+i]=i,D)}else{var L;E=(L={},L[r]=!0,L[r+"-"+i]=i,L)}return K.createElement(g,xe({},v,{type:a,size:s,ref:t,readOnly:p,id:o||_,className:ze(c,E,u&&"is-valid",h&&"is-invalid")}))});C0.displayName="FormControl";const T0=Object.assign(C0,{Feedback:$s});var p8=["bsPrefix","className","children","controlId","as"],I0=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.className,a=e.children,i=e.controlId,s=e.as,o=s===void 0?"div":s,c=Fe(e,p8);r=nt(r,"form-group");var l=Z.useMemo(function(){return{controlId:i}},[i]);return K.createElement(ur.Provider,{value:l},K.createElement(o,xe({},c,{ref:t,className:ze(n,r)}),a))});I0.displayName="FormGroup";var m8=["as","bsPrefix","column","srOnly","className","htmlFor"],g8={column:!1,srOnly:!1},td=K.forwardRef(function(e,t){var r=e.as,n=r===void 0?"label":r,a=e.bsPrefix,i=e.column,s=e.srOnly,o=e.className,c=e.htmlFor,l=Fe(e,m8),u=Z.useContext(ur),f=u.controlId;a=nt(a,"form-label");var h="col-form-label";typeof i=="string"&&(h=h+" "+h+"-"+i);var d=ze(o,a,s&&"sr-only",i&&h);return c=c||f,i?K.createElement(Gt,xe({ref:t,as:"label",className:d,htmlFor:c},l)):K.createElement(n,xe({ref:t,className:d,htmlFor:c},l))});td.displayName="FormLabel";td.defaultProps=g8;var y8=["bsPrefix","className","as","muted"],P0=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.className,a=e.as,i=a===void 0?"small":a,s=e.muted,o=Fe(e,y8);return r=nt(r,"form-text"),K.createElement(i,xe({},o,{ref:t,className:ze(n,r,s&&"text-muted")}))});P0.displayName="FormText";var Hc=K.forwardRef(function(e,t){return K.createElement(ra,xe({},e,{ref:t,type:"switch"}))});Hc.displayName="Switch";Hc.Input=ra.Input;Hc.Label=ra.Label;var v8=/-(.)/g;function w8(e){return e.replace(v8,function(t,r){return r.toUpperCase()})}var _8=["className","bsPrefix","as"],b8=function(t){return t[0].toUpperCase()+w8(t).slice(1)};function Qt(e,t){var r=t===void 0?{}:t,n=r.displayName,a=n===void 0?b8(e):n,i=r.Component,s=r.defaultProps,o=K.forwardRef(function(c,l){var u=c.className,f=c.bsPrefix,h=c.as,d=h===void 0?i||"div":h,p=Fe(c,_8),m=nt(f,e);return K.createElement(d,xe({ref:l,className:ze(u,m)},p))});return o.defaultProps=s,o.displayName=a,o}var $8=["bsPrefix","inline","className","validated","as"],S8=Qt("form-row"),E8={inline:!1},Le=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.inline,a=e.className,i=e.validated,s=e.as,o=s===void 0?"form":s,c=Fe(e,$8);return r=nt(r,"form"),K.createElement(o,xe({},c,{ref:t,className:ze(a,i&&"was-validated",n&&r+"-inline")}))});Le.displayName="Form";Le.defaultProps=E8;Le.Row=S8;Le.Group=I0;Le.Control=T0;Le.Check=ra;Le.File=qc;Le.Switch=Hc;Le.Label=td;Le.Text=P0;function x8({id:e,placeholder:t,required:r,readonly:n,disabled:a,type:i,value:s,onChange:o,onChangeOverride:c,onBlur:l,onFocus:u,autofocus:f,options:h,schema:d,rawErrors:p=[],children:m,extraProps:y}){const g={...y,...Jv(d,i,h)},v=({target:{value:b}})=>o(b===""?h.emptyValue:b),w=({target:{value:b}})=>l(e,b),_=({target:{value:b}})=>u(e,b);return A.jsxs(A.Fragment,{children:[A.jsx(Le.Control,{id:e,name:e,placeholder:t,autoFocus:f,required:r,disabled:a,readOnly:n,className:p.length>0?"is-invalid":"",list:d.examples?Ji(e):void 0,...g,value:s||s===0?s:"",onChange:c||v,onBlur:w,onFocus:_,"aria-describedby":Bt(e,!!d.examples)}),m,Array.isArray(d.examples)?A.jsx("datalist",{id:Ji(e),children:d.examples.concat(d.default&&!d.examples.includes(d.default)?[d.default]:[]).map(b=>A.jsx("option",{value:b},b))}):null]})}function O8({id:e,description:t}){return t?A.jsx("div",{children:A.jsx("div",{id:e,className:"mb-3",children:t})}):null}const N0=function(e){return K.forwardRef(function(t,r){return K.createElement("div",xe({},t,{ref:r,className:ze(t.className,e)}))})};var j0=K.createContext(null);j0.displayName="CardContext";var A8=["bsPrefix","className","variant","as"],k8={variant:null},rd=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.className,a=e.variant,i=e.as,s=i===void 0?"img":i,o=Fe(e,A8),c=nt(r,"card-img");return K.createElement(s,xe({ref:t,className:ze(a?c+"-"+a:c,n)},o))});rd.displayName="CardImg";rd.defaultProps=k8;var C8=["bsPrefix","className","bg","text","border","body","children","as"],T8=N0("h5"),I8=N0("h6"),R0=Qt("card-body"),P8=Qt("card-title",{Component:T8}),N8=Qt("card-subtitle",{Component:I8}),j8=Qt("card-link",{Component:"a"}),R8=Qt("card-text",{Component:"p"}),F8=Qt("card-header"),D8=Qt("card-footer"),M8=Qt("card-img-overlay"),U8={body:!1},Pt=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.className,a=e.bg,i=e.text,s=e.border,o=e.body,c=e.children,l=e.as,u=l===void 0?"div":l,f=Fe(e,C8),h=nt(r,"card"),d=Z.useMemo(function(){return{cardHeaderBsPrefix:h+"-header"}},[h]);return K.createElement(j0.Provider,{value:d},K.createElement(u,xe({ref:t},f,{className:ze(n,h,a&&"bg-"+a,i&&"text-"+i,s&&"border-"+s)}),o?K.createElement(R0,null,c):c))});Pt.displayName="Card";Pt.defaultProps=U8;Pt.Img=rd;Pt.Title=P8;Pt.Subtitle=N8;Pt.Body=R0;Pt.Link=j8;Pt.Text=R8;Pt.Header=F8;Pt.Footer=D8;Pt.ImgOverlay=M8;function im(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function B8(e){var t=L8(e,"string");return typeof t=="symbol"?t:String(t)}function L8(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function z8(e,t,r){var n=Z.useRef(e!==void 0),a=Z.useState(t),i=a[0],s=a[1],o=e!==void 0,c=n.current;return n.current=o,!o&&c&&i!==t&&s(t),[o?e:i,Z.useCallback(function(l){for(var u=arguments.length,f=new Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];r&&r.apply(void 0,[l].concat(f)),s(l)},[r])]}function V8(e,t){return Object.keys(t).reduce(function(r,n){var a,i=r,s=i[im(n)],o=i[n],c=Fe(i,[im(n),n].map(B8)),l=t[n],u=z8(o,s,e[l]),f=u[0],h=u[1];return xe({},c,(a={},a[n]=f,a[l]=h,a))},e)}var q8=Function.prototype.bind.call(Function.prototype.call,[].slice);function H8(e,t){return q8(e.querySelectorAll(t))}function K8(){const[,e]=Z.useReducer(t=>!t,!1);return e}const sm=e=>!e||typeof e=="function"?e:t=>{e.current=t};function G8(e,t){const r=sm(e),n=sm(t);return a=>{r&&r(a),n&&n(a)}}function W8(e,t){return Z.useMemo(()=>G8(e,t),[e,t])}var nd=K.createContext(null);nd.displayName="NavContext";var Eu=K.createContext(null),F0=function(t,r){return r===void 0&&(r=null),t!=null?String(t):r||null},Z8=K.createContext(null),Y8=["as","onSelect","activeKey","role","onKeyDown"],om=function(){},X8=K.forwardRef(function(e,t){var r=e.as,n=r===void 0?"ul":r,a=e.onSelect,i=e.activeKey,s=e.role,o=e.onKeyDown,c=Fe(e,Y8),l=K8(),u=Z.useRef(!1),f=Z.useContext(Eu),h=Z.useContext(Z8),d,p;h&&(s=s||"tablist",i=h.activeKey,d=h.getControlledId,p=h.getControllerId);var m=Z.useRef(null),y=function(b){var x=m.current;if(!x)return null;var S=H8(x,"[data-rb-event-key]:not(.disabled)"),E=x.querySelector(".active");if(!E)return null;var C=S.indexOf(E);if(C===-1)return null;var k=C+b;return k>=S.length&&(k=0),k<0&&(k=S.length-1),S[k]},g=function(b,x){b!=null&&(a&&a(b,x),f&&f(b,x))},v=function(b){o&&o(b);var x;switch(b.key){case"ArrowLeft":case"ArrowUp":x=y(-1);break;case"ArrowRight":case"ArrowDown":x=y(1);break;default:return}x&&(b.preventDefault(),g(x.dataset.rbEventKey,b),u.current=!0,l())};Z.useEffect(function(){if(m.current&&u.current){var _=m.current.querySelector("[data-rb-event-key].active");_&&_.focus()}u.current=!1});var w=W8(t,m);return K.createElement(Eu.Provider,{value:g},K.createElement(nd.Provider,{value:{role:s,activeKey:F0(i),getControlledId:d||om,getControllerId:p||om}},K.createElement(n,xe({},c,{onKeyDown:v,ref:w,role:s}))))});function J8(e){const t=Z.useRef(e);return Z.useEffect(()=>{t.current=e},[e]),t}function Q8(e){const t=J8(e);return Z.useCallback(function(...r){return t.current&&t.current(...r)},[t])}var e5=["active","className","eventKey","onSelect","onClick","as"],t5={disabled:!1},D0=K.forwardRef(function(e,t){var r=e.active,n=e.className,a=e.eventKey,i=e.onSelect,s=e.onClick,o=e.as,c=Fe(e,e5),l=F0(a,c.href),u=Z.useContext(Eu),f=Z.useContext(nd),h=r;if(f){!c.role&&f.role==="tablist"&&(c.role="tab");var d=f.getControllerId(l),p=f.getControlledId(l);c["data-rb-event-key"]=l,c.id=d||c.id,c["aria-controls"]=p||c["aria-controls"],h=r==null&&l!=null?f.activeKey===l:r}c.role==="tab"&&(c.disabled&&(c.tabIndex=-1,c["aria-disabled"]=!0),c["aria-selected"]=h);var m=Q8(function(y){s&&s(y),l!=null&&(i&&i(l,y),u&&u(l,y))});return K.createElement(o,xe({},c,{ref:t,onClick:m,className:ze(n,h&&"active")}))});D0.defaultProps=t5;var r5=["bsPrefix","active","disabled","className","variant","action","as","onClick"],n5={variant:void 0,active:!1,disabled:!1},ad=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.active,a=e.disabled,i=e.className,s=e.variant,o=e.action,c=e.as,l=e.onClick,u=Fe(e,r5);r=nt(r,"list-group-item");var f=Z.useCallback(function(h){if(a){h.preventDefault(),h.stopPropagation();return}l&&l(h)},[a,l]);return a&&u.tabIndex===void 0&&(u.tabIndex=-1,u["aria-disabled"]=!0),K.createElement(D0,xe({ref:t},u,{as:c||(o?u.href?"a":"button":"div"),onClick:f,className:ze(i,r,n&&"active",a&&"disabled",s&&r+"-"+s,o&&r+"-action")}))});ad.defaultProps=n5;ad.displayName="ListGroupItem";var a5=["className","bsPrefix","variant","horizontal","as"],i5={variant:void 0,horizontal:void 0},Vn=K.forwardRef(function(e,t){var r=V8(e,{activeKey:"onSelect"}),n=r.className,a=r.bsPrefix,i=r.variant,s=r.horizontal,o=r.as,c=o===void 0?"div":o,l=Fe(r,a5),u=nt(a,"list-group"),f;return s?f=s===!0?"horizontal":"horizontal-"+s:f=null,K.createElement(X8,xe({ref:t},l,{as:c,className:ze(n,u,i&&u+"-"+i,f&&u+"-"+f)}))});Vn.defaultProps=i5;Vn.displayName="ListGroup";Vn.Item=ad;function s5({errors:e,registry:t}){const{translateString:r}=t;return A.jsxs(Pt,{border:"danger",className:"mb-4",children:[A.jsx(Pt.Header,{className:"alert-danger",children:r(Ee.ErrorsLabel)}),A.jsx(Pt.Body,{className:"p-0",children:A.jsx(Vn,{children:e.map((n,a)=>A.jsx(Vn.Item,{className:"border-0",children:A.jsx("span",{children:n.stack})},a))})})]})}var o5=bs.GenIcon,c5=function(t){return o5({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352 115h90c3.3 0 6-2.7 6-6 0-8.2-3.7-16-10-21.3l-77.1-64.2c-4.9-4.1-14.2-7.4-20.6-7.4-4.1 0-7.4 3.3-7.4 7.4V96c.1 10.5 8.6 19 19.1 19z"}},{tag:"path",attr:{d:"M307 96V16H176c-17.6 0-32 14.4-32 32v336c0 17.6 14.4 32 32 32h240c17.6 0 32-14.4 32-32V141h-96c-24.8 0-45-20.2-45-45z"}},{tag:"path",attr:{d:"M116 412V80H96c-17.6 0-32 14.4-32 32v352c0 17.6 14.4 32 32 32h256c17.6 0 32-14.4 32-32v-20H148c-17.6 0-32-14.4-32-32z"}}]})(t)},l5=bs.GenIcon,u5=function(t){return l5({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M368.5 240h-225c-8.8 0-16 7.2-16 16 0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7h225c8.8 0 16-7.2 16-16s-7.2-16-16-16z"}}]})(t)},f5=bs.GenIcon,d5=function(t){return f5({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 545.5L536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]})(t)},h5=bs.GenIcon,p5=function(t){return h5({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0 0 48.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]})(t)};function Kc(e){const{icon:t,iconType:r,className:n,uiSchema:a,registry:i,...s}=e;return A.jsx(_s,{block:r==="block",...s,variant:e.variant||"light",size:"sm",children:t})}function m5(e){const{registry:{translateString:t}}=e;return A.jsx(Kc,{title:t(Ee.CopyButton),...e,icon:A.jsx(c5,{})})}function g5(e){const{registry:{translateString:t}}=e;return A.jsx(Kc,{title:t(Ee.MoveDownButton),...e,icon:A.jsx(p5,{})})}function y5(e){const{registry:{translateString:t}}=e;return A.jsx(Kc,{title:t(Ee.MoveUpButton),...e,icon:A.jsx(d5,{})})}function v5(e){const{registry:{translateString:t}}=e;return A.jsx(Kc,{title:t(Ee.RemoveButton),...e,variant:"danger",icon:A.jsx(u5,{})})}function w5(e){const{errors:t=[],idSchema:r}=e;if(t.length===0)return null;const n=Vf(r);return A.jsx(Vn,{as:"ul",id:n,children:t.map((a,i)=>A.jsx(Vn.Item,{as:"li",className:"border-0 m-0 p-0",children:A.jsx("small",{className:"m-0 text-danger",children:a})},i))})}function _5(e){const{idSchema:t,help:r,hasErrors:n}=e;if(!r)return null;const a=qf(t);return A.jsx(Le.Text,{className:n?"text-danger":"text-muted",id:a,children:r})}function b5({id:e,children:t,displayLabel:r,rawErrors:n=[],errors:a,help:i,description:s,rawDescription:o,classNames:c,style:l,disabled:u,label:f,hidden:h,onDropPropertyClick:d,onKeyChange:p,readonly:m,required:y,schema:g,uiSchema:v,registry:w}){const _=Se(v),b=ve("WrapIfAdditionalTemplate",w,_);return h?A.jsx("div",{className:"hidden",children:t}):A.jsx(b,{classNames:c,style:l,disabled:u,id:e,label:f,onDropPropertyClick:d,onKeyChange:p,readonly:m,required:y,schema:g,uiSchema:v,registry:w,children:A.jsxs(Le.Group,{children:[r&&A.jsxs(Le.Label,{htmlFor:e,className:n.length>0?"text-danger":"",children:[f,y?"*":null]}),t,r&&o&&A.jsx(Le.Text,{className:n.length>0?"text-danger":"text-muted",children:s}),a,i]})})}function $5({description:e,title:t,properties:r,required:n,uiSchema:a,idSchema:i,schema:s,formData:o,onAddClick:c,disabled:l,readonly:u,registry:f}){const h=Se(a),d=ve("TitleFieldTemplate",f,h),p=ve("DescriptionFieldTemplate",f,h),{ButtonTemplates:{AddButton:m}}=f.templates;return A.jsxs(A.Fragment,{children:[t&&A.jsx(d,{id:Hf(i),title:t,required:n,schema:s,uiSchema:a,registry:f}),e&&A.jsx(p,{id:ta(i),description:e,schema:s,uiSchema:a,registry:f}),A.jsxs(es,{fluid:!0,className:"p-0",children:[r.map((y,g)=>A.jsx(Sn,{style:{marginBottom:"10px"},className:y.hidden?"d-none":void 0,children:A.jsxs(Gt,{xs:12,children:[" ",y.content]})},g)),ay(s,a,o)?A.jsx(Sn,{children:A.jsx(Gt,{xs:{offset:9,span:3},className:"py-4",children:A.jsx(m,{onClick:c(s),disabled:l||u,className:"object-property-expand",uiSchema:a,registry:f})})}):null]})]})}function S5(e){const{submitText:t,norender:r,props:n}=Qv(e.uiSchema);return r?null:A.jsx("div",{children:A.jsx(_s,{variant:"primary",type:"submit",...n,children:t})})}function E5({id:e,title:t,uiSchema:r}){const n=Se(r);return A.jsxs("div",{id:e,className:"my-1",children:[A.jsx("h5",{children:n.title||t}),A.jsx("hr",{className:"border-0 bg-secondary",style:{height:"1px"}})]})}function x5({classNames:e,style:t,children:r,disabled:n,id:a,label:i,onDropPropertyClick:s,onKeyChange:o,readonly:c,required:l,schema:u,uiSchema:f,registry:h}){const{templates:d,translateString:p}=h,{RemoveButton:m}=d.ButtonTemplates,y=p(Ee.KeyLabel,[i]);if(!(Ha in u))return A.jsx("div",{className:e,style:t,children:r});const v=({target:_})=>o(_.value),w=`${a}-key`;return A.jsxs(Sn,{className:e,style:t,children:[A.jsx(Gt,{xs:5,children:A.jsxs(Le.Group,{children:[A.jsx(Le.Label,{htmlFor:w,children:y}),A.jsx(Le.Control,{required:l,defaultValue:i,disabled:n||c,id:w,name:w,onBlur:c?void 0:v,type:"text"})]})}),A.jsx(Gt,{xs:5,children:r}),A.jsx(Gt,{xs:2,className:"py-4",children:A.jsx(m,{iconType:"block",className:"w-100",disabled:n||c,onClick:s(i),uiSchema:f,registry:h})})]},w)}function O5(){return{ArrayFieldItemTemplate:e8,ArrayFieldTemplate:n8,BaseInputTemplate:x8,ButtonTemplates:{AddButton:W6,CopyButton:m5,MoveDownButton:g5,MoveUpButton:y5,RemoveButton:v5,SubmitButton:S5},DescriptionFieldTemplate:O8,ErrorListTemplate:s5,FieldErrorTemplate:w5,FieldHelpTemplate:_5,FieldTemplate:b5,ObjectFieldTemplate:$5,TitleFieldTemplate:E5,WrapIfAdditionalTemplate:x5}}function A5(e){const{id:t,value:r,disabled:n,readonly:a,label:i,hideLabel:s,schema:o,autofocus:c,options:l,onChange:u,onBlur:f,onFocus:h,registry:d,uiSchema:p}=e,m=Mi(o),y=ve("DescriptionFieldTemplate",d,l),g=({target:{checked:b}})=>u(b),v=({target:{checked:b}})=>f(t,b),w=({target:{checked:b}})=>h(t,b),_=l.description||o.description;return A.jsxs(Le.Group,{className:`checkbox ${n||a?"disabled":""}`,"aria-describedby":Bt(t),children:[!s&&!!_&&A.jsx(y,{id:ta(t),description:_,schema:o,uiSchema:p,registry:d}),A.jsx(Le.Check,{id:t,name:t,label:Kf(i,s||!i),checked:typeof r>"u"?!1:r,required:m,disabled:n||a,autoFocus:c,onChange:g,type:"checkbox",onBlur:v,onFocus:w})]})}function k5({id:e,disabled:t,options:r,value:n,autofocus:a,readonly:i,required:s,onChange:o,onBlur:c,onFocus:l}){const{enumOptions:u,enumDisabled:f,inline:h,emptyValue:d}=r,p=Array.isArray(n)?n:[n],m=v=>({target:{checked:w}})=>{o(w?Xv(v,p,u):Zv(v,p,u))},y=({target:{value:v}})=>c(e,ut(v,u,d)),g=({target:{value:v}})=>l(e,ut(v,u,d));return A.jsx(Le.Group,{children:Array.isArray(u)&&u.map((v,w)=>{const _=ys(v.value,p),b=Array.isArray(f)&&f.indexOf(v.value)!==-1;return A.jsx(Le.Check,{inline:h,custom:!0,required:s,checked:_,className:"bg-transparent border-0",type:"checkbox",id:Lc(e,w),name:e,label:v.label,autoFocus:a&&w===0,onChange:m(w),onBlur:y,onFocus:g,disabled:t||b||i,"aria-describedby":Bt(e)},v.value)})})}function C5({id:e,options:t,value:r,required:n,disabled:a,readonly:i,onChange:s,onBlur:o,onFocus:c}){const{enumOptions:l,enumDisabled:u,emptyValue:f}=t,h=({target:{value:y}})=>s(ut(y,l,f)),d=({target:{value:y}})=>o(e,ut(y,l,f)),p=({target:{value:y}})=>c(e,ut(y,l,f)),m=!!(t&&t.inline);return A.jsx(Le.Group,{className:"mb-0",children:Array.isArray(l)&&l.map((y,g)=>{const v=Array.isArray(u)&&u.indexOf(y.value)!==-1,w=ys(y.value,r);return A.jsx(Le.Check,{inline:m,label:y.label,id:Lc(e,g),name:e,type:"radio",disabled:a||v||i,checked:w,required:n,value:String(g),onChange:h,onBlur:d,onFocus:p,"aria-describedby":Bt(e)},g)})})}function T5(e){const{value:t,label:r,hideLabel:n,options:a,registry:i}=e,s=ve("BaseInputTemplate",i,a);return A.jsx(s,{...e,extraProps:{label:Kf(r||void 0,n)},children:A.jsx("span",{className:"range-view",children:t})})}function I5({schema:e,id:t,options:r,required:n,disabled:a,readonly:i,value:s,multiple:o,autofocus:c,onChange:l,onBlur:u,onFocus:f,placeholder:h,rawErrors:d=[]}){const{enumOptions:p,enumDisabled:m,emptyValue:y}=r,g=o?[]:"";function v(_,b){return b?[].slice.call(_.target.options).filter(x=>x.selected).map(x=>x.value):_.target.value}const w=Yv(s,p,o);return A.jsxs(Le.Control,{as:"select",bsPrefix:"custom-select",id:t,name:t,value:typeof w>"u"?g:w,required:n,multiple:o,disabled:a||i,autoFocus:c,className:d.length>0?"is-invalid":"",onBlur:u&&(_=>{const b=v(_,o);u(t,ut(b,p,y))}),onFocus:f&&(_=>{const b=v(_,o);f(t,ut(b,p,y))}),onChange:_=>{const b=v(_,o);l(ut(b,p,y))},"aria-describedby":Bt(t),children:[!o&&e.default===void 0&&A.jsx("option",{value:"",children:h}),p.map(({value:_,label:b},x)=>{const S=Array.isArray(m)&&m.indexOf(_)!=-1;return A.jsx("option",{id:b,value:String(x),disabled:S,children:b},x)})]})}var P5=["bsPrefix","size","hasValidation","className","as"],N5=Qt("input-group-append"),j5=Qt("input-group-prepend"),id=Qt("input-group-text",{Component:"span"}),R5=function(t){return K.createElement(id,null,K.createElement("input",xe({type:"checkbox"},t)))},F5=function(t){return K.createElement(id,null,K.createElement("input",xe({type:"radio"},t)))},na=K.forwardRef(function(e,t){var r=e.bsPrefix,n=e.size,a=e.hasValidation,i=e.className,s=e.as,o=s===void 0?"div":s,c=Fe(e,P5);return r=nt(r,"input-group"),K.createElement(o,xe({ref:t},c,{className:ze(i,r,n&&r+"-"+n,a&&"has-validation")}))});na.displayName="InputGroup";na.Text=id;na.Radio=F5;na.Checkbox=R5;na.Append=N5;na.Prepend=j5;function D5({id:e,placeholder:t,value:r,required:n,disabled:a,autofocus:i,readonly:s,onBlur:o,onFocus:c,onChange:l,options:u}){const f=({target:{value:p}})=>l(p===""?u.emptyValue:p),h=({target:{value:p}})=>o(e,p),d=({target:{value:p}})=>c(e,p);return A.jsx(na,{children:A.jsx(T0,{id:e,name:e,as:"textarea",placeholder:t,disabled:a,readOnly:s,value:r,required:n,autoFocus:i,rows:u.rows||5,onChange:f,onBlur:h,onFocus:d,"aria-describedby":Bt(e)})})}function M5(){return{CheckboxWidget:A5,CheckboxesWidget:k5,RadioWidget:C5,RangeWidget:T5,SelectWidget:I5,TextareaWidget:D5}}function U5(){return{templates:O5(),widgets:M5()}}function B5(){return F6(U5())}const yY=B5();var xu={exports:{}},M0={},or={},Fa={},Ss={},ge={},ts={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((w,_)=>`${w}${_}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((w,_)=>(_ instanceof r&&(w[_.str]=(w[_.str]||0)+1),w),{})}}e._Code=n,e.nil=new n("");function a(g,...v){const w=[g[0]];let _=0;for(;_<v.length;)o(w,v[_]),w.push(g[++_]);return new n(w)}e._=a;const i=new n("+");function s(g,...v){const w=[d(g[0])];let _=0;for(;_<v.length;)w.push(i),o(w,v[_]),w.push(i,d(g[++_]));return c(w),new n(w)}e.str=s;function o(g,v){v instanceof n?g.push(...v._items):v instanceof r?g.push(v):g.push(f(v))}e.addCodeArg=o;function c(g){let v=1;for(;v<g.length-1;){if(g[v]===i){const w=l(g[v-1],g[v+1]);if(w!==void 0){g.splice(v-1,3,w);continue}g[v++]="+"}v++}}function l(g,v){if(v==='""')return g;if(g==='""')return v;if(typeof g=="string")return v instanceof r||g[g.length-1]!=='"'?void 0:typeof v!="string"?`${g.slice(0,-1)}${v}"`:v[0]==='"'?g.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(g instanceof r))return`"${g}${v.slice(1)}`}function u(g,v){return v.emptyStr()?g:g.emptyStr()?v:s`${g}${v}`}e.strConcat=u;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:d(Array.isArray(g)?g.join(","):g)}function h(g){return new n(d(g))}e.stringify=h;function d(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=d;function p(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new n(`.${g}`):a`[${g}]`}e.getProperty=p;function m(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new n(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=m;function y(g){return new n(g.toString())}e.regexpCode=y})(ts);var Ou={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=ts;class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=a;class i extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}}e.ValueScopeName=i;const s=(0,t._)`\n`;class o extends a{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new i(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(l),{prefix:d}=h,p=(f=u.key)!==null&&f!==void 0?f:u.ref;let m=this._values[d];if(m){const v=m.get(p);if(v)return v}else m=this._values[d]=new Map;m.set(p,h);const y=this._scope[d]||(this._scope[d]=[]),g=y.length;return y[g]=u.ref,h.setValue(u,{property:d,itemIndex:g}),h}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},u,f)}_reduceValues(l,u,f={},h){let d=t.nil;for(const p in l){const m=l[p];if(!m)continue;const y=f[p]=f[p]||new Map;m.forEach(g=>{if(y.has(g))return;y.set(g,n.Started);let v=u(g);if(v){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;d=(0,t._)`${d}${w} ${g} = ${v};${this.opts._n}`}else if(v=h==null?void 0:h(g))d=(0,t._)`${d}${v}${this.opts._n}`;else throw new r(g);y.set(g,n.Completed)})}return d}}e.ValueScope=o})(Ou);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=ts,r=Ou;var n=ts;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Ou;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames($,I){return this}}class s extends i{constructor($,I,B){super(),this.varKind=$,this.name=I,this.rhs=B}render({es5:$,_n:I}){const B=$?r.varKinds.var:this.varKind,G=this.rhs===void 0?"":` = ${this.rhs}`;return`${B} ${this.name}${G};`+I}optimizeNames($,I){if($[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,$,I)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class o extends i{constructor($,I,B){super(),this.lhs=$,this.rhs=I,this.sideEffects=B}render({_n:$}){return`${this.lhs} = ${this.rhs};`+$}optimizeNames($,I){if(!(this.lhs instanceof t.Name&&!$[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,$,I),this}get names(){const $=this.lhs instanceof t.Name?{}:{...this.lhs.names};return L($,this.rhs)}}class c extends o{constructor($,I,B,G){super($,B,G),this.op=I}render({_n:$}){return`${this.lhs} ${this.op}= ${this.rhs};`+$}}class l extends i{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`${this.label}:`+$}}class u extends i{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`break${this.label?` ${this.label}`:""};`+$}}class f extends i{constructor($){super(),this.error=$}render({_n:$}){return`throw ${this.error};`+$}get names(){return this.error.names}}class h extends i{constructor($){super(),this.code=$}render({_n:$}){return`${this.code};`+$}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames($,I){return this.code=H(this.code,$,I),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class d extends i{constructor($=[]){super(),this.nodes=$}render($){return this.nodes.reduce((I,B)=>I+B.render($),"")}optimizeNodes(){const{nodes:$}=this;let I=$.length;for(;I--;){const B=$[I].optimizeNodes();Array.isArray(B)?$.splice(I,1,...B):B?$[I]=B:$.splice(I,1)}return $.length>0?this:void 0}optimizeNames($,I){const{nodes:B}=this;let G=B.length;for(;G--;){const J=B[G];J.optimizeNames($,I)||(Y($,J.names),B.splice(G,1))}return B.length>0?this:void 0}get names(){return this.nodes.reduce(($,I)=>D($,I.names),{})}}class p extends d{render($){return"{"+$._n+super.render($)+"}"+$._n}}class m extends d{}class y extends p{}y.kind="else";class g extends p{constructor($,I){super(I),this.condition=$}render($){let I=`if(${this.condition})`+super.render($);return this.else&&(I+="else "+this.else.render($)),I}optimizeNodes(){super.optimizeNodes();const $=this.condition;if($===!0)return this.nodes;let I=this.else;if(I){const B=I.optimizeNodes();I=this.else=Array.isArray(B)?new y(B):B}if(I)return $===!1?I instanceof g?I:I.nodes:this.nodes.length?this:new g(ce($),I instanceof g?[I]:I.nodes);if(!($===!1||!this.nodes.length))return this}optimizeNames($,I){var B;if(this.else=(B=this.else)===null||B===void 0?void 0:B.optimizeNames($,I),!!(super.optimizeNames($,I)||this.else))return this.condition=H(this.condition,$,I),this}get names(){const $=super.names;return L($,this.condition),this.else&&D($,this.else.names),$}}g.kind="if";class v extends p{}v.kind="for";class w extends v{constructor($){super(),this.iteration=$}render($){return`for(${this.iteration})`+super.render($)}optimizeNames($,I){if(super.optimizeNames($,I))return this.iteration=H(this.iteration,$,I),this}get names(){return D(super.names,this.iteration.names)}}class _ extends v{constructor($,I,B,G){super(),this.varKind=$,this.name=I,this.from=B,this.to=G}render($){const I=$.es5?r.varKinds.var:this.varKind,{name:B,from:G,to:J}=this;return`for(${I} ${B}=${G}; ${B}<${J}; ${B}++)`+super.render($)}get names(){const $=L(super.names,this.from);return L($,this.to)}}class b extends v{constructor($,I,B,G){super(),this.loop=$,this.varKind=I,this.name=B,this.iterable=G}render($){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render($)}optimizeNames($,I){if(super.optimizeNames($,I))return this.iterable=H(this.iterable,$,I),this}get names(){return D(super.names,this.iterable.names)}}class x extends p{constructor($,I,B){super(),this.name=$,this.args=I,this.async=B}render($){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render($)}}x.kind="func";class S extends d{render($){return"return "+super.render($)}}S.kind="return";class E extends p{render($){let I="try"+super.render($);return this.catch&&(I+=this.catch.render($)),this.finally&&(I+=this.finally.render($)),I}optimizeNodes(){var $,I;return super.optimizeNodes(),($=this.catch)===null||$===void 0||$.optimizeNodes(),(I=this.finally)===null||I===void 0||I.optimizeNodes(),this}optimizeNames($,I){var B,G;return super.optimizeNames($,I),(B=this.catch)===null||B===void 0||B.optimizeNames($,I),(G=this.finally)===null||G===void 0||G.optimizeNames($,I),this}get names(){const $=super.names;return this.catch&&D($,this.catch.names),this.finally&&D($,this.finally.names),$}}class C extends p{constructor($){super(),this.error=$}render($){return`catch(${this.error})`+super.render($)}}C.kind="catch";class k extends p{render($){return"finally"+super.render($)}}k.kind="finally";class R{constructor($,I={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...I,_n:I.lines?`
`:""},this._extScope=$,this._scope=new r.Scope({parent:$}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name($){return this._scope.name($)}scopeName($){return this._extScope.name($)}scopeValue($,I){const B=this._extScope.value($,I);return(this._values[B.prefix]||(this._values[B.prefix]=new Set)).add(B),B}getScopeValue($,I){return this._extScope.getValue($,I)}scopeRefs($){return this._extScope.scopeRefs($,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def($,I,B,G){const J=this._scope.toName(I);return B!==void 0&&G&&(this._constants[J.str]=B),this._leafNode(new s($,J,B)),J}const($,I,B){return this._def(r.varKinds.const,$,I,B)}let($,I,B){return this._def(r.varKinds.let,$,I,B)}var($,I,B){return this._def(r.varKinds.var,$,I,B)}assign($,I,B){return this._leafNode(new o($,I,B))}add($,I){return this._leafNode(new c($,e.operators.ADD,I))}code($){return typeof $=="function"?$():$!==t.nil&&this._leafNode(new h($)),this}object(...$){const I=["{"];for(const[B,G]of $)I.length>1&&I.push(","),I.push(B),(B!==G||this.opts.es5)&&(I.push(":"),(0,t.addCodeArg)(I,G));return I.push("}"),new t._Code(I)}if($,I,B){if(this._blockNode(new g($)),I&&B)this.code(I).else().code(B).endIf();else if(I)this.code(I).endIf();else if(B)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf($){return this._elseNode(new g($))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(g,y)}_for($,I){return this._blockNode($),I&&this.code(I).endFor(),this}for($,I){return this._for(new w($),I)}forRange($,I,B,G,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const ue=this._scope.toName($);return this._for(new _(J,ue,I,B),()=>G(ue))}forOf($,I,B,G=r.varKinds.const){const J=this._scope.toName($);if(this.opts.es5){const ue=I instanceof t.Name?I:this.var("_arr",I);return this.forRange("_i",0,(0,t._)`${ue}.length`,me=>{this.var(J,(0,t._)`${ue}[${me}]`),B(J)})}return this._for(new b("of",G,J,I),()=>B(J))}forIn($,I,B,G=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf($,(0,t._)`Object.keys(${I})`,B);const J=this._scope.toName($);return this._for(new b("in",G,J,I),()=>B(J))}endFor(){return this._endBlockNode(v)}label($){return this._leafNode(new l($))}break($){return this._leafNode(new u($))}return($){const I=new S;if(this._blockNode(I),this.code($),I.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try($,I,B){if(!I&&!B)throw new Error('CodeGen: "try" without "catch" and "finally"');const G=new E;if(this._blockNode(G),this.code($),I){const J=this.name("e");this._currNode=G.catch=new C(J),I(J)}return B&&(this._currNode=G.finally=new k,this.code(B)),this._endBlockNode(C,k)}throw($){return this._leafNode(new f($))}block($,I){return this._blockStarts.push(this._nodes.length),$&&this.code($).endBlock(I),this}endBlock($){const I=this._blockStarts.pop();if(I===void 0)throw new Error("CodeGen: not in self-balancing block");const B=this._nodes.length-I;if(B<0||$!==void 0&&B!==$)throw new Error(`CodeGen: wrong number of nodes: ${B} vs ${$} expected`);return this._nodes.length=I,this}func($,I=t.nil,B,G){return this._blockNode(new x($,I,B)),G&&this.code(G).endFunc(),this}endFunc(){return this._endBlockNode(x)}optimize($=1){for(;$-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode($){return this._currNode.nodes.push($),this}_blockNode($){this._currNode.nodes.push($),this._nodes.push($)}_endBlockNode($,I){const B=this._currNode;if(B instanceof $||I&&B instanceof I)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${I?`${$.kind}/${I.kind}`:$.kind}"`)}_elseNode($){const I=this._currNode;if(!(I instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=$,this}get _root(){return this._nodes[0]}get _currNode(){const $=this._nodes;return $[$.length-1]}set _currNode($){const I=this._nodes;I[I.length-1]=$}}e.CodeGen=R;function D(F,$){for(const I in $)F[I]=(F[I]||0)+($[I]||0);return F}function L(F,$){return $ instanceof t._CodeOrName?D(F,$.names):F}function H(F,$,I){if(F instanceof t.Name)return B(F);if(!G(F))return F;return new t._Code(F._items.reduce((J,ue)=>(ue instanceof t.Name&&(ue=B(ue)),ue instanceof t._Code?J.push(...ue._items):J.push(ue),J),[]));function B(J){const ue=I[J.str];return ue===void 0||$[J.str]!==1?J:(delete $[J.str],ue)}function G(J){return J instanceof t._Code&&J._items.some(ue=>ue instanceof t.Name&&$[ue.str]===1&&I[ue.str]!==void 0)}}function Y(F,$){for(const I in $)F[I]=(F[I]||0)-($[I]||0)}function ce(F){return typeof F=="boolean"||typeof F=="number"||F===null?!F:(0,t._)`!${z(F)}`}e.not=ce;const de=N(e.operators.AND);function se(...F){return F.reduce(de)}e.and=se;const ee=N(e.operators.OR);function V(...F){return F.reduce(ee)}e.or=V;function N(F){return($,I)=>$===t.nil?I:I===t.nil?$:(0,t._)`${z($)} ${F} ${z(I)}`}function z(F){return F instanceof t.Name?F:(0,t._)`(${F})`}})(ge);var Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.checkStrictMode=Q.getErrorPath=Q.Type=Q.useFunc=Q.setEvaluated=Q.evaluatedPropsToName=Q.mergeEvaluated=Q.eachItem=Q.unescapeJsonPointer=Q.escapeJsonPointer=Q.escapeFragment=Q.unescapeFragment=Q.schemaRefOrVal=Q.schemaHasRulesButRef=Q.schemaHasRules=Q.checkUnknownRules=Q.alwaysValidSchema=Q.toHash=void 0;const Pe=ge,L5=ts;function z5(e){const t={};for(const r of e)t[r]=!0;return t}Q.toHash=z5;function V5(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(U0(e,t),!B0(t,e.self.RULES.all))}Q.alwaysValidSchema=V5;function U0(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const a=n.RULES.keywords;for(const i in t)a[i]||V0(e,`unknown keyword: "${i}"`)}Q.checkUnknownRules=U0;function B0(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}Q.schemaHasRules=B0;function q5(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}Q.schemaHasRulesButRef=q5;function H5({topSchemaRef:e,schemaPath:t},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Pe._)`${r}`}return(0,Pe._)`${e}${t}${(0,Pe.getProperty)(n)}`}Q.schemaRefOrVal=H5;function K5(e){return L0(decodeURIComponent(e))}Q.unescapeFragment=K5;function G5(e){return encodeURIComponent(sd(e))}Q.escapeFragment=G5;function sd(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Q.escapeJsonPointer=sd;function L0(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Q.unescapeJsonPointer=L0;function W5(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}Q.eachItem=W5;function cm({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(a,i,s,o)=>{const c=s===void 0?i:s instanceof Pe.Name?(i instanceof Pe.Name?e(a,i,s):t(a,i,s),s):i instanceof Pe.Name?(t(a,s,i),i):r(i,s);return o===Pe.Name&&!(c instanceof Pe.Name)?n(a,c):c}}Q.mergeEvaluated={props:cm({mergeNames:(e,t,r)=>e.if((0,Pe._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Pe._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Pe._)`${r} || {}`).code((0,Pe._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Pe._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Pe._)`${r} || {}`),od(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:z0}),items:cm({mergeNames:(e,t,r)=>e.if((0,Pe._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Pe._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Pe._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Pe._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function z0(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,Pe._)`{}`);return t!==void 0&&od(e,r,t),r}Q.evaluatedPropsToName=z0;function od(e,t,r){Object.keys(r).forEach(n=>e.assign((0,Pe._)`${t}${(0,Pe.getProperty)(n)}`,!0))}Q.setEvaluated=od;const lm={};function Z5(e,t){return e.scopeValue("func",{ref:t,code:lm[t.code]||(lm[t.code]=new L5._Code(t.code))})}Q.useFunc=Z5;var Au;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Au||(Q.Type=Au={}));function Y5(e,t,r){if(e instanceof Pe.Name){const n=t===Au.Num;return r?n?(0,Pe._)`"[" + ${e} + "]"`:(0,Pe._)`"['" + ${e} + "']"`:n?(0,Pe._)`"/" + ${e}`:(0,Pe._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Pe.getProperty)(e).toString():"/"+sd(e)}Q.getErrorPath=Y5;function V0(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}Q.checkStrictMode=V0;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});const gt=ge,X5={data:new gt.Name("data"),valCxt:new gt.Name("valCxt"),instancePath:new gt.Name("instancePath"),parentData:new gt.Name("parentData"),parentDataProperty:new gt.Name("parentDataProperty"),rootData:new gt.Name("rootData"),dynamicAnchors:new gt.Name("dynamicAnchors"),vErrors:new gt.Name("vErrors"),errors:new gt.Name("errors"),this:new gt.Name("this"),self:new gt.Name("self"),scope:new gt.Name("scope"),json:new gt.Name("json"),jsonPos:new gt.Name("jsonPos"),jsonLen:new gt.Name("jsonLen"),jsonPart:new gt.Name("jsonPart")};Nr.default=X5;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ge,r=Q,n=Nr;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:g})=>g?(0,t.str)`"${y}" keyword must be ${g} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function a(y,g=e.keywordError,v,w){const{it:_}=y,{gen:b,compositeRule:x,allErrors:S}=_,E=f(y,g,v);w??(x||S)?c(b,E):l(_,(0,t._)`[${E}]`)}e.reportError=a;function i(y,g=e.keywordError,v){const{it:w}=y,{gen:_,compositeRule:b,allErrors:x}=w,S=f(y,g,v);c(_,S),b||x||l(w,n.default.vErrors)}e.reportExtraError=i;function s(y,g){y.assign(n.default.errors,g),y.if((0,t._)`${n.default.vErrors} !== null`,()=>y.if(g,()=>y.assign((0,t._)`${n.default.vErrors}.length`,g),()=>y.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function o({gen:y,keyword:g,schemaValue:v,data:w,errsCount:_,it:b}){if(_===void 0)throw new Error("ajv implementation error");const x=y.name("err");y.forRange("i",_,n.default.errors,S=>{y.const(x,(0,t._)`${n.default.vErrors}[${S}]`),y.if((0,t._)`${x}.instancePath === undefined`,()=>y.assign((0,t._)`${x}.instancePath`,(0,t.strConcat)(n.default.instancePath,b.errorPath))),y.assign((0,t._)`${x}.schemaPath`,(0,t.str)`${b.errSchemaPath}/${g}`),b.opts.verbose&&(y.assign((0,t._)`${x}.schema`,v),y.assign((0,t._)`${x}.data`,w))})}e.extendErrors=o;function c(y,g){const v=y.const("err",g);y.if((0,t._)`${n.default.vErrors} === null`,()=>y.assign(n.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${n.default.vErrors}.push(${v})`),y.code((0,t._)`${n.default.errors}++`)}function l(y,g){const{gen:v,validateName:w,schemaEnv:_}=y;_.$async?v.throw((0,t._)`new ${y.ValidationError}(${g})`):(v.assign((0,t._)`${w}.errors`,g),v.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,g,v){const{createErrors:w}=y.it;return w===!1?(0,t._)`{}`:h(y,g,v)}function h(y,g,v={}){const{gen:w,it:_}=y,b=[d(_,v),p(y,v)];return m(y,g,b),w.object(...b)}function d({errorPath:y},{instancePath:g}){const v=g?(0,t.str)`${y}${(0,r.getErrorPath)(g,r.Type.Str)}`:y;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,v)]}function p({keyword:y,it:{errSchemaPath:g}},{schemaPath:v,parentSchema:w}){let _=w?g:(0,t.str)`${g}/${y}`;return v&&(_=(0,t.str)`${_}${(0,r.getErrorPath)(v,r.Type.Str)}`),[u.schemaPath,_]}function m(y,{params:g,message:v},w){const{keyword:_,data:b,schemaValue:x,it:S}=y,{opts:E,propertyName:C,topSchemaRef:k,schemaPath:R}=S;w.push([u.keyword,_],[u.params,typeof g=="function"?g(y):g||(0,t._)`{}`]),E.messages&&w.push([u.message,typeof v=="function"?v(y):v]),E.verbose&&w.push([u.schema,x],[u.parentSchema,(0,t._)`${k}${R}`],[n.default.data,b]),C&&w.push([u.propertyName,C])}})(Ss);Object.defineProperty(Fa,"__esModule",{value:!0});Fa.boolOrEmptySchema=Fa.topBoolOrEmptySchema=void 0;const J5=Ss,Q5=ge,eB=Nr,tB={message:"boolean schema is false"};function rB(e){const{gen:t,schema:r,validateName:n}=e;r===!1?q0(e,!1):typeof r=="object"&&r.$async===!0?t.return(eB.default.data):(t.assign((0,Q5._)`${n}.errors`,null),t.return(!0))}Fa.topBoolOrEmptySchema=rB;function nB(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),q0(e)):r.var(t,!0)}Fa.boolOrEmptySchema=nB;function q0(e,t){const{gen:r,data:n}=e,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,J5.reportError)(a,tB,void 0,t)}var st={},qn={};Object.defineProperty(qn,"__esModule",{value:!0});qn.getRules=qn.isJSONType=void 0;const aB=["string","number","integer","boolean","null","object","array"],iB=new Set(aB);function sB(e){return typeof e=="string"&&iB.has(e)}qn.isJSONType=sB;function oB(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}qn.getRules=oB;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.shouldUseRule=zr.shouldUseGroup=zr.schemaHasRulesForType=void 0;function cB({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&H0(e,n)}zr.schemaHasRulesForType=cB;function H0(e,t){return t.rules.some(r=>K0(e,r))}zr.shouldUseGroup=H0;function K0(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}zr.shouldUseRule=K0;Object.defineProperty(st,"__esModule",{value:!0});st.reportTypeError=st.checkDataTypes=st.checkDataType=st.coerceAndCheckDataType=st.getJSONTypes=st.getSchemaTypes=st.DataType=void 0;const lB=qn,uB=zr,fB=Ss,pe=ge,G0=Q;var Aa;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Aa||(st.DataType=Aa={}));function dB(e){const t=W0(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}st.getSchemaTypes=dB;function W0(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(lB.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}st.getJSONTypes=W0;function hB(e,t){const{gen:r,data:n,opts:a}=e,i=pB(t,a.coerceTypes),s=t.length>0&&!(i.length===0&&t.length===1&&(0,uB.schemaHasRulesForType)(e,t[0]));if(s){const o=cd(t,n,a.strictNumbers,Aa.Wrong);r.if(o,()=>{i.length?mB(e,t,i):ld(e)})}return s}st.coerceAndCheckDataType=hB;const Z0=new Set(["string","number","integer","boolean","null"]);function pB(e,t){return t?e.filter(r=>Z0.has(r)||t==="array"&&r==="array"):[]}function mB(e,t,r){const{gen:n,data:a,opts:i}=e,s=n.let("dataType",(0,pe._)`typeof ${a}`),o=n.let("coerced",(0,pe._)`undefined`);i.coerceTypes==="array"&&n.if((0,pe._)`${s} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,pe._)`${a}[0]`).assign(s,(0,pe._)`typeof ${a}`).if(cd(t,a,i.strictNumbers),()=>n.assign(o,a))),n.if((0,pe._)`${o} !== undefined`);for(const l of r)(Z0.has(l)||l==="array"&&i.coerceTypes==="array")&&c(l);n.else(),ld(e),n.endIf(),n.if((0,pe._)`${o} !== undefined`,()=>{n.assign(a,o),gB(e,o)});function c(l){switch(l){case"string":n.elseIf((0,pe._)`${s} == "number" || ${s} == "boolean"`).assign(o,(0,pe._)`"" + ${a}`).elseIf((0,pe._)`${a} === null`).assign(o,(0,pe._)`""`);return;case"number":n.elseIf((0,pe._)`${s} == "boolean" || ${a} === null
              || (${s} == "string" && ${a} && ${a} == +${a})`).assign(o,(0,pe._)`+${a}`);return;case"integer":n.elseIf((0,pe._)`${s} === "boolean" || ${a} === null
              || (${s} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(o,(0,pe._)`+${a}`);return;case"boolean":n.elseIf((0,pe._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(o,!1).elseIf((0,pe._)`${a} === "true" || ${a} === 1`).assign(o,!0);return;case"null":n.elseIf((0,pe._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(o,null);return;case"array":n.elseIf((0,pe._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${a} === null`).assign(o,(0,pe._)`[${a}]`)}}}function gB({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,pe._)`${t} !== undefined`,()=>e.assign((0,pe._)`${t}[${r}]`,n))}function ku(e,t,r,n=Aa.Correct){const a=n===Aa.Correct?pe.operators.EQ:pe.operators.NEQ;let i;switch(e){case"null":return(0,pe._)`${t} ${a} null`;case"array":i=(0,pe._)`Array.isArray(${t})`;break;case"object":i=(0,pe._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=s((0,pe._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=s();break;default:return(0,pe._)`typeof ${t} ${a} ${e}`}return n===Aa.Correct?i:(0,pe.not)(i);function s(o=pe.nil){return(0,pe.and)((0,pe._)`typeof ${t} == "number"`,o,r?(0,pe._)`isFinite(${t})`:pe.nil)}}st.checkDataType=ku;function cd(e,t,r,n){if(e.length===1)return ku(e[0],t,r,n);let a;const i=(0,G0.toHash)(e);if(i.array&&i.object){const s=(0,pe._)`typeof ${t} != "object"`;a=i.null?s:(0,pe._)`!${t} || ${s}`,delete i.null,delete i.array,delete i.object}else a=pe.nil;i.number&&delete i.integer;for(const s in i)a=(0,pe.and)(a,ku(s,t,r,n));return a}st.checkDataTypes=cd;const yB={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,pe._)`{type: ${e}}`:(0,pe._)`{type: ${t}}`};function ld(e){const t=vB(e);(0,fB.reportError)(t,yB)}st.reportTypeError=ld;function vB(e){const{gen:t,data:r,schema:n}=e,a=(0,G0.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:e}}var Gc={};Object.defineProperty(Gc,"__esModule",{value:!0});Gc.assignDefaults=void 0;const ya=ge,wB=Q;function _B(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const a in r)um(e,a,r[a].default);else t==="array"&&Array.isArray(n)&&n.forEach((a,i)=>um(e,i,a.default))}Gc.assignDefaults=_B;function um(e,t,r){const{gen:n,compositeRule:a,data:i,opts:s}=e;if(r===void 0)return;const o=(0,ya._)`${i}${(0,ya.getProperty)(t)}`;if(a){(0,wB.checkStrictMode)(e,`default is ignored for: ${o}`);return}let c=(0,ya._)`${o} === undefined`;s.useDefaults==="empty"&&(c=(0,ya._)`${c} || ${o} === null || ${o} === ""`),n.if(c,(0,ya._)`${o} = ${(0,ya.stringify)(r)}`)}var Tr={},ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.validateUnion=ye.validateArray=ye.usePattern=ye.callValidateCode=ye.schemaProperties=ye.allSchemaProperties=ye.noPropertyInData=ye.propertyInData=ye.isOwnProperty=ye.hasPropFunc=ye.reportMissingProp=ye.checkMissingProp=ye.checkReportMissingProp=void 0;const Ue=ge,ud=Q,en=Nr,bB=Q;function $B(e,t){const{gen:r,data:n,it:a}=e;r.if(dd(r,n,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ue._)`${t}`},!0),e.error()})}ye.checkReportMissingProp=$B;function SB({gen:e,data:t,it:{opts:r}},n,a){return(0,Ue.or)(...n.map(i=>(0,Ue.and)(dd(e,t,i,r.ownProperties),(0,Ue._)`${a} = ${i}`)))}ye.checkMissingProp=SB;function EB(e,t){e.setParams({missingProperty:t},!0),e.error()}ye.reportMissingProp=EB;function Y0(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ue._)`Object.prototype.hasOwnProperty`})}ye.hasPropFunc=Y0;function fd(e,t,r){return(0,Ue._)`${Y0(e)}.call(${t}, ${r})`}ye.isOwnProperty=fd;function xB(e,t,r,n){const a=(0,Ue._)`${t}${(0,Ue.getProperty)(r)} !== undefined`;return n?(0,Ue._)`${a} && ${fd(e,t,r)}`:a}ye.propertyInData=xB;function dd(e,t,r,n){const a=(0,Ue._)`${t}${(0,Ue.getProperty)(r)} === undefined`;return n?(0,Ue.or)(a,(0,Ue.not)(fd(e,t,r))):a}ye.noPropertyInData=dd;function X0(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ye.allSchemaProperties=X0;function OB(e,t){return X0(t).filter(r=>!(0,ud.alwaysValidSchema)(e,t[r]))}ye.schemaProperties=OB;function AB({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:i},it:s},o,c,l){const u=l?(0,Ue._)`${e}, ${t}, ${n}${a}`:t,f=[[en.default.instancePath,(0,Ue.strConcat)(en.default.instancePath,i)],[en.default.parentData,s.parentData],[en.default.parentDataProperty,s.parentDataProperty],[en.default.rootData,en.default.rootData]];s.opts.dynamicRef&&f.push([en.default.dynamicAnchors,en.default.dynamicAnchors]);const h=(0,Ue._)`${u}, ${r.object(...f)}`;return c!==Ue.nil?(0,Ue._)`${o}.call(${c}, ${h})`:(0,Ue._)`${o}(${h})`}ye.callValidateCode=AB;const kB=(0,Ue._)`new RegExp`;function CB({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:a}=t.code,i=a(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,Ue._)`${a.code==="new RegExp"?kB:(0,bB.useFunc)(e,a)}(${r}, ${n})`})}ye.usePattern=CB;function TB(e){const{gen:t,data:r,keyword:n,it:a}=e,i=t.name("valid");if(a.allErrors){const o=t.let("valid",!0);return s(()=>t.assign(o,!1)),o}return t.var(i,!0),s(()=>t.break()),i;function s(o){const c=t.const("len",(0,Ue._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:ud.Type.Num},i),t.if((0,Ue.not)(i),o)})}}ye.validateArray=TB;function IB(e){const{gen:t,schema:r,keyword:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,ud.alwaysValidSchema)(a,c))&&!a.opts.unevaluated)return;const s=t.let("valid",!1),o=t.name("_valid");t.block(()=>r.forEach((c,l)=>{const u=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},o);t.assign(s,(0,Ue._)`${s} || ${o}`),e.mergeValidEvaluated(u,o)||t.if((0,Ue.not)(s))})),e.result(s,()=>e.reset(),()=>e.error(!0))}ye.validateUnion=IB;Object.defineProperty(Tr,"__esModule",{value:!0});Tr.validateKeywordUsage=Tr.validSchemaType=Tr.funcKeywordCode=Tr.macroKeywordCode=void 0;const _t=ge,Fn=Nr,PB=ye,NB=Ss;function jB(e,t){const{gen:r,keyword:n,schema:a,parentSchema:i,it:s}=e,o=t.macro.call(s.self,a,i,s),c=J0(r,n,o);s.opts.validateSchema!==!1&&s.self.validateSchema(o,!0);const l=r.name("valid");e.subschema({schema:o,schemaPath:_t.nil,errSchemaPath:`${s.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Tr.macroKeywordCode=jB;function RB(e,t){var r;const{gen:n,keyword:a,schema:i,parentSchema:s,$data:o,it:c}=e;DB(c,t);const l=!o&&t.compile?t.compile.call(c.self,i,s,c):t.validate,u=J0(n,a,l),f=n.let("valid");e.block$data(f,h),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function h(){if(t.errors===!1)m(),t.modifying&&fm(e),y(()=>e.error());else{const g=t.async?d():p();t.modifying&&fm(e),y(()=>FB(e,g))}}function d(){const g=n.let("ruleErrs",null);return n.try(()=>m((0,_t._)`await `),v=>n.assign(f,!1).if((0,_t._)`${v} instanceof ${c.ValidationError}`,()=>n.assign(g,(0,_t._)`${v}.errors`),()=>n.throw(v))),g}function p(){const g=(0,_t._)`${u}.errors`;return n.assign(g,null),m(_t.nil),g}function m(g=t.async?(0,_t._)`await `:_t.nil){const v=c.opts.passContext?Fn.default.this:Fn.default.self,w=!("compile"in t&&!o||t.schema===!1);n.assign(f,(0,_t._)`${g}${(0,PB.callValidateCode)(e,u,v,w)}`,t.modifying)}function y(g){var v;n.if((0,_t.not)((v=t.valid)!==null&&v!==void 0?v:f),g)}}Tr.funcKeywordCode=RB;function fm(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,_t._)`${n.parentData}[${n.parentDataProperty}]`))}function FB(e,t){const{gen:r}=e;r.if((0,_t._)`Array.isArray(${t})`,()=>{r.assign(Fn.default.vErrors,(0,_t._)`${Fn.default.vErrors} === null ? ${t} : ${Fn.default.vErrors}.concat(${t})`).assign(Fn.default.errors,(0,_t._)`${Fn.default.vErrors}.length`),(0,NB.extendErrors)(e)},()=>e.error())}function DB({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function J0(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,_t.stringify)(r)})}function MB(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Tr.validSchemaType=MB;function UB({schema:e,opts:t,self:r,errSchemaPath:n},a,i){if(Array.isArray(a.keyword)?!a.keyword.includes(i):a.keyword!==i)throw new Error("ajv implementation error");const s=a.dependencies;if(s!=null&&s.some(o=>!Object.prototype.hasOwnProperty.call(e,o)))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[i])){const c=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Tr.validateKeywordUsage=UB;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.extendSubschemaMode=wn.extendSubschemaData=wn.getSubschema=void 0;const Er=ge,Q0=Q;function BB(e,{keyword:t,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:i,topSchemaRef:s}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const o=e.schema[t];return r===void 0?{schema:o,schemaPath:(0,Er._)`${e.schemaPath}${(0,Er.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:(0,Er._)`${e.schemaPath}${(0,Er.getProperty)(t)}${(0,Er.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Q0.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||i===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:s,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}wn.getSubschema=BB;function LB(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:i,propertyName:s}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=t;if(r!==void 0){const{errorPath:l,dataPathArr:u,opts:f}=t,h=o.let("data",(0,Er._)`${t.data}${(0,Er.getProperty)(r)}`,!0);c(h),e.errorPath=(0,Er.str)`${l}${(0,Q0.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Er._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(a!==void 0){const l=a instanceof Er.Name?a:o.let("data",a,!0);c(l),s!==void 0&&(e.propertyName=s)}i&&(e.dataTypes=i);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}wn.extendSubschemaData=LB;function zB(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:i}){n!==void 0&&(e.compositeRule=n),a!==void 0&&(e.createErrors=a),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}wn.extendSubschemaMode=zB;var ht={},ew=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var s=i[a];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r},tw={exports:{}},dn=tw.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};xo(t,n,a,e,"",e)};dn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};dn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};dn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};dn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function xo(e,t,r,n,a,i,s,o,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,i,s,o,c,l);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in dn.arrayKeywords)for(var h=0;h<f.length;h++)xo(e,t,r,f[h],a+"/"+u+"/"+h,i,a,u,n,h)}else if(u in dn.propsKeywords){if(f&&typeof f=="object")for(var d in f)xo(e,t,r,f[d],a+"/"+u+"/"+VB(d),i,a,u,n,d)}else(u in dn.keywords||e.allKeys&&!(u in dn.skipKeywords))&&xo(e,t,r,f,a+"/"+u,i,a,u,n)}r(n,a,i,s,o,c,l)}}function VB(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var qB=tw.exports;Object.defineProperty(ht,"__esModule",{value:!0});ht.getSchemaRefs=ht.resolveUrl=ht.normalizeId=ht._getFullPath=ht.getFullPath=ht.inlineRef=void 0;const HB=Q,KB=ew,GB=qB,WB=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function ZB(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Cu(e):t?rw(e)<=t:!1}ht.inlineRef=ZB;const YB=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Cu(e){for(const t in e){if(YB.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Cu)||typeof r=="object"&&Cu(r))return!0}return!1}function rw(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!WB.has(r)&&(typeof e[r]=="object"&&(0,HB.eachItem)(e[r],n=>t+=rw(n)),t===1/0))return 1/0}return t}function nw(e,t="",r){r!==!1&&(t=ka(t));const n=e.parse(t);return aw(e,n)}ht.getFullPath=nw;function aw(e,t){return e.serialize(t).split("#")[0]+"#"}ht._getFullPath=aw;const XB=/#\/?$/;function ka(e){return e?e.replace(XB,""):""}ht.normalizeId=ka;function JB(e,t,r){return r=ka(r),e.resolve(t,r)}ht.resolveUrl=JB;const QB=/^[a-z_][-a-z0-9._]*$/i;function eL(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=ka(e[r]||t),i={"":a},s=nw(n,a,!1),o={},c=new Set;return GB(e,{allKeys:!0},(f,h,d,p)=>{if(p===void 0)return;const m=s+h;let y=i[p];typeof f[r]=="string"&&(y=g.call(this,f[r])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),i[h]=y;function g(w){const _=this.opts.uriResolver.resolve;if(w=ka(y?_(y,w):w),c.has(w))throw u(w);c.add(w);let b=this.refs[w];return typeof b=="string"&&(b=this.refs[b]),typeof b=="object"?l(f,b.schema,w):w!==ka(m)&&(w[0]==="#"?(l(f,o[w],w),o[w]=f):this.refs[w]=m),w}function v(w){if(typeof w=="string"){if(!QB.test(w))throw new Error(`invalid anchor "${w}"`);g.call(this,`#${w}`)}}}),o;function l(f,h,d){if(h!==void 0&&!KB(f,h))throw u(d)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}ht.getSchemaRefs=eL;Object.defineProperty(or,"__esModule",{value:!0});or.getData=or.KeywordCxt=or.validateFunctionCode=void 0;const iw=Fa,dm=st,hd=zr,Go=st,tL=Gc,Ui=Tr,Cl=wn,ne=ge,oe=Nr,rL=ht,Vr=Q,ki=Ss;function nL(e){if(cw(e)&&(lw(e),ow(e))){sL(e);return}sw(e,()=>(0,iw.topBoolOrEmptySchema)(e))}or.validateFunctionCode=nL;function sw({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},i){a.code.es5?e.func(t,(0,ne._)`${oe.default.data}, ${oe.default.valCxt}`,n.$async,()=>{e.code((0,ne._)`"use strict"; ${hm(r,a)}`),iL(e,a),e.code(i)}):e.func(t,(0,ne._)`${oe.default.data}, ${aL(a)}`,n.$async,()=>e.code(hm(r,a)).code(i))}function aL(e){return(0,ne._)`{${oe.default.instancePath}="", ${oe.default.parentData}, ${oe.default.parentDataProperty}, ${oe.default.rootData}=${oe.default.data}${e.dynamicRef?(0,ne._)`, ${oe.default.dynamicAnchors}={}`:ne.nil}}={}`}function iL(e,t){e.if(oe.default.valCxt,()=>{e.var(oe.default.instancePath,(0,ne._)`${oe.default.valCxt}.${oe.default.instancePath}`),e.var(oe.default.parentData,(0,ne._)`${oe.default.valCxt}.${oe.default.parentData}`),e.var(oe.default.parentDataProperty,(0,ne._)`${oe.default.valCxt}.${oe.default.parentDataProperty}`),e.var(oe.default.rootData,(0,ne._)`${oe.default.valCxt}.${oe.default.rootData}`),t.dynamicRef&&e.var(oe.default.dynamicAnchors,(0,ne._)`${oe.default.valCxt}.${oe.default.dynamicAnchors}`)},()=>{e.var(oe.default.instancePath,(0,ne._)`""`),e.var(oe.default.parentData,(0,ne._)`undefined`),e.var(oe.default.parentDataProperty,(0,ne._)`undefined`),e.var(oe.default.rootData,oe.default.data),t.dynamicRef&&e.var(oe.default.dynamicAnchors,(0,ne._)`{}`)})}function sL(e){const{schema:t,opts:r,gen:n}=e;sw(e,()=>{r.$comment&&t.$comment&&fw(e),fL(e),n.let(oe.default.vErrors,null),n.let(oe.default.errors,0),r.unevaluated&&oL(e),uw(e),pL(e)})}function oL(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,ne._)`${r}.evaluated`),t.if((0,ne._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,ne._)`${e.evaluated}.props`,(0,ne._)`undefined`)),t.if((0,ne._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,ne._)`${e.evaluated}.items`,(0,ne._)`undefined`))}function hm(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,ne._)`/*# sourceURL=${r} */`:ne.nil}function cL(e,t){if(cw(e)&&(lw(e),ow(e))){lL(e,t);return}(0,iw.boolOrEmptySchema)(e,t)}function ow({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function cw(e){return typeof e.schema!="boolean"}function lL(e,t){const{schema:r,gen:n,opts:a}=e;a.$comment&&r.$comment&&fw(e),dL(e),hL(e);const i=n.const("_errs",oe.default.errors);uw(e,i),n.var(t,(0,ne._)`${i} === ${oe.default.errors}`)}function lw(e){(0,Vr.checkUnknownRules)(e),uL(e)}function uw(e,t){if(e.opts.jtd)return pm(e,[],!1,t);const r=(0,dm.getSchemaTypes)(e.schema),n=(0,dm.coerceAndCheckDataType)(e,r);pm(e,r,!n,t)}function uL(e){const{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Vr.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function fL(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Vr.checkStrictMode)(e,"default is ignored in the schema root")}function dL(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,rL.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function hL(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function fw({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){const i=r.$comment;if(a.$comment===!0)e.code((0,ne._)`${oe.default.self}.logger.log(${i})`);else if(typeof a.$comment=="function"){const s=(0,ne.str)`${n}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code((0,ne._)`${oe.default.self}.opts.$comment(${i}, ${s}, ${o}.schema)`)}}function pL(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:i}=e;r.$async?t.if((0,ne._)`${oe.default.errors} === 0`,()=>t.return(oe.default.data),()=>t.throw((0,ne._)`new ${a}(${oe.default.vErrors})`)):(t.assign((0,ne._)`${n}.errors`,oe.default.vErrors),i.unevaluated&&mL(e),t.return((0,ne._)`${oe.default.errors} === 0`))}function mL({gen:e,evaluated:t,props:r,items:n}){r instanceof ne.Name&&e.assign((0,ne._)`${t}.props`,r),n instanceof ne.Name&&e.assign((0,ne._)`${t}.items`,n)}function pm(e,t,r,n){const{gen:a,schema:i,data:s,allErrors:o,opts:c,self:l}=e,{RULES:u}=l;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,Vr.schemaHasRulesButRef)(i,u))){a.block(()=>pw(e,"$ref",u.all.$ref.definition));return}c.jtd||gL(e,t),a.block(()=>{for(const h of u.rules)f(h);f(u.post)});function f(h){(0,hd.shouldUseGroup)(i,h)&&(h.type?(a.if((0,Go.checkDataType)(h.type,s,c.strictNumbers)),mm(e,h),t.length===1&&t[0]===h.type&&r&&(a.else(),(0,Go.reportTypeError)(e)),a.endIf()):mm(e,h),o||a.if((0,ne._)`${oe.default.errors} === ${n||0}`))}}function mm(e,t){const{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,tL.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,hd.shouldUseRule)(n,i)&&pw(e,i.keyword,i.definition,t.type)})}function gL(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(yL(e,t),e.opts.allowUnionTypes||vL(e,t),wL(e,e.dataTypes))}function yL(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{dw(e.dataTypes,r)||pd(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),bL(e,t)}}function vL(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&pd(e,"use allowUnionTypes to allow union type keyword")}function wL(e,t){const r=e.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,hd.shouldUseRule)(e.schema,a)){const{type:i}=a.definition;i.length&&!i.some(s=>_L(t,s))&&pd(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function _L(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function dw(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function bL(e,t){const r=[];for(const n of e.dataTypes)dw(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function pd(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Vr.checkStrictMode)(e,t,e.opts.strictTypes)}class hw{constructor(t,r,n){if((0,Ui.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Vr.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",mw(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Ui.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",oe.default.errors))}result(t,r,n){this.failResult((0,ne.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,ne.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,ne._)`${r} !== undefined && (${(0,ne.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?ki.reportExtraError:ki.reportError)(this,this.def.error,r)}$dataError(){(0,ki.reportError)(this,this.def.$dataError||ki.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ki.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=ne.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=ne.nil,r=ne.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:i,def:s}=this;n.if((0,ne.or)((0,ne._)`${a} === undefined`,r)),t!==ne.nil&&n.assign(t,!0),(i.length||s.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==ne.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:a,it:i}=this;return(0,ne.or)(s(),o());function s(){if(n.length){if(!(r instanceof ne.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,ne._)`${(0,Go.checkDataTypes)(c,r,i.opts.strictNumbers,Go.DataType.Wrong)}`}return ne.nil}function o(){if(a.validateSchema){const c=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,ne._)`!${c}(${r})`}return ne.nil}}subschema(t,r){const n=(0,Cl.getSubschema)(this.it,t);(0,Cl.extendSubschemaData)(n,this.it,t),(0,Cl.extendSubschemaMode)(n,t);const a={...this.it,...n,items:void 0,props:void 0};return cL(a,r),a}mergeEvaluated(t,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Vr.mergeEvaluated.props(a,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Vr.mergeEvaluated.items(a,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(t,ne.Name)),!0}}or.KeywordCxt=hw;function pw(e,t,r,n){const a=new hw(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,Ui.funcKeywordCode)(a,r):"macro"in r?(0,Ui.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,Ui.funcKeywordCode)(a,r)}const $L=/^\/(?:[^~]|~0|~1)*$/,SL=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function mw(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,i;if(e==="")return oe.default.rootData;if(e[0]==="/"){if(!$L.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,i=oe.default.rootData}else{const l=SL.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+l[1];if(a=l[2],a==="#"){if(u>=t)throw new Error(c("property/index",u));return n[t-u]}if(u>t)throw new Error(c("data",u));if(i=r[t-u],!a)return i}let s=i;const o=a.split("/");for(const l of o)l&&(i=(0,ne._)`${i}${(0,ne.getProperty)((0,Vr.unescapeJsonPointer)(l))}`,s=(0,ne._)`${s} && ${i}`);return s;function c(l,u){return`Cannot access ${l} ${u} levels up, current level is ${t}`}}or.getData=mw;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});class EL extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Es.default=EL;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});const Tl=ht;class xL extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Tl.resolveUrl)(t,r,n),this.missingSchema=(0,Tl.normalizeId)((0,Tl.getFullPath)(t,this.missingRef))}}oi.default=xL;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.resolveSchema=Tt.getCompilingSchema=Tt.resolveRef=Tt.compileSchema=Tt.SchemaEnv=void 0;const tr=ge,OL=Es,In=Nr,nr=ht,gm=Q,AL=or;class Wc{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,nr.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Tt.SchemaEnv=Wc;function md(e){const t=gw.call(this,e);if(t)return t;const r=(0,nr.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:i}=this.opts,s=new tr.CodeGen(this.scope,{es5:n,lines:a,ownProperties:i});let o;e.$async&&(o=s.scopeValue("Error",{ref:OL.default,code:(0,tr._)`require("ajv/dist/runtime/validation_error").default`}));const c=s.scopeName("validate");e.validateName=c;const l={gen:s,allErrors:this.opts.allErrors,data:In.default.data,parentData:In.default.parentData,parentDataProperty:In.default.parentDataProperty,dataNames:[In.default.data],dataPathArr:[tr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,tr.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:tr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,tr._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,AL.validateFunctionCode)(l),s.optimize(this.opts.code.optimize);const f=s.toString();u=`${s.scopeRefs(In.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const d=new Function(`${In.default.self}`,`${In.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:d}),d.errors=null,d.schema=e.schema,d.schemaEnv=e,e.$async&&(d.$async=!0),this.opts.code.source===!0&&(d.source={validateName:c,validateCode:f,scopeValues:s._values}),this.opts.unevaluated){const{props:p,items:m}=l;d.evaluated={props:p instanceof tr.Name?void 0:p,items:m instanceof tr.Name?void 0:m,dynamicProps:p instanceof tr.Name,dynamicItems:m instanceof tr.Name},d.source&&(d.source.evaluated=(0,tr.stringify)(d.evaluated))}return e.validate=d,e}catch(f){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(e)}}Tt.compileSchema=md;function kL(e,t,r){var n;r=(0,nr.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let i=IL.call(this,e,r);if(i===void 0){const s=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;s&&(i=new Wc({schema:s,schemaId:o,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=CL.call(this,i)}Tt.resolveRef=kL;function CL(e){return(0,nr.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:md.call(this,e)}function gw(e){for(const t of this._compilations)if(TL(t,e))return t}Tt.getCompilingSchema=gw;function TL(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function IL(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Zc.call(this,e,t)}function Zc(e,t){const r=this.opts.uriResolver.parse(t),n=(0,nr._getFullPath)(this.opts.uriResolver,r);let a=(0,nr.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return Il.call(this,r,e);const i=(0,nr.normalizeId)(n),s=this.refs[i]||this.schemas[i];if(typeof s=="string"){const o=Zc.call(this,e,s);return typeof(o==null?void 0:o.schema)!="object"?void 0:Il.call(this,r,o)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||md.call(this,s),i===(0,nr.normalizeId)(t)){const{schema:o}=s,{schemaId:c}=this.opts,l=o[c];return l&&(a=(0,nr.resolveUrl)(this.opts.uriResolver,a,l)),new Wc({schema:o,schemaId:c,root:e,baseId:a})}return Il.call(this,r,s)}}Tt.resolveSchema=Zc;const PL=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Il(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,gm.unescapeFragment)(o)];if(c===void 0)return;r=c;const l=typeof r=="object"&&r[this.opts.schemaId];!PL.has(o)&&l&&(t=(0,nr.resolveUrl)(this.opts.uriResolver,t,l))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,gm.schemaHasRulesButRef)(r,this.RULES)){const o=(0,nr.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=Zc.call(this,n,o)}const{schemaId:s}=this.opts;if(i=i||new Wc({schema:r,schemaId:s,root:n,baseId:t}),i.schema!==i.root.schema)return i}const NL="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",jL="Meta-schema for $data reference (JSON AnySchema extension proposal)",RL="object",FL=["$data"],DL={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},ML=!1,UL={$id:NL,description:jL,type:RL,required:FL,properties:DL,additionalProperties:ML};var gd={},Tu={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(ar,function(r){function n(){for(var T=arguments.length,O=Array(T),P=0;P<T;P++)O[P]=arguments[P];if(O.length>1){O[0]=O[0].slice(0,-1);for(var U=O.length-1,M=1;M<U;++M)O[M]=O[M].slice(1,-1);return O[U]=O[U].slice(1),O.join("")}else return O[0]}function a(T){return"(?:"+T+")"}function i(T){return T===void 0?"undefined":T===null?"null":Object.prototype.toString.call(T).split(" ").pop().split("]").shift().toLowerCase()}function s(T){return T.toUpperCase()}function o(T){return T!=null?T instanceof Array?T:typeof T.length!="number"||T.split||T.setInterval||T.call?[T]:Array.prototype.slice.call(T):[]}function c(T,O){var P=T;if(O)for(var U in O)P[U]=O[U];return P}function l(T){var O="[A-Za-z]",P="[0-9]",U=n(P,"[A-Fa-f]"),M=a(a("%[EFef]"+U+"%"+U+U+"%"+U+U)+"|"+a("%[89A-Fa-f]"+U+"%"+U+U)+"|"+a("%"+U+U)),ae="[\\:\\/\\?\\#\\[\\]\\@]",ie="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",$e=n(ae,ie),De=T?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Je=T?"[\\uE000-\\uF8FF]":"[]",_e=n(O,P,"[\\-\\.\\_\\~]",De);a(O+n(O,P,"[\\+\\-\\.]")+"*"),a(a(M+"|"+n(_e,ie,"[\\:]"))+"*");var je=a(a("25[0-5]")+"|"+a("2[0-4]"+P)+"|"+a("1"+P+P)+"|"+a("0?[1-9]"+P)+"|0?0?"+P),Qe=a(je+"\\."+je+"\\."+je+"\\."+je),le=a(U+"{1,4}"),qe=a(a(le+"\\:"+le)+"|"+Qe),at=a(a(le+"\\:")+"{6}"+qe),He=a("\\:\\:"+a(le+"\\:")+"{5}"+qe),Xr=a(a(le)+"?\\:\\:"+a(le+"\\:")+"{4}"+qe),mr=a(a(a(le+"\\:")+"{0,1}"+le)+"?\\:\\:"+a(le+"\\:")+"{3}"+qe),gr=a(a(a(le+"\\:")+"{0,2}"+le)+"?\\:\\:"+a(le+"\\:")+"{2}"+qe),pa=a(a(a(le+"\\:")+"{0,3}"+le)+"?\\:\\:"+le+"\\:"+qe),Cn=a(a(a(le+"\\:")+"{0,4}"+le)+"?\\:\\:"+qe),Vt=a(a(a(le+"\\:")+"{0,5}"+le)+"?\\:\\:"+le),yr=a(a(a(le+"\\:")+"{0,6}"+le)+"?\\:\\:"),Tn=a([at,He,Xr,mr,gr,pa,Cn,Vt,yr].join("|")),Rr=a(a(_e+"|"+M)+"+");a("[vV]"+U+"+\\."+n(_e,ie,"[\\:]")+"+"),a(a(M+"|"+n(_e,ie))+"*");var $i=a(M+"|"+n(_e,ie,"[\\:\\@]"));return a(a(M+"|"+n(_e,ie,"[\\@]"))+"+"),a(a($i+"|"+n("[\\/\\?]",Je))+"*"),{NOT_SCHEME:new RegExp(n("[^]",O,P,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",_e,ie),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",_e,ie),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",_e,ie),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",_e,ie),"g"),NOT_QUERY:new RegExp(n("[^\\%]",_e,ie,"[\\:\\@\\/\\?]",Je),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",_e,ie,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",_e,ie),"g"),UNRESERVED:new RegExp(_e,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",_e,$e),"g"),PCT_ENCODED:new RegExp(M,"g"),IPV4ADDRESS:new RegExp("^("+Qe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Tn+")"+a(a("\\%25|\\%(?!"+U+"{2})")+"("+Rr+")")+"?\\]?$")}}var u=l(!1),f=l(!0),h=function(){function T(O,P){var U=[],M=!0,ae=!1,ie=void 0;try{for(var $e=O[Symbol.iterator](),De;!(M=(De=$e.next()).done)&&(U.push(De.value),!(P&&U.length===P));M=!0);}catch(Je){ae=!0,ie=Je}finally{try{!M&&$e.return&&$e.return()}finally{if(ae)throw ie}}return U}return function(O,P){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return T(O,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(T){if(Array.isArray(T)){for(var O=0,P=Array(T.length);O<T.length;O++)P[O]=T[O];return P}else return Array.from(T)},p=2147483647,m=36,y=1,g=26,v=38,w=700,_=72,b=128,x="-",S=/^xn--/,E=/[^\0-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=m-y,D=Math.floor,L=String.fromCharCode;function H(T){throw new RangeError(k[T])}function Y(T,O){for(var P=[],U=T.length;U--;)P[U]=O(T[U]);return P}function ce(T,O){var P=T.split("@"),U="";P.length>1&&(U=P[0]+"@",T=P[1]),T=T.replace(C,".");var M=T.split("."),ae=Y(M,O).join(".");return U+ae}function de(T){for(var O=[],P=0,U=T.length;P<U;){var M=T.charCodeAt(P++);if(M>=55296&&M<=56319&&P<U){var ae=T.charCodeAt(P++);(ae&64512)==56320?O.push(((M&1023)<<10)+(ae&1023)+65536):(O.push(M),P--)}else O.push(M)}return O}var se=function(O){return String.fromCodePoint.apply(String,d(O))},ee=function(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:m},V=function(O,P){return O+22+75*(O<26)-((P!=0)<<5)},N=function(O,P,U){var M=0;for(O=U?D(O/w):O>>1,O+=D(O/P);O>R*g>>1;M+=m)O=D(O/R);return D(M+(R+1)*O/(O+v))},z=function(O){var P=[],U=O.length,M=0,ae=b,ie=_,$e=O.lastIndexOf(x);$e<0&&($e=0);for(var De=0;De<$e;++De)O.charCodeAt(De)>=128&&H("not-basic"),P.push(O.charCodeAt(De));for(var Je=$e>0?$e+1:0;Je<U;){for(var _e=M,je=1,Qe=m;;Qe+=m){Je>=U&&H("invalid-input");var le=ee(O.charCodeAt(Je++));(le>=m||le>D((p-M)/je))&&H("overflow"),M+=le*je;var qe=Qe<=ie?y:Qe>=ie+g?g:Qe-ie;if(le<qe)break;var at=m-qe;je>D(p/at)&&H("overflow"),je*=at}var He=P.length+1;ie=N(M-_e,He,_e==0),D(M/He)>p-ae&&H("overflow"),ae+=D(M/He),M%=He,P.splice(M++,0,ae)}return String.fromCodePoint.apply(String,P)},F=function(O){var P=[];O=de(O);var U=O.length,M=b,ae=0,ie=_,$e=!0,De=!1,Je=void 0;try{for(var _e=O[Symbol.iterator](),je;!($e=(je=_e.next()).done);$e=!0){var Qe=je.value;Qe<128&&P.push(L(Qe))}}catch(Si){De=!0,Je=Si}finally{try{!$e&&_e.return&&_e.return()}finally{if(De)throw Je}}var le=P.length,qe=le;for(le&&P.push(x);qe<U;){var at=p,He=!0,Xr=!1,mr=void 0;try{for(var gr=O[Symbol.iterator](),pa;!(He=(pa=gr.next()).done);He=!0){var Cn=pa.value;Cn>=M&&Cn<at&&(at=Cn)}}catch(Si){Xr=!0,mr=Si}finally{try{!He&&gr.return&&gr.return()}finally{if(Xr)throw mr}}var Vt=qe+1;at-M>D((p-ae)/Vt)&&H("overflow"),ae+=(at-M)*Vt,M=at;var yr=!0,Tn=!1,Rr=void 0;try{for(var $i=O[Symbol.iterator](),bh;!(yr=(bh=$i.next()).done);yr=!0){var $h=bh.value;if($h<M&&++ae>p&&H("overflow"),$h==M){for(var Xs=ae,Js=m;;Js+=m){var Qs=Js<=ie?y:Js>=ie+g?g:Js-ie;if(Xs<Qs)break;var Sh=Xs-Qs,Eh=m-Qs;P.push(L(V(Qs+Sh%Eh,0))),Xs=D(Sh/Eh)}P.push(L(V(Xs,0))),ie=N(ae,Vt,qe==le),ae=0,++qe}}}catch(Si){Tn=!0,Rr=Si}finally{try{!yr&&$i.return&&$i.return()}finally{if(Tn)throw Rr}}++ae,++M}return P.join("")},$=function(O){return ce(O,function(P){return S.test(P)?z(P.slice(4).toLowerCase()):P})},I=function(O){return ce(O,function(P){return E.test(P)?"xn--"+F(P):P})},B={version:"2.1.0",ucs2:{decode:de,encode:se},decode:z,encode:F,toASCII:I,toUnicode:$},G={};function J(T){var O=T.charCodeAt(0),P=void 0;return O<16?P="%0"+O.toString(16).toUpperCase():O<128?P="%"+O.toString(16).toUpperCase():O<2048?P="%"+(O>>6|192).toString(16).toUpperCase()+"%"+(O&63|128).toString(16).toUpperCase():P="%"+(O>>12|224).toString(16).toUpperCase()+"%"+(O>>6&63|128).toString(16).toUpperCase()+"%"+(O&63|128).toString(16).toUpperCase(),P}function ue(T){for(var O="",P=0,U=T.length;P<U;){var M=parseInt(T.substr(P+1,2),16);if(M<128)O+=String.fromCharCode(M),P+=3;else if(M>=194&&M<224){if(U-P>=6){var ae=parseInt(T.substr(P+4,2),16);O+=String.fromCharCode((M&31)<<6|ae&63)}else O+=T.substr(P,6);P+=6}else if(M>=224){if(U-P>=9){var ie=parseInt(T.substr(P+4,2),16),$e=parseInt(T.substr(P+7,2),16);O+=String.fromCharCode((M&15)<<12|(ie&63)<<6|$e&63)}else O+=T.substr(P,9);P+=9}else O+=T.substr(P,3),P+=3}return O}function me(T,O){function P(U){var M=ue(U);return M.match(O.UNRESERVED)?M:U}return T.scheme&&(T.scheme=String(T.scheme).replace(O.PCT_ENCODED,P).toLowerCase().replace(O.NOT_SCHEME,"")),T.userinfo!==void 0&&(T.userinfo=String(T.userinfo).replace(O.PCT_ENCODED,P).replace(O.NOT_USERINFO,J).replace(O.PCT_ENCODED,s)),T.host!==void 0&&(T.host=String(T.host).replace(O.PCT_ENCODED,P).toLowerCase().replace(O.NOT_HOST,J).replace(O.PCT_ENCODED,s)),T.path!==void 0&&(T.path=String(T.path).replace(O.PCT_ENCODED,P).replace(T.scheme?O.NOT_PATH:O.NOT_PATH_NOSCHEME,J).replace(O.PCT_ENCODED,s)),T.query!==void 0&&(T.query=String(T.query).replace(O.PCT_ENCODED,P).replace(O.NOT_QUERY,J).replace(O.PCT_ENCODED,s)),T.fragment!==void 0&&(T.fragment=String(T.fragment).replace(O.PCT_ENCODED,P).replace(O.NOT_FRAGMENT,J).replace(O.PCT_ENCODED,s)),T}function Ce(T){return T.replace(/^0*(.*)/,"$1")||"0"}function he(T,O){var P=T.match(O.IPV4ADDRESS)||[],U=h(P,2),M=U[1];return M?M.split(".").map(Ce).join("."):T}function Ne(T,O){var P=T.match(O.IPV6ADDRESS)||[],U=h(P,3),M=U[1],ae=U[2];if(M){for(var ie=M.toLowerCase().split("::").reverse(),$e=h(ie,2),De=$e[0],Je=$e[1],_e=Je?Je.split(":").map(Ce):[],je=De.split(":").map(Ce),Qe=O.IPV4ADDRESS.test(je[je.length-1]),le=Qe?7:8,qe=je.length-le,at=Array(le),He=0;He<le;++He)at[He]=_e[He]||je[qe+He]||"";Qe&&(at[le-1]=he(at[le-1],O));var Xr=at.reduce(function(Vt,yr,Tn){if(!yr||yr==="0"){var Rr=Vt[Vt.length-1];Rr&&Rr.index+Rr.length===Tn?Rr.length++:Vt.push({index:Tn,length:1})}return Vt},[]),mr=Xr.sort(function(Vt,yr){return yr.length-Vt.length})[0],gr=void 0;if(mr&&mr.length>1){var pa=at.slice(0,mr.index),Cn=at.slice(mr.index+mr.length);gr=pa.join(":")+"::"+Cn.join(":")}else gr=at.join(":");return ae&&(gr+="%"+ae),gr}else return T}var Xe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ve="".match(/(){0}/)[1]===void 0;function it(T){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P={},U=O.iri!==!1?f:u;O.reference==="suffix"&&(T=(O.scheme?O.scheme+":":"")+"//"+T);var M=T.match(Xe);if(M){Ve?(P.scheme=M[1],P.userinfo=M[3],P.host=M[4],P.port=parseInt(M[5],10),P.path=M[6]||"",P.query=M[7],P.fragment=M[8],isNaN(P.port)&&(P.port=M[5])):(P.scheme=M[1]||void 0,P.userinfo=T.indexOf("@")!==-1?M[3]:void 0,P.host=T.indexOf("//")!==-1?M[4]:void 0,P.port=parseInt(M[5],10),P.path=M[6]||"",P.query=T.indexOf("?")!==-1?M[7]:void 0,P.fragment=T.indexOf("#")!==-1?M[8]:void 0,isNaN(P.port)&&(P.port=T.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?M[4]:void 0)),P.host&&(P.host=Ne(he(P.host,U),U)),P.scheme===void 0&&P.userinfo===void 0&&P.host===void 0&&P.port===void 0&&!P.path&&P.query===void 0?P.reference="same-document":P.scheme===void 0?P.reference="relative":P.fragment===void 0?P.reference="absolute":P.reference="uri",O.reference&&O.reference!=="suffix"&&O.reference!==P.reference&&(P.error=P.error||"URI is not a "+O.reference+" reference.");var ae=G[(O.scheme||P.scheme||"").toLowerCase()];if(!O.unicodeSupport&&(!ae||!ae.unicodeSupport)){if(P.host&&(O.domainHost||ae&&ae.domainHost))try{P.host=B.toASCII(P.host.replace(U.PCT_ENCODED,ue).toLowerCase())}catch(ie){P.error=P.error||"Host's domain name can not be converted to ASCII via punycode: "+ie}me(P,u)}else me(P,U);ae&&ae.parse&&ae.parse(P,O)}else P.error=P.error||"URI can not be parsed.";return P}function Rt(T,O){var P=O.iri!==!1?f:u,U=[];return T.userinfo!==void 0&&(U.push(T.userinfo),U.push("@")),T.host!==void 0&&U.push(Ne(he(String(T.host),P),P).replace(P.IPV6ADDRESS,function(M,ae,ie){return"["+ae+(ie?"%25"+ie:"")+"]"})),(typeof T.port=="number"||typeof T.port=="string")&&(U.push(":"),U.push(String(T.port))),U.length?U.join(""):void 0}var er=/^\.\.?\//,ua=/^\/\.(\/|$)/,fa=/^\/\.\.(\/|$)/,vi=/^\/?(?:.|\n)*?(?=\/|$)/;function hr(T){for(var O=[];T.length;)if(T.match(er))T=T.replace(er,"");else if(T.match(ua))T=T.replace(ua,"/");else if(T.match(fa))T=T.replace(fa,"/"),O.pop();else if(T==="."||T==="..")T="";else{var P=T.match(vi);if(P){var U=P[0];T=T.slice(U.length),O.push(U)}else throw new Error("Unexpected dot segment condition")}return O.join("")}function Ot(T){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=O.iri?f:u,U=[],M=G[(O.scheme||T.scheme||"").toLowerCase()];if(M&&M.serialize&&M.serialize(T,O),T.host&&!P.IPV6ADDRESS.test(T.host)){if(O.domainHost||M&&M.domainHost)try{T.host=O.iri?B.toUnicode(T.host):B.toASCII(T.host.replace(P.PCT_ENCODED,ue).toLowerCase())}catch($e){T.error=T.error||"Host's domain name can not be converted to "+(O.iri?"Unicode":"ASCII")+" via punycode: "+$e}}me(T,P),O.reference!=="suffix"&&T.scheme&&(U.push(T.scheme),U.push(":"));var ae=Rt(T,O);if(ae!==void 0&&(O.reference!=="suffix"&&U.push("//"),U.push(ae),T.path&&T.path.charAt(0)!=="/"&&U.push("/")),T.path!==void 0){var ie=T.path;!O.absolutePath&&(!M||!M.absolutePath)&&(ie=hr(ie)),ae===void 0&&(ie=ie.replace(/^\/\//,"/%2F")),U.push(ie)}return T.query!==void 0&&(U.push("?"),U.push(T.query)),T.fragment!==void 0&&(U.push("#"),U.push(T.fragment)),U.join("")}function da(T,O){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},U=arguments[3],M={};return U||(T=it(Ot(T,P),P),O=it(Ot(O,P),P)),P=P||{},!P.tolerant&&O.scheme?(M.scheme=O.scheme,M.userinfo=O.userinfo,M.host=O.host,M.port=O.port,M.path=hr(O.path||""),M.query=O.query):(O.userinfo!==void 0||O.host!==void 0||O.port!==void 0?(M.userinfo=O.userinfo,M.host=O.host,M.port=O.port,M.path=hr(O.path||""),M.query=O.query):(O.path?(O.path.charAt(0)==="/"?M.path=hr(O.path):((T.userinfo!==void 0||T.host!==void 0||T.port!==void 0)&&!T.path?M.path="/"+O.path:T.path?M.path=T.path.slice(0,T.path.lastIndexOf("/")+1)+O.path:M.path=O.path,M.path=hr(M.path)),M.query=O.query):(M.path=T.path,O.query!==void 0?M.query=O.query:M.query=T.query),M.userinfo=T.userinfo,M.host=T.host,M.port=T.port),M.scheme=T.scheme),M.fragment=O.fragment,M}function wi(T,O,P){var U=c({scheme:"null"},P);return Ot(da(it(T,U),it(O,U),U,!0),U)}function An(T,O){return typeof T=="string"?T=Ot(it(T,O),O):i(T)==="object"&&(T=it(Ot(T,O),O)),T}function _i(T,O,P){return typeof T=="string"?T=Ot(it(T,P),P):i(T)==="object"&&(T=Ot(T,P)),typeof O=="string"?O=Ot(it(O,P),P):i(O)==="object"&&(O=Ot(O,P)),T===O}function Ys(T,O){return T&&T.toString().replace(!O||!O.iri?u.ESCAPE:f.ESCAPE,J)}function zt(T,O){return T&&T.toString().replace(!O||!O.iri?u.PCT_ENCODED:f.PCT_ENCODED,ue)}var kn={scheme:"http",domainHost:!0,parse:function(O,P){return O.host||(O.error=O.error||"HTTP URIs must have a host."),O},serialize:function(O,P){var U=String(O.scheme).toLowerCase()==="https";return(O.port===(U?443:80)||O.port==="")&&(O.port=void 0),O.path||(O.path="/"),O}},hh={scheme:"https",domainHost:kn.domainHost,parse:kn.parse,serialize:kn.serialize};function ph(T){return typeof T.secure=="boolean"?T.secure:String(T.scheme).toLowerCase()==="wss"}var bi={scheme:"ws",domainHost:!0,parse:function(O,P){var U=O;return U.secure=ph(U),U.resourceName=(U.path||"/")+(U.query?"?"+U.query:""),U.path=void 0,U.query=void 0,U},serialize:function(O,P){if((O.port===(ph(O)?443:80)||O.port==="")&&(O.port=void 0),typeof O.secure=="boolean"&&(O.scheme=O.secure?"wss":"ws",O.secure=void 0),O.resourceName){var U=O.resourceName.split("?"),M=h(U,2),ae=M[0],ie=M[1];O.path=ae&&ae!=="/"?ae:void 0,O.query=ie,O.resourceName=void 0}return O.fragment=void 0,O}},mh={scheme:"wss",domainHost:bi.domainHost,parse:bi.parse,serialize:bi.serialize},fb={},gh="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",pr="[0-9A-Fa-f]",db=a(a("%[EFef]"+pr+"%"+pr+pr+"%"+pr+pr)+"|"+a("%[89A-Fa-f]"+pr+"%"+pr+pr)+"|"+a("%"+pr+pr)),hb="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",pb="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",mb=n(pb,'[\\"\\\\]'),gb="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",yb=new RegExp(gh,"g"),ha=new RegExp(db,"g"),vb=new RegExp(n("[^]",hb,"[\\.]",'[\\"]',mb),"g"),yh=new RegExp(n("[^]",gh,gb),"g"),wb=yh;function ul(T){var O=ue(T);return O.match(yb)?O:T}var vh={scheme:"mailto",parse:function(O,P){var U=O,M=U.to=U.path?U.path.split(","):[];if(U.path=void 0,U.query){for(var ae=!1,ie={},$e=U.query.split("&"),De=0,Je=$e.length;De<Je;++De){var _e=$e[De].split("=");switch(_e[0]){case"to":for(var je=_e[1].split(","),Qe=0,le=je.length;Qe<le;++Qe)M.push(je[Qe]);break;case"subject":U.subject=zt(_e[1],P);break;case"body":U.body=zt(_e[1],P);break;default:ae=!0,ie[zt(_e[0],P)]=zt(_e[1],P);break}}ae&&(U.headers=ie)}U.query=void 0;for(var qe=0,at=M.length;qe<at;++qe){var He=M[qe].split("@");if(He[0]=zt(He[0]),P.unicodeSupport)He[1]=zt(He[1],P).toLowerCase();else try{He[1]=B.toASCII(zt(He[1],P).toLowerCase())}catch(Xr){U.error=U.error||"Email address's domain name can not be converted to ASCII via punycode: "+Xr}M[qe]=He.join("@")}return U},serialize:function(O,P){var U=O,M=o(O.to);if(M){for(var ae=0,ie=M.length;ae<ie;++ae){var $e=String(M[ae]),De=$e.lastIndexOf("@"),Je=$e.slice(0,De).replace(ha,ul).replace(ha,s).replace(vb,J),_e=$e.slice(De+1);try{_e=P.iri?B.toUnicode(_e):B.toASCII(zt(_e,P).toLowerCase())}catch(qe){U.error=U.error||"Email address's domain name can not be converted to "+(P.iri?"Unicode":"ASCII")+" via punycode: "+qe}M[ae]=Je+"@"+_e}U.path=M.join(",")}var je=O.headers=O.headers||{};O.subject&&(je.subject=O.subject),O.body&&(je.body=O.body);var Qe=[];for(var le in je)je[le]!==fb[le]&&Qe.push(le.replace(ha,ul).replace(ha,s).replace(yh,J)+"="+je[le].replace(ha,ul).replace(ha,s).replace(wb,J));return Qe.length&&(U.query=Qe.join("&")),U}},_b=/^([^\:]+)\:(.*)/,wh={scheme:"urn",parse:function(O,P){var U=O.path&&O.path.match(_b),M=O;if(U){var ae=P.scheme||M.scheme||"urn",ie=U[1].toLowerCase(),$e=U[2],De=ae+":"+(P.nid||ie),Je=G[De];M.nid=ie,M.nss=$e,M.path=void 0,Je&&(M=Je.parse(M,P))}else M.error=M.error||"URN can not be parsed.";return M},serialize:function(O,P){var U=P.scheme||O.scheme||"urn",M=O.nid,ae=U+":"+(P.nid||M),ie=G[ae];ie&&(O=ie.serialize(O,P));var $e=O,De=O.nss;return $e.path=(M||P.nid)+":"+De,$e}},bb=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,_h={scheme:"urn:uuid",parse:function(O,P){var U=O;return U.uuid=U.nss,U.nss=void 0,!P.tolerant&&(!U.uuid||!U.uuid.match(bb))&&(U.error=U.error||"UUID is not valid."),U},serialize:function(O,P){var U=O;return U.nss=(O.uuid||"").toLowerCase(),U}};G[kn.scheme]=kn,G[hh.scheme]=hh,G[bi.scheme]=bi,G[mh.scheme]=mh,G[vh.scheme]=vh,G[wh.scheme]=wh,G[_h.scheme]=_h,r.SCHEMES=G,r.pctEncChar=J,r.pctDecChars=ue,r.parse=it,r.removeDotSegments=hr,r.serialize=Ot,r.resolveComponents=da,r.resolve=wi,r.normalize=An,r.equal=_i,r.escapeComponent=Ys,r.unescapeComponent=zt,Object.defineProperty(r,"__esModule",{value:!0})})})(Tu,Tu.exports);var BL=Tu.exports;Object.defineProperty(gd,"__esModule",{value:!0});const yw=BL;yw.code='require("ajv/dist/runtime/uri").default';gd.default=yw;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=or;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=ge;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Es,a=oi,i=qn,s=Tt,o=ge,c=ht,l=st,u=Q,f=UL,h=gd,d=(V,N)=>new RegExp(V,N);d.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function w(V){var N,z,F,$,I,B,G,J,ue,me,Ce,he,Ne,Xe,Ve,it,Rt,er,ua,fa,vi,hr,Ot,da,wi;const An=V.strict,_i=(N=V.code)===null||N===void 0?void 0:N.optimize,Ys=_i===!0||_i===void 0?1:_i||0,zt=(F=(z=V.code)===null||z===void 0?void 0:z.regExp)!==null&&F!==void 0?F:d,kn=($=V.uriResolver)!==null&&$!==void 0?$:h.default;return{strictSchema:(B=(I=V.strictSchema)!==null&&I!==void 0?I:An)!==null&&B!==void 0?B:!0,strictNumbers:(J=(G=V.strictNumbers)!==null&&G!==void 0?G:An)!==null&&J!==void 0?J:!0,strictTypes:(me=(ue=V.strictTypes)!==null&&ue!==void 0?ue:An)!==null&&me!==void 0?me:"log",strictTuples:(he=(Ce=V.strictTuples)!==null&&Ce!==void 0?Ce:An)!==null&&he!==void 0?he:"log",strictRequired:(Xe=(Ne=V.strictRequired)!==null&&Ne!==void 0?Ne:An)!==null&&Xe!==void 0?Xe:!1,code:V.code?{...V.code,optimize:Ys,regExp:zt}:{optimize:Ys,regExp:zt},loopRequired:(Ve=V.loopRequired)!==null&&Ve!==void 0?Ve:v,loopEnum:(it=V.loopEnum)!==null&&it!==void 0?it:v,meta:(Rt=V.meta)!==null&&Rt!==void 0?Rt:!0,messages:(er=V.messages)!==null&&er!==void 0?er:!0,inlineRefs:(ua=V.inlineRefs)!==null&&ua!==void 0?ua:!0,schemaId:(fa=V.schemaId)!==null&&fa!==void 0?fa:"$id",addUsedSchema:(vi=V.addUsedSchema)!==null&&vi!==void 0?vi:!0,validateSchema:(hr=V.validateSchema)!==null&&hr!==void 0?hr:!0,validateFormats:(Ot=V.validateFormats)!==null&&Ot!==void 0?Ot:!0,unicodeRegExp:(da=V.unicodeRegExp)!==null&&da!==void 0?da:!0,int32range:(wi=V.int32range)!==null&&wi!==void 0?wi:!0,uriResolver:kn}}class _{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...w(N)};const{es5:z,lines:F}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:m,es5:z,lines:F}),this.logger=D(N.logger);const $=N.validateFormats;N.validateFormats=!1,this.RULES=(0,i.getRules)(),b.call(this,y,N,"NOT SUPPORTED"),b.call(this,g,N,"DEPRECATED","warn"),this._metaOpts=k.call(this),N.formats&&E.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&C.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),S.call(this),N.validateFormats=$}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:z,schemaId:F}=this.opts;let $=f;F==="id"&&($={...f},$.id=$.$id,delete $.$id),z&&N&&this.addMetaSchema($,$[F],!1)}defaultMeta(){const{meta:N,schemaId:z}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[z]||N:void 0}validate(N,z){let F;if(typeof N=="string"){if(F=this.getSchema(N),!F)throw new Error(`no schema with key or ref "${N}"`)}else F=this.compile(N);const $=F(z);return"$async"in F||(this.errors=F.errors),$}compile(N,z){const F=this._addSchema(N,z);return F.validate||this._compileSchemaEnv(F)}compileAsync(N,z){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:F}=this.opts;return $.call(this,N,z);async function $(me,Ce){await I.call(this,me.$schema);const he=this._addSchema(me,Ce);return he.validate||B.call(this,he)}async function I(me){me&&!this.getSchema(me)&&await $.call(this,{$ref:me},!0)}async function B(me){try{return this._compileSchemaEnv(me)}catch(Ce){if(!(Ce instanceof a.default))throw Ce;return G.call(this,Ce),await J.call(this,Ce.missingSchema),B.call(this,me)}}function G({missingSchema:me,missingRef:Ce}){if(this.refs[me])throw new Error(`AnySchema ${me} is loaded but ${Ce} cannot be resolved`)}async function J(me){const Ce=await ue.call(this,me);this.refs[me]||await I.call(this,Ce.$schema),this.refs[me]||this.addSchema(Ce,me,z)}async function ue(me){const Ce=this._loading[me];if(Ce)return Ce;try{return await(this._loading[me]=F(me))}finally{delete this._loading[me]}}}addSchema(N,z,F,$=this.opts.validateSchema){if(Array.isArray(N)){for(const B of N)this.addSchema(B,void 0,F,$);return this}let I;if(typeof N=="object"){const{schemaId:B}=this.opts;if(I=N[B],I!==void 0&&typeof I!="string")throw new Error(`schema ${B} must be string`)}return z=(0,c.normalizeId)(z||I),this._checkUnique(z),this.schemas[z]=this._addSchema(N,F,z,$,!0),this}addMetaSchema(N,z,F=this.opts.validateSchema){return this.addSchema(N,z,!0,F),this}validateSchema(N,z){if(typeof N=="boolean")return!0;let F;if(F=N.$schema,F!==void 0&&typeof F!="string")throw new Error("$schema must be a string");if(F=F||this.opts.defaultMeta||this.defaultMeta(),!F)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const $=this.validate(F,N);if(!$&&z){const I="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(I);else throw new Error(I)}return $}getSchema(N){let z;for(;typeof(z=x.call(this,N))=="string";)N=z;if(z===void 0){const{schemaId:F}=this.opts,$=new s.SchemaEnv({schema:{},schemaId:F});if(z=s.resolveSchema.call(this,$,N),!z)return;this.refs[N]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=x.call(this,N);return typeof z=="object"&&this._cache.delete(z.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const z=N;this._cache.delete(z);let F=N[this.opts.schemaId];return F&&(F=(0,c.normalizeId)(F),delete this.schemas[F],delete this.refs[F]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const z of N)this.addKeyword(z);return this}addKeyword(N,z){let F;if(typeof N=="string")F=N,typeof z=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=F);else if(typeof N=="object"&&z===void 0){if(z=N,F=z.keyword,Array.isArray(F)&&!F.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,F,z),!z)return(0,u.eachItem)(F,I=>Y.call(this,I)),this;de.call(this,z);const $={...z,type:(0,l.getJSONTypes)(z.type),schemaType:(0,l.getJSONTypes)(z.schemaType)};return(0,u.eachItem)(F,$.type.length===0?I=>Y.call(this,I,$):I=>$.type.forEach(B=>Y.call(this,I,$,B))),this}getKeyword(N){const z=this.RULES.all[N];return typeof z=="object"?z.definition:!!z}removeKeyword(N){const{RULES:z}=this;delete z.keywords[N],delete z.all[N];for(const F of z.rules){const $=F.rules.findIndex(I=>I.keyword===N);$>=0&&F.rules.splice($,1)}return this}addFormat(N,z){return typeof z=="string"&&(z=new RegExp(z)),this.formats[N]=z,this}errorsText(N=this.errors,{separator:z=", ",dataVar:F="data"}={}){return!N||N.length===0?"No errors":N.map($=>`${F}${$.instancePath} ${$.message}`).reduce(($,I)=>$+z+I)}$dataMetaSchema(N,z){const F=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const $ of z){const I=$.split("/").slice(1);let B=N;for(const G of I)B=B[G];for(const G in F){const J=F[G];if(typeof J!="object")continue;const{$data:ue}=J.definition,me=B[G];ue&&me&&(B[G]=ee(me))}}return N}_removeAllSchemas(N,z){for(const F in N){const $=N[F];(!z||z.test(F))&&(typeof $=="string"?delete N[F]:$&&!$.meta&&(this._cache.delete($.schema),delete N[F]))}}_addSchema(N,z,F,$=this.opts.validateSchema,I=this.opts.addUsedSchema){let B;const{schemaId:G}=this.opts;if(typeof N=="object")B=N[G];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(N);if(J!==void 0)return J;F=(0,c.normalizeId)(B||F);const ue=c.getSchemaRefs.call(this,N,F);return J=new s.SchemaEnv({schema:N,schemaId:G,meta:z,baseId:F,localRefs:ue}),this._cache.set(J.schema,J),I&&!F.startsWith("#")&&(F&&this._checkUnique(F),this.refs[F]=J),$&&this.validateSchema(N,!0),J}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):s.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const z=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,N)}finally{this.opts=z}}}_.ValidationError=n.default,_.MissingRefError=a.default,e.default=_;function b(V,N,z,F="error"){for(const $ in V){const I=$;I in N&&this.logger[F](`${z}: option ${$}. ${V[I]}`)}}function x(V){return V=(0,c.normalizeId)(V),this.schemas[V]||this.refs[V]}function S(){const V=this.opts.schemas;if(V)if(Array.isArray(V))this.addSchema(V);else for(const N in V)this.addSchema(V[N],N)}function E(){for(const V in this.opts.formats){const N=this.opts.formats[V];N&&this.addFormat(V,N)}}function C(V){if(Array.isArray(V)){this.addVocabulary(V);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in V){const z=V[N];z.keyword||(z.keyword=N),this.addKeyword(z)}}function k(){const V={...this.opts};for(const N of p)delete V[N];return V}const R={log(){},warn(){},error(){}};function D(V){if(V===!1)return R;if(V===void 0)return console;if(V.log&&V.warn&&V.error)return V;throw new Error("logger must implement log, warn and error methods")}const L=/^[a-z_$][a-z0-9_$:-]*$/i;function H(V,N){const{RULES:z}=this;if((0,u.eachItem)(V,F=>{if(z.keywords[F])throw new Error(`Keyword ${F} is already defined`);if(!L.test(F))throw new Error(`Keyword ${F} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function Y(V,N,z){var F;const $=N==null?void 0:N.post;if(z&&$)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:I}=this;let B=$?I.post:I.rules.find(({type:J})=>J===z);if(B||(B={type:z,rules:[]},I.rules.push(B)),I.keywords[V]=!0,!N)return;const G={keyword:V,definition:{...N,type:(0,l.getJSONTypes)(N.type),schemaType:(0,l.getJSONTypes)(N.schemaType)}};N.before?ce.call(this,B,G,N.before):B.rules.push(G),I.all[V]=G,(F=N.implements)===null||F===void 0||F.forEach(J=>this.addKeyword(J))}function ce(V,N,z){const F=V.rules.findIndex($=>$.keyword===z);F>=0?V.rules.splice(F,0,N):(V.rules.push(N),this.logger.warn(`rule ${z} is not defined`))}function de(V){let{metaSchema:N}=V;N!==void 0&&(V.$data&&this.opts.$data&&(N=ee(N)),V.validateSchema=this.compile(N,!0))}const se={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ee(V){return{anyOf:[V,se]}}})(M0);var yd={},vd={},wd={};Object.defineProperty(wd,"__esModule",{value:!0});const LL={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};wd.default=LL;var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.callRef=Hn.getValidate=void 0;const zL=oi,ym=ye,kt=ge,va=Nr,vm=Tt,io=Q,VL={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:i,validateName:s,opts:o,self:c}=n,{root:l}=i;if((r==="#"||r==="#/")&&a===l.baseId)return f();const u=vm.resolveRef.call(c,l,a,r);if(u===void 0)throw new zL.default(n.opts.uriResolver,a,r);if(u instanceof vm.SchemaEnv)return h(u);return d(u);function f(){if(i===l)return Oo(e,s,i,i.$async);const p=t.scopeValue("root",{ref:l});return Oo(e,(0,kt._)`${p}.validate`,l,l.$async)}function h(p){const m=vw(e,p);Oo(e,m,p,p.$async)}function d(p){const m=t.scopeValue("schema",o.code.source===!0?{ref:p,code:(0,kt.stringify)(p)}:{ref:p}),y=t.name("valid"),g=e.subschema({schema:p,dataTypes:[],schemaPath:kt.nil,topSchemaRef:m,errSchemaPath:r},y);e.mergeEvaluated(g),e.ok(y)}}};function vw(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,kt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Hn.getValidate=vw;function Oo(e,t,r,n){const{gen:a,it:i}=e,{allErrors:s,schemaEnv:o,opts:c}=i,l=c.passContext?va.default.this:kt.nil;n?u():f();function u(){if(!o.$async)throw new Error("async schema referenced by sync schema");const p=a.let("valid");a.try(()=>{a.code((0,kt._)`await ${(0,ym.callValidateCode)(e,t,l)}`),d(t),s||a.assign(p,!0)},m=>{a.if((0,kt._)`!(${m} instanceof ${i.ValidationError})`,()=>a.throw(m)),h(m),s||a.assign(p,!1)}),e.ok(p)}function f(){e.result((0,ym.callValidateCode)(e,t,l),()=>d(t),()=>h(t))}function h(p){const m=(0,kt._)`${p}.errors`;a.assign(va.default.vErrors,(0,kt._)`${va.default.vErrors} === null ? ${m} : ${va.default.vErrors}.concat(${m})`),a.assign(va.default.errors,(0,kt._)`${va.default.vErrors}.length`)}function d(p){var m;if(!i.opts.unevaluated)return;const y=(m=r==null?void 0:r.validate)===null||m===void 0?void 0:m.evaluated;if(i.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(i.props=io.mergeEvaluated.props(a,y.props,i.props));else{const g=a.var("props",(0,kt._)`${p}.evaluated.props`);i.props=io.mergeEvaluated.props(a,g,i.props,kt.Name)}if(i.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(i.items=io.mergeEvaluated.items(a,y.items,i.items));else{const g=a.var("items",(0,kt._)`${p}.evaluated.items`);i.items=io.mergeEvaluated.items(a,g,i.items,kt.Name)}}}Hn.callRef=Oo;Hn.default=VL;Object.defineProperty(vd,"__esModule",{value:!0});const qL=wd,HL=Hn,KL=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",qL.default,HL.default];vd.default=KL;var _d={},bd={};Object.defineProperty(bd,"__esModule",{value:!0});const Wo=ge,tn=Wo.operators,Zo={maximum:{okStr:"<=",ok:tn.LTE,fail:tn.GT},minimum:{okStr:">=",ok:tn.GTE,fail:tn.LT},exclusiveMaximum:{okStr:"<",ok:tn.LT,fail:tn.GTE},exclusiveMinimum:{okStr:">",ok:tn.GT,fail:tn.LTE}},GL={message:({keyword:e,schemaCode:t})=>(0,Wo.str)`must be ${Zo[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Wo._)`{comparison: ${Zo[e].okStr}, limit: ${t}}`},WL={keyword:Object.keys(Zo),type:"number",schemaType:"number",$data:!0,error:GL,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Wo._)`${r} ${Zo[t].fail} ${n} || isNaN(${r})`)}};bd.default=WL;var $d={};Object.defineProperty($d,"__esModule",{value:!0});const Bi=ge,ZL={message:({schemaCode:e})=>(0,Bi.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Bi._)`{multipleOf: ${e}}`},YL={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:ZL,code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,i=a.opts.multipleOfPrecision,s=t.let("res"),o=i?(0,Bi._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${i}`:(0,Bi._)`${s} !== parseInt(${s})`;e.fail$data((0,Bi._)`(${n} === 0 || (${s} = ${r}/${n}, ${o}))`)}};$d.default=YL;var Sd={},Ed={};Object.defineProperty(Ed,"__esModule",{value:!0});function ww(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}Ed.default=ww;ww.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Sd,"__esModule",{value:!0});const Dn=ge,XL=Q,JL=Ed,QL={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Dn.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Dn._)`{limit: ${e}}`},ez={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:QL,code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,i=t==="maxLength"?Dn.operators.GT:Dn.operators.LT,s=a.opts.unicode===!1?(0,Dn._)`${r}.length`:(0,Dn._)`${(0,XL.useFunc)(e.gen,JL.default)}(${r})`;e.fail$data((0,Dn._)`${s} ${i} ${n}`)}};Sd.default=ez;var xd={};Object.defineProperty(xd,"__esModule",{value:!0});const tz=ye,Yo=ge,rz={message:({schemaCode:e})=>(0,Yo.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Yo._)`{pattern: ${e}}`},nz={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:rz,code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:i}=e,s=i.opts.unicodeRegExp?"u":"",o=r?(0,Yo._)`(new RegExp(${a}, ${s}))`:(0,tz.usePattern)(e,n);e.fail$data((0,Yo._)`!${o}.test(${t})`)}};xd.default=nz;var Od={};Object.defineProperty(Od,"__esModule",{value:!0});const Li=ge,az={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Li.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Li._)`{limit: ${e}}`},iz={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:az,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?Li.operators.GT:Li.operators.LT;e.fail$data((0,Li._)`Object.keys(${r}).length ${a} ${n}`)}};Od.default=iz;var Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});const Ci=ye,zi=ge,sz=Q,oz={message:({params:{missingProperty:e}})=>(0,zi.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,zi._)`{missingProperty: ${e}}`},cz={keyword:"required",type:"object",schemaType:"array",$data:!0,error:oz,code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:i,it:s}=e,{opts:o}=s;if(!i&&r.length===0)return;const c=r.length>=o.loopRequired;if(s.allErrors?l():u(),o.strictRequired){const d=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of r)if((d==null?void 0:d[m])===void 0&&!p.has(m)){const y=s.schemaEnv.baseId+s.errSchemaPath,g=`required property "${m}" is not defined at "${y}" (strictRequired)`;(0,sz.checkStrictMode)(s,g,s.opts.strictRequired)}}function l(){if(c||i)e.block$data(zi.nil,f);else for(const d of r)(0,Ci.checkReportMissingProp)(e,d)}function u(){const d=t.let("missing");if(c||i){const p=t.let("valid",!0);e.block$data(p,()=>h(d,p)),e.ok(p)}else t.if((0,Ci.checkMissingProp)(e,r,d)),(0,Ci.reportMissingProp)(e,d),t.else()}function f(){t.forOf("prop",n,d=>{e.setParams({missingProperty:d}),t.if((0,Ci.noPropertyInData)(t,a,d,o.ownProperties),()=>e.error())})}function h(d,p){e.setParams({missingProperty:d}),t.forOf(d,n,()=>{t.assign(p,(0,Ci.propertyInData)(t,a,d,o.ownProperties)),t.if((0,zi.not)(p),()=>{e.error(),t.break()})},zi.nil)}}};Ad.default=cz;var kd={};Object.defineProperty(kd,"__esModule",{value:!0});const Vi=ge,lz={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Vi.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Vi._)`{limit: ${e}}`},uz={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:lz,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?Vi.operators.GT:Vi.operators.LT;e.fail$data((0,Vi._)`${r}.length ${a} ${n}`)}};kd.default=uz;var Cd={},xs={};Object.defineProperty(xs,"__esModule",{value:!0});const _w=ew;_w.code='require("ajv/dist/runtime/equal").default';xs.default=_w;Object.defineProperty(Cd,"__esModule",{value:!0});const Pl=st,dt=ge,fz=Q,dz=xs,hz={message:({params:{i:e,j:t}})=>(0,dt.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,dt._)`{i: ${e}, j: ${t}}`},pz={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:hz,code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:i,schemaCode:s,it:o}=e;if(!n&&!a)return;const c=t.let("valid"),l=i.items?(0,Pl.getSchemaTypes)(i.items):[];e.block$data(c,u,(0,dt._)`${s} === false`),e.ok(c);function u(){const p=t.let("i",(0,dt._)`${r}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(c,!0),t.if((0,dt._)`${p} > 1`,()=>(f()?h:d)(p,m))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function h(p,m){const y=t.name("item"),g=(0,Pl.checkDataTypes)(l,y,o.opts.strictNumbers,Pl.DataType.Wrong),v=t.const("indices",(0,dt._)`{}`);t.for((0,dt._)`;${p}--;`,()=>{t.let(y,(0,dt._)`${r}[${p}]`),t.if(g,(0,dt._)`continue`),l.length>1&&t.if((0,dt._)`typeof ${y} == "string"`,(0,dt._)`${y} += "_"`),t.if((0,dt._)`typeof ${v}[${y}] == "number"`,()=>{t.assign(m,(0,dt._)`${v}[${y}]`),e.error(),t.assign(c,!1).break()}).code((0,dt._)`${v}[${y}] = ${p}`)})}function d(p,m){const y=(0,fz.useFunc)(t,dz.default),g=t.name("outer");t.label(g).for((0,dt._)`;${p}--;`,()=>t.for((0,dt._)`${m} = ${p}; ${m}--;`,()=>t.if((0,dt._)`${y}(${r}[${p}], ${r}[${m}])`,()=>{e.error(),t.assign(c,!1).break(g)})))}}};Cd.default=pz;var Td={};Object.defineProperty(Td,"__esModule",{value:!0});const Iu=ge,mz=Q,gz=xs,yz={message:"must be equal to constant",params:({schemaCode:e})=>(0,Iu._)`{allowedValue: ${e}}`},vz={keyword:"const",$data:!0,error:yz,code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,Iu._)`!${(0,mz.useFunc)(t,gz.default)}(${r}, ${a})`):e.fail((0,Iu._)`${i} !== ${r}`)}};Td.default=vz;var Id={};Object.defineProperty(Id,"__esModule",{value:!0});const ji=ge,wz=Q,_z=xs,bz={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ji._)`{allowedValues: ${e}}`},$z={keyword:"enum",schemaType:"array",$data:!0,error:bz,code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:i,it:s}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const o=a.length>=s.opts.loopEnum;let c;const l=()=>c??(c=(0,wz.useFunc)(t,_z.default));let u;if(o||n)u=t.let("valid"),e.block$data(u,f);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const d=t.const("vSchema",i);u=(0,ji.or)(...a.map((p,m)=>h(d,m)))}e.pass(u);function f(){t.assign(u,!1),t.forOf("v",i,d=>t.if((0,ji._)`${l()}(${r}, ${d})`,()=>t.assign(u,!0).break()))}function h(d,p){const m=a[p];return typeof m=="object"&&m!==null?(0,ji._)`${l()}(${r}, ${d}[${p}])`:(0,ji._)`${r} === ${m}`}}};Id.default=$z;Object.defineProperty(_d,"__esModule",{value:!0});const Sz=bd,Ez=$d,xz=Sd,Oz=xd,Az=Od,kz=Ad,Cz=kd,Tz=Cd,Iz=Td,Pz=Id,Nz=[Sz.default,Ez.default,xz.default,Oz.default,Az.default,kz.default,Cz.default,Tz.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Iz.default,Pz.default];_d.default=Nz;var Pd={},ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.validateAdditionalItems=void 0;const Mn=ge,Pu=Q,jz={message:({params:{len:e}})=>(0,Mn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Mn._)`{limit: ${e}}`},Rz={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:jz,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Pu.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}bw(e,n)}};function bw(e,t){const{gen:r,schema:n,data:a,keyword:i,it:s}=e;s.items=!0;const o=r.const("len",(0,Mn._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Mn._)`${o} <= ${t.length}`);else if(typeof n=="object"&&!(0,Pu.alwaysValidSchema)(s,n)){const l=r.var("valid",(0,Mn._)`${o} <= ${t.length}`);r.if((0,Mn.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,o,u=>{e.subschema({keyword:i,dataProp:u,dataPropType:Pu.Type.Num},l),s.allErrors||r.if((0,Mn.not)(l),()=>r.break())})}}ci.validateAdditionalItems=bw;ci.default=Rz;var Nd={},li={};Object.defineProperty(li,"__esModule",{value:!0});li.validateTuple=void 0;const wm=ge,Ao=Q,Fz=ye,Dz={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return $w(e,"additionalItems",t);r.items=!0,!(0,Ao.alwaysValidSchema)(r,t)&&e.ok((0,Fz.validateArray)(e))}};function $w(e,t,r=e.schema){const{gen:n,parentSchema:a,data:i,keyword:s,it:o}=e;u(a),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=Ao.mergeEvaluated.items(n,r.length,o.items));const c=n.name("valid"),l=n.const("len",(0,wm._)`${i}.length`);r.forEach((f,h)=>{(0,Ao.alwaysValidSchema)(o,f)||(n.if((0,wm._)`${l} > ${h}`,()=>e.subschema({keyword:s,schemaProp:h,dataProp:h},c)),e.ok(c))});function u(f){const{opts:h,errSchemaPath:d}=o,p=r.length,m=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(h.strictTuples&&!m){const y=`"${s}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${d}"`;(0,Ao.checkStrictMode)(o,y,h.strictTuples)}}}li.validateTuple=$w;li.default=Dz;Object.defineProperty(Nd,"__esModule",{value:!0});const Mz=li,Uz={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Mz.validateTuple)(e,"items")};Nd.default=Uz;var jd={};Object.defineProperty(jd,"__esModule",{value:!0});const _m=ge,Bz=Q,Lz=ye,zz=ci,Vz={message:({params:{len:e}})=>(0,_m.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,_m._)`{limit: ${e}}`},qz={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Vz,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,Bz.alwaysValidSchema)(n,t)&&(a?(0,zz.validateAdditionalItems)(e,a):e.ok((0,Lz.validateArray)(e)))}};jd.default=qz;var Rd={};Object.defineProperty(Rd,"__esModule",{value:!0});const qt=ge,so=Q,Hz={message:({params:{min:e,max:t}})=>t===void 0?(0,qt.str)`must contain at least ${e} valid item(s)`:(0,qt.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,qt._)`{minContains: ${e}}`:(0,qt._)`{minContains: ${e}, maxContains: ${t}}`},Kz={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Hz,code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:i}=e;let s,o;const{minContains:c,maxContains:l}=n;i.opts.next?(s=c===void 0?1:c,o=l):s=1;const u=t.const("len",(0,qt._)`${a}.length`);if(e.setParams({min:s,max:o}),o===void 0&&s===0){(0,so.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&s>o){(0,so.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,so.alwaysValidSchema)(i,r)){let m=(0,qt._)`${u} >= ${s}`;o!==void 0&&(m=(0,qt._)`${m} && ${u} <= ${o}`),e.pass(m);return}i.items=!0;const f=t.name("valid");o===void 0&&s===1?d(f,()=>t.if(f,()=>t.break())):s===0?(t.let(f,!0),o!==void 0&&t.if((0,qt._)`${a}.length > 0`,h)):(t.let(f,!1),h()),e.result(f,()=>e.reset());function h(){const m=t.name("_valid"),y=t.let("count",0);d(m,()=>t.if(m,()=>p(y)))}function d(m,y){t.forRange("i",0,u,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:so.Type.Num,compositeRule:!0},m),y()})}function p(m){t.code((0,qt._)`${m}++`),o===void 0?t.if((0,qt._)`${m} >= ${s}`,()=>t.assign(f,!0).break()):(t.if((0,qt._)`${m} > ${o}`,()=>t.assign(f,!1).break()),s===1?t.assign(f,!0):t.if((0,qt._)`${m} >= ${s}`,()=>t.assign(f,!0)))}}};Rd.default=Kz;var Sw={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ge,r=Q,n=ye;e.error={message:({params:{property:c,depsCount:l,deps:u}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:u,missingProperty:f}})=>(0,t._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${u}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[l,u]=i(c);s(c,l),o(c,u)}};function i({schema:c}){const l={},u={};for(const f in c){if(f==="__proto__")continue;const h=Array.isArray(c[f])?l:u;h[f]=c[f]}return[l,u]}function s(c,l=c.schema){const{gen:u,data:f,it:h}=c;if(Object.keys(l).length===0)return;const d=u.let("missing");for(const p in l){const m=l[p];if(m.length===0)continue;const y=(0,n.propertyInData)(u,f,p,h.opts.ownProperties);c.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),h.allErrors?u.if(y,()=>{for(const g of m)(0,n.checkReportMissingProp)(c,g)}):(u.if((0,t._)`${y} && (${(0,n.checkMissingProp)(c,m,d)})`),(0,n.reportMissingProp)(c,d),u.else())}}e.validatePropertyDeps=s;function o(c,l=c.schema){const{gen:u,data:f,keyword:h,it:d}=c,p=u.name("valid");for(const m in l)(0,r.alwaysValidSchema)(d,l[m])||(u.if((0,n.propertyInData)(u,f,m,d.opts.ownProperties),()=>{const y=c.subschema({keyword:h,schemaProp:m},p);c.mergeValidEvaluated(y,p)},()=>u.var(p,!0)),c.ok(p))}e.validateSchemaDeps=o,e.default=a})(Sw);var Fd={};Object.defineProperty(Fd,"__esModule",{value:!0});const Ew=ge,Gz=Q,Wz={message:"property name must be valid",params:({params:e})=>(0,Ew._)`{propertyName: ${e.propertyName}}`},Zz={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Wz,code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,Gz.alwaysValidSchema)(a,r))return;const i=t.name("valid");t.forIn("key",n,s=>{e.setParams({propertyName:s}),e.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},i),t.if((0,Ew.not)(i),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(i)}};Fd.default=Zz;var Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});const oo=ye,rr=ge,Yz=Nr,co=Q,Xz={message:"must NOT have additional properties",params:({params:e})=>(0,rr._)`{additionalProperty: ${e.additionalProperty}}`},Jz={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Xz,code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:i,it:s}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:o,opts:c}=s;if(s.props=!0,c.removeAdditional!=="all"&&(0,co.alwaysValidSchema)(s,r))return;const l=(0,oo.allSchemaProperties)(n.properties),u=(0,oo.allSchemaProperties)(n.patternProperties);f(),e.ok((0,rr._)`${i} === ${Yz.default.errors}`);function f(){t.forIn("key",a,y=>{!l.length&&!u.length?p(y):t.if(h(y),()=>p(y))})}function h(y){let g;if(l.length>8){const v=(0,co.schemaRefOrVal)(s,n.properties,"properties");g=(0,oo.isOwnProperty)(t,v,y)}else l.length?g=(0,rr.or)(...l.map(v=>(0,rr._)`${y} === ${v}`)):g=rr.nil;return u.length&&(g=(0,rr.or)(g,...u.map(v=>(0,rr._)`${(0,oo.usePattern)(e,v)}.test(${y})`))),(0,rr.not)(g)}function d(y){t.code((0,rr._)`delete ${a}[${y}]`)}function p(y){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){d(y);return}if(r===!1){e.setParams({additionalProperty:y}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,co.alwaysValidSchema)(s,r)){const g=t.name("valid");c.removeAdditional==="failing"?(m(y,g,!1),t.if((0,rr.not)(g),()=>{e.reset(),d(y)})):(m(y,g),o||t.if((0,rr.not)(g),()=>t.break()))}}function m(y,g,v){const w={keyword:"additionalProperties",dataProp:y,dataPropType:co.Type.Str};v===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(w,g)}}};Yc.default=Jz;var Dd={};Object.defineProperty(Dd,"__esModule",{value:!0});const Qz=or,bm=ye,Nl=Q,$m=Yc,e9={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&$m.default.code(new Qz.KeywordCxt(i,$m.default,"additionalProperties"));const s=(0,bm.allSchemaProperties)(r);for(const f of s)i.definedProperties.add(f);i.opts.unevaluated&&s.length&&i.props!==!0&&(i.props=Nl.mergeEvaluated.props(t,(0,Nl.toHash)(s),i.props));const o=s.filter(f=>!(0,Nl.alwaysValidSchema)(i,r[f]));if(o.length===0)return;const c=t.name("valid");for(const f of o)l(f)?u(f):(t.if((0,bm.propertyInData)(t,a,f,i.opts.ownProperties)),u(f),i.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function l(f){return i.opts.useDefaults&&!i.compositeRule&&r[f].default!==void 0}function u(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};Dd.default=e9;var Md={};Object.defineProperty(Md,"__esModule",{value:!0});const Sm=ye,lo=ge,Em=Q,xm=Q,t9={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:i}=e,{opts:s}=i,o=(0,Sm.allSchemaProperties)(r),c=o.filter(m=>(0,Em.alwaysValidSchema)(i,r[m]));if(o.length===0||c.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;const l=s.strictSchema&&!s.allowMatchingProperties&&a.properties,u=t.name("valid");i.props!==!0&&!(i.props instanceof lo.Name)&&(i.props=(0,xm.evaluatedPropsToName)(t,i.props));const{props:f}=i;h();function h(){for(const m of o)l&&d(m),i.allErrors?p(m):(t.var(u,!0),p(m),t.if(u))}function d(m){for(const y in l)new RegExp(m).test(y)&&(0,Em.checkStrictMode)(i,`property ${y} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",n,y=>{t.if((0,lo._)`${(0,Sm.usePattern)(e,m)}.test(${y})`,()=>{const g=c.includes(m);g||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:y,dataPropType:xm.Type.Str},u),i.opts.unevaluated&&f!==!0?t.assign((0,lo._)`${f}[${y}]`,!0):!g&&!i.allErrors&&t.if((0,lo.not)(u),()=>t.break())})})}}};Md.default=t9;var Ud={};Object.defineProperty(Ud,"__esModule",{value:!0});const r9=Q,n9={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,r9.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Ud.default=n9;var Bd={};Object.defineProperty(Bd,"__esModule",{value:!0});const a9=ye,i9={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:a9.validateUnion,error:{message:"must match a schema in anyOf"}};Bd.default=i9;var Ld={};Object.defineProperty(Ld,"__esModule",{value:!0});const ko=ge,s9=Q,o9={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,ko._)`{passingSchemas: ${e.passing}}`},c9={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:o9,code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const i=r,s=t.let("valid",!1),o=t.let("passing",null),c=t.name("_valid");e.setParams({passing:o}),t.block(l),e.result(s,()=>e.reset(),()=>e.error(!0));function l(){i.forEach((u,f)=>{let h;(0,s9.alwaysValidSchema)(a,u)?t.var(c,!0):h=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,ko._)`${c} && ${s}`).assign(s,!1).assign(o,(0,ko._)`[${o}, ${f}]`).else(),t.if(c,()=>{t.assign(s,!0),t.assign(o,f),h&&e.mergeEvaluated(h,ko.Name)})})}}};Ld.default=c9;var zd={};Object.defineProperty(zd,"__esModule",{value:!0});const l9=Q,u9={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((i,s)=>{if((0,l9.alwaysValidSchema)(n,i))return;const o=e.subschema({keyword:"allOf",schemaProp:s},a);e.ok(a),e.mergeEvaluated(o)})}};zd.default=u9;var Vd={};Object.defineProperty(Vd,"__esModule",{value:!0});const Xo=ge,xw=Q,f9={message:({params:e})=>(0,Xo.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Xo._)`{failingKeyword: ${e.ifClause}}`},d9={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:f9,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,xw.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=Om(n,"then"),i=Om(n,"else");if(!a&&!i)return;const s=t.let("valid",!0),o=t.name("_valid");if(c(),e.reset(),a&&i){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(o,l("then",u),l("else",u))}else a?t.if(o,l("then")):t.if((0,Xo.not)(o),l("else"));e.pass(s,()=>e.error(!0));function c(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(u)}function l(u,f){return()=>{const h=e.subschema({keyword:u},o);t.assign(s,o),e.mergeValidEvaluated(h,s),f?t.assign(f,(0,Xo._)`${u}`):e.setParams({ifClause:u})}}}};function Om(e,t){const r=e.schema[t];return r!==void 0&&!(0,xw.alwaysValidSchema)(e,r)}Vd.default=d9;var qd={};Object.defineProperty(qd,"__esModule",{value:!0});const h9=Q,p9={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,h9.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};qd.default=p9;Object.defineProperty(Pd,"__esModule",{value:!0});const m9=ci,g9=Nd,y9=li,v9=jd,w9=Rd,_9=Sw,b9=Fd,$9=Yc,S9=Dd,E9=Md,x9=Ud,O9=Bd,A9=Ld,k9=zd,C9=Vd,T9=qd;function I9(e=!1){const t=[x9.default,O9.default,A9.default,k9.default,C9.default,T9.default,b9.default,$9.default,_9.default,S9.default,E9.default];return e?t.push(g9.default,v9.default):t.push(m9.default,y9.default),t.push(w9.default),t}Pd.default=I9;var Hd={},Kd={};Object.defineProperty(Kd,"__esModule",{value:!0});const et=ge,P9={message:({schemaCode:e})=>(0,et.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,et._)`{format: ${e}}`},N9={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:P9,code(e,t){const{gen:r,data:n,$data:a,schema:i,schemaCode:s,it:o}=e,{opts:c,errSchemaPath:l,schemaEnv:u,self:f}=o;if(!c.validateFormats)return;a?h():d();function h(){const p=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),m=r.const("fDef",(0,et._)`${p}[${s}]`),y=r.let("fType"),g=r.let("format");r.if((0,et._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>r.assign(y,(0,et._)`${m}.type || "string"`).assign(g,(0,et._)`${m}.validate`),()=>r.assign(y,(0,et._)`"string"`).assign(g,m)),e.fail$data((0,et.or)(v(),w()));function v(){return c.strictSchema===!1?et.nil:(0,et._)`${s} && !${g}`}function w(){const _=u.$async?(0,et._)`(${m}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,et._)`${g}(${n})`,b=(0,et._)`(typeof ${g} == "function" ? ${_} : ${g}.test(${n}))`;return(0,et._)`${g} && ${g} !== true && ${y} === ${t} && !${b}`}}function d(){const p=f.formats[i];if(!p){v();return}if(p===!0)return;const[m,y,g]=w(p);m===t&&e.pass(_());function v(){if(c.strictSchema===!1){f.logger.warn(b());return}throw new Error(b());function b(){return`unknown format "${i}" ignored in schema at path "${l}"`}}function w(b){const x=b instanceof RegExp?(0,et.regexpCode)(b):c.code.formats?(0,et._)`${c.code.formats}${(0,et.getProperty)(i)}`:void 0,S=r.scopeValue("formats",{key:i,ref:b,code:x});return typeof b=="object"&&!(b instanceof RegExp)?[b.type||"string",b.validate,(0,et._)`${S}.validate`]:["string",b,S]}function _(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!u.$async)throw new Error("async format in sync schema");return(0,et._)`await ${g}(${n})`}return typeof y=="function"?(0,et._)`${g}(${n})`:(0,et._)`${g}.test(${n})`}}}};Kd.default=N9;Object.defineProperty(Hd,"__esModule",{value:!0});const j9=Kd,R9=[j9.default];Hd.default=R9;var Da={};Object.defineProperty(Da,"__esModule",{value:!0});Da.contentVocabulary=Da.metadataVocabulary=void 0;Da.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Da.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(yd,"__esModule",{value:!0});const F9=vd,D9=_d,M9=Pd,U9=Hd,Am=Da,B9=[F9.default,D9.default,(0,M9.default)(),U9.default,Am.metadataVocabulary,Am.contentVocabulary];yd.default=B9;var Gd={},Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.DiscrError=void 0;var km;(function(e){e.Tag="tag",e.Mapping="mapping"})(km||(Xc.DiscrError=km={}));Object.defineProperty(Gd,"__esModule",{value:!0});const $a=ge,Nu=Xc,Cm=Tt,L9=oi,z9=Q,V9={message:({params:{discrError:e,tagName:t}})=>e===Nu.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,$a._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},q9={keyword:"discriminator",type:"object",schemaType:"object",error:V9,code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:i}=e,{oneOf:s}=a;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),l=t.const("tag",(0,$a._)`${r}${(0,$a.getProperty)(o)}`);t.if((0,$a._)`typeof ${l} == "string"`,()=>u(),()=>e.error(!1,{discrError:Nu.DiscrError.Tag,tag:l,tagName:o})),e.ok(c);function u(){const d=h();t.if(!1);for(const p in d)t.elseIf((0,$a._)`${l} === ${p}`),t.assign(c,f(d[p]));t.else(),e.error(!1,{discrError:Nu.DiscrError.Mapping,tag:l,tagName:o}),t.endIf()}function f(d){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:d},p);return e.mergeEvaluated(m,$a.Name),p}function h(){var d;const p={},m=g(a);let y=!0;for(let _=0;_<s.length;_++){let b=s[_];if(b!=null&&b.$ref&&!(0,z9.schemaHasRulesButRef)(b,i.self.RULES)){const S=b.$ref;if(b=Cm.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,S),b instanceof Cm.SchemaEnv&&(b=b.schema),b===void 0)throw new L9.default(i.opts.uriResolver,i.baseId,S)}const x=(d=b==null?void 0:b.properties)===null||d===void 0?void 0:d[o];if(typeof x!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);y=y&&(m||g(b)),v(x,_)}if(!y)throw new Error(`discriminator: "${o}" must be required`);return p;function g({required:_}){return Array.isArray(_)&&_.includes(o)}function v(_,b){if(_.const)w(_.const,b);else if(_.enum)for(const x of _.enum)w(x,b);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function w(_,b){if(typeof _!="string"||_ in p)throw new Error(`discriminator: "${o}" values must be unique strings`);p[_]=b}}}};Gd.default=q9;const H9="http://json-schema.org/draft-07/schema#",K9="http://json-schema.org/draft-07/schema#",G9="Core schema meta-schema",W9={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Z9=["object","boolean"],Y9={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},X9={$schema:H9,$id:K9,title:G9,definitions:W9,type:Z9,properties:Y9,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=M0,n=yd,a=Gd,i=X9,s=["/properties"],o="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(i,s):i;this.addMetaSchema(p,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=or;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var u=ge;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var f=Es;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var h=oi;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(xu,xu.exports);var Ow=xu.exports;const J9=we(Ow);var ju={exports:{}},Aw={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(C,k){return{validate:C,compare:k}}e.fullFormats={date:t(i,s),time:t(c,l),"date-time":t(f,h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:m,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:E,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:g,int32:{type:"number",validate:_},int64:{type:"number",validate:b},float:{type:"number",validate:x},double:{type:"number",validate:x},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,l),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(C){return C%4===0&&(C%100!==0||C%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(C){const k=n.exec(C);if(!k)return!1;const R=+k[1],D=+k[2],L=+k[3];return D>=1&&D<=12&&L>=1&&L<=(D===2&&r(R)?29:a[D])}function s(C,k){if(C&&k)return C>k?1:C<k?-1:0}const o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(C,k){const R=o.exec(C);if(!R)return!1;const D=+R[1],L=+R[2],H=+R[3],Y=R[5];return(D<=23&&L<=59&&H<=59||D===23&&L===59&&H===60)&&(!k||Y!=="")}function l(C,k){if(!(C&&k))return;const R=o.exec(C),D=o.exec(k);if(R&&D)return C=R[1]+R[2]+R[3]+(R[4]||""),k=D[1]+D[2]+D[3]+(D[4]||""),C>k?1:C<k?-1:0}const u=/t|\s/i;function f(C){const k=C.split(u);return k.length===2&&i(k[0])&&c(k[1],!0)}function h(C,k){if(!(C&&k))return;const[R,D]=C.split(u),[L,H]=k.split(u),Y=s(R,L);if(Y!==void 0)return Y||l(D,H)}const d=/\/|:/,p=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function m(C){return d.test(C)&&p.test(C)}const y=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function g(C){return y.lastIndex=0,y.test(C)}const v=-(2**31),w=2**31-1;function _(C){return Number.isInteger(C)&&C<=w&&C>=v}function b(C){return Number.isInteger(C)}function x(){return!0}const S=/[^\\]\\Z/;function E(C){if(S.test(C))return!1;try{return new RegExp(C),!0}catch{return!1}}})(Aw);var kw={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Ow,r=ge,n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},i={message:({keyword:o,schemaCode:c})=>r.str`should be ${a[o].okStr} ${c}`,params:({keyword:o,schemaCode:c})=>r._`{comparison: ${a[o].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:i,code(o){const{gen:c,data:l,schemaCode:u,keyword:f,it:h}=o,{opts:d,self:p}=h;if(!d.validateFormats)return;const m=new t.KeywordCxt(h,p.RULES.all.format.definition,"format");m.$data?y():g();function y(){const w=c.scopeValue("formats",{ref:p.formats,code:d.code.formats}),_=c.const("fmt",r._`${w}[${m.schemaCode}]`);o.fail$data(r.or(r._`typeof ${_} != "object"`,r._`${_} instanceof RegExp`,r._`typeof ${_}.compare != "function"`,v(_)))}function g(){const w=m.schema,_=p.formats[w];if(!_||_===!0)return;if(typeof _!="object"||_ instanceof RegExp||typeof _.compare!="function")throw new Error(`"${f}": format "${w}" does not define "compare" function`);const b=c.scopeValue("formats",{key:w,ref:_,code:d.code.formats?r._`${d.code.formats}${r.getProperty(w)}`:void 0});o.fail$data(v(b))}function v(w){return r._`${w}.compare(${l}, ${u}) ${a[f].fail} 0`}},dependencies:["format"]};const s=o=>(o.addKeyword(e.formatLimitDefinition),o);e.default=s})(kw);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Aw,n=kw,a=ge,i=new a.Name("fullFormats"),s=new a.Name("fastFormats"),o=(l,u={keywords:!0})=>{if(Array.isArray(u))return c(l,u,r.fullFormats,i),l;const[f,h]=u.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,i],d=u.formats||r.formatNames;return c(l,d,f,h),u.keywords&&n.default(l),l};o.get=(l,u="full")=>{const h=(u==="fast"?r.fastFormats:r.fullFormats)[l];if(!h)throw new Error(`Unknown format "${l}"`);return h};function c(l,u,f,h){var d,p;(d=(p=l.opts.code).formats)!==null&&d!==void 0||(p.formats=a._`require("ajv-formats/dist/formats").${h}`);for(const m of u)l.addFormat(m,f[m])}e.exports=t=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o})(ju,ju.exports);var Q9=ju.exports;const Tm=we(Q9),eV={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0},tV=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,rV=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function nV(e,t,r={},n,a=J9){const i=new a({...eV,...r});return n?Tm(i,n):n!==!1&&Tm(i),i.addFormat("data-url",rV),i.addFormat("color",tV),i.addKeyword(Ha),i.addKeyword(tf),Array.isArray(e)&&i.addMetaSchema(e),sr(t)&&Object.keys(t).forEach(s=>{i.addFormat(s,t[s])}),i}function aV(e=[],t){return e.map(r=>{const{instancePath:n,keyword:a,params:i,schemaPath:s,parentSchema:o,...c}=r;let{message:l=""}=c,u=n.replace(/\//g,"."),f=`${u} ${l}`.trim();if("missingProperty"in i){u=u?`${u}.${i.missingProperty}`:i.missingProperty;const h=i.missingProperty,d=Se(re(t,`${u.replace(/^\./,"")}`)).title;if(d)l=l.replace(h,d);else{const p=re(o,[Ye,h,"title"]);p&&(l=l.replace(h,p))}f=l}else{const h=Se(re(t,`${u.replace(/^\./,"")}`)).title;if(h)f=`'${h}' ${l}`.trim();else{const d=o==null?void 0:o.title;d&&(f=`'${d}' ${l}`.trim())}}return{name:a,property:u,message:l,params:i,stack:f,schemaPath:s}})}function iV(e,t,r,n,a,i,s){const{validationError:o}=t;let c=aV(t.errors,s);o&&(c=[...c,{stack:o.message}]),typeof i=="function"&&(c=i(c,s));let l=JM(c);if(o&&(l={...l,$schema:{__errors:[o.message]}}),typeof a!="function")return{errors:c,errorSchema:l};const u=Kv(e,n,r,n,!0),f=a(u,ou(u),s),h=n0(f);return So({errors:c,errorSchema:l},h)}class sV{constructor(t,r){const{additionalMetaSchemas:n,customFormats:a,ajvOptionsOverrides:i,ajvFormatOptions:s,AjvClass:o}=t;this.ajv=nV(n,a,i,s,o),this.localizer=r}toErrorList(t,r=[]){return Qi(t,r)}rawValidation(t,r){let n,a;t[fn]&&(a=this.ajv.getSchema(t[fn]));try{a===void 0&&(a=this.ajv.compile(t)),a(r)}catch(s){n=s}let i;return a&&(typeof this.localizer=="function"&&this.localizer(a.errors),i=a.errors||void 0,a.errors=null),{errors:i,validationError:n}}validateFormData(t,r,n,a,i){const s=this.rawValidation(r,t);return iV(this,s,t,r,n,a,i)}isValid(t,r,n){var a,i;const s=(a=n[fn])!==null&&a!==void 0?a:ny;try{this.ajv.addSchema(n,s);const o=Gf(t),c=(i=o[fn])!==null&&i!==void 0?i:DM(o);let l;return l=this.ajv.getSchema(c),l===void 0&&(l=this.ajv.addSchema(o,c).getSchema(c)||this.ajv.compile(o)),l(r)}catch(o){return console.warn("Error encountered compiling schema:",o),!1}finally{this.ajv.removeSchema(s)}}}function oV(e={},t){return new sV(e,t)}const vY=oV(),cV="object",lV=["name","shortAddress","address","whatsapp","phone","email"],uV={name:{type:"string",title:"Nama"},address:{type:"string",title:"Alamat Lengkap"},shortAddress:{type:"string",title:"Alamat Singkat"},whatsapp:{type:"string",title:"Nomor Whatapp"},phone:{type:"string",title:"Nomor Telepon"},email:{type:"string",title:"Alamat Email"},googleMapEmbedUrl:{type:"string",title:"Google Map Embed Url"}},wY={type:cV,required:lV,properties:uV},fV={"ui:autofocus":!0,"ui:emptyValue":"","ui:enableMarkdownInDescription":!0},dV={"ui:widget":"textarea"},hV={"ui:widget":"textarea"},pV={"ui:options":{inputType:"tel"}},mV={"ui:options":{inputType:"tel"}},gV={"ui:options":{inputType:"email"}},yV={"ui:widget":"textarea"},_Y={name:fV,address:dV,shortAddress:hV,whatsapp:pV,phone:mV,email:gV,googleMapEmbedUrl:yV},vV=e=>{let t=e.split("/");return`/${t[t.length-1]}`};var Dt=function(e){if(e=e||{},this.Promise=e.Promise||Promise,this.queues=Object.create(null),this.domainReentrant=e.domainReentrant||!1,this.domainReentrant){if(typeof Sr>"u"||typeof Sr.domain>"u")throw new Error("Domain-reentrant locks require `process.domain` to exist. Please flip `opts.domainReentrant = false`, use a NodeJS version that still implements Domain, or install a browser polyfill.");this.domains=Object.create(null)}this.timeout=e.timeout||Dt.DEFAULT_TIMEOUT,this.maxOccupationTime=e.maxOccupationTime||Dt.DEFAULT_MAX_OCCUPATION_TIME,this.maxExecutionTime=e.maxExecutionTime||Dt.DEFAULT_MAX_EXECUTION_TIME,e.maxPending===1/0||Number.isInteger(e.maxPending)&&e.maxPending>=0?this.maxPending=e.maxPending:this.maxPending=Dt.DEFAULT_MAX_PENDING};Dt.DEFAULT_TIMEOUT=0;Dt.DEFAULT_MAX_OCCUPATION_TIME=0;Dt.DEFAULT_MAX_EXECUTION_TIME=0;Dt.DEFAULT_MAX_PENDING=1e3;Dt.prototype.acquire=function(e,t,r,n){if(Array.isArray(e))return this._acquireBatch(e,t,r,n);if(typeof t!="function")throw new Error("You must pass a function to execute");var a=null,i=null,s=null;typeof r!="function"&&(n=r,r=null,s=new this.Promise(function(v,w){a=v,i=w})),n=n||{};var o=!1,c=null,l=null,u=null,f=this,h=function(v,w,_){l&&(clearTimeout(l),l=null),u&&(clearTimeout(u),u=null),v&&(f.queues[e]&&f.queues[e].length===0&&delete f.queues[e],f.domainReentrant&&delete f.domains[e]),o||(s?w?i(w):a(_):typeof r=="function"&&r(w,_),o=!0),v&&f.queues[e]&&f.queues[e].length>0&&f.queues[e].shift()()},d=function(v){if(o)return h(v);c&&(clearTimeout(c),c=null),f.domainReentrant&&v&&(f.domains[e]=Sr.domain);var w=n.maxExecutionTime||f.maxExecutionTime;if(w&&(u=setTimeout(function(){f.queues[e]&&h(v,new Error("Maximum execution time is exceeded "+e))},w)),t.length===1){var _=!1;try{t(function(b,x){_||(_=!0,h(v,b,x))})}catch(b){_||(_=!0,h(v,b))}}else f._promiseTry(function(){return t()}).then(function(b){h(v,void 0,b)},function(b){h(v,b)})};f.domainReentrant&&Sr.domain&&(d=Sr.domain.bind(d));var p=n.maxPending||f.maxPending;if(!f.queues[e])f.queues[e]=[],d(!0);else if(f.domainReentrant&&Sr.domain&&Sr.domain===f.domains[e])d(!1);else if(f.queues[e].length>=p)h(!1,new Error("Too many pending tasks in queue "+e));else{var m=function(){d(!0)};n.skipQueue?f.queues[e].unshift(m):f.queues[e].push(m);var y=n.timeout||f.timeout;y&&(c=setTimeout(function(){c=null,h(!1,new Error("async-lock timed out in queue "+e))},y))}var g=n.maxOccupationTime||f.maxOccupationTime;if(g&&(l=setTimeout(function(){f.queues[e]&&h(!1,new Error("Maximum occupation time is exceeded in queue "+e))},g)),s)return s};Dt.prototype._acquireBatch=function(e,t,r,n){typeof r!="function"&&(n=r,r=null);var a=this,i=function(o,c){return function(l){a.acquire(o,c,l,n)}},s=e.reduceRight(function(o,c){return i(c,o)},t);if(typeof r=="function")s(r);else return new this.Promise(function(o,c){s.length===1?s(function(l,u){l?c(l):o(u)}):o(s())})};Dt.prototype.isBusy=function(e){return e?!!this.queues[e]:Object.keys(this.queues).length>0};Dt.prototype._promiseTry=function(e){try{return this.Promise.resolve(e())}catch(t){return this.Promise.reject(t)}};var wV=Dt,_V=wV;const Jo=we(_V);var Ru={exports:{}};typeof Object.create=="function"?Ru.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ru.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var bV=Ru.exports,Fu={exports:{}};const $V=ef(Eb);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=$V,n=r.Buffer;function a(s,o){for(var c in s)o[c]=s[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=i);function i(s,o,c){return n(s,o,c)}i.prototype=Object.create(n.prototype),a(n,i),i.from=function(s,o,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,o,c)},i.alloc=function(s,o,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var l=n(s);return o!==void 0?typeof c=="string"?l.fill(o,c):l.fill(o):l.fill(0),l},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(Fu,Fu.exports);var Cw=Fu.exports,Tw=Cw.Buffer;function Jc(e,t){this._block=Tw.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Jc.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=Tw.from(e,t));for(var r=this._block,n=this._blockSize,a=e.length,i=this._len,s=0;s<a;){for(var o=i%n,c=Math.min(a-s,n-o),l=0;l<c;l++)r[o+l]=e[s+l];i+=c,s+=c,i%n===0&&this._update(r)}return this._len+=a,this};Jc.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,a=(r-n)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i};Jc.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var SV=Jc,EV=bV,Iw=SV,xV=Cw.Buffer,OV=[1518500249,1859775393,-1894007588,-899497514],AV=new Array(80);function Os(){this.init(),this._w=AV,Iw.call(this,64,56)}EV(Os,Iw);Os.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function kV(e){return e<<1|e>>>31}function CV(e){return e<<5|e>>>27}function TV(e){return e<<30|e>>>2}function IV(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Os.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,a=this._c|0,i=this._d|0,s=this._e|0,o=0;o<16;++o)t[o]=e.readInt32BE(o*4);for(;o<80;++o)t[o]=kV(t[o-3]^t[o-8]^t[o-14]^t[o-16]);for(var c=0;c<80;++c){var l=~~(c/20),u=CV(r)+IV(l,n,a,i)+s+t[c]+OV[l]|0;s=i,i=a,a=TV(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=i+this._d|0,this._e=s+this._e|0};Os.prototype._hash=function(){var e=xV.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var PV=Os;const Pw=we(PV);var Nw={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(e){(function(t){t(typeof DO_NOT_EXPORT_CRC>"u"?e:{})})(function(t){t.version="1.2.2";function r(){for(var E=0,C=new Array(256),k=0;k!=256;++k)E=k,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,C[k]=E;return typeof Int32Array<"u"?new Int32Array(C):C}var n=r();function a(E){var C=0,k=0,R=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)D[R]=E[R];for(R=0;R!=256;++R)for(k=E[R],C=256+R;C<4096;C+=256)k=D[C]=k>>>8^E[k&255];var L=[];for(R=1;R!=16;++R)L[R-1]=typeof Int32Array<"u"?D.subarray(R*256,R*256+256):D.slice(R*256,R*256+256);return L}var i=a(n),s=i[0],o=i[1],c=i[2],l=i[3],u=i[4],f=i[5],h=i[6],d=i[7],p=i[8],m=i[9],y=i[10],g=i[11],v=i[12],w=i[13],_=i[14];function b(E,C){for(var k=C^-1,R=0,D=E.length;R<D;)k=k>>>8^n[(k^E.charCodeAt(R++))&255];return~k}function x(E,C){for(var k=C^-1,R=E.length-15,D=0;D<R;)k=_[E[D++]^k&255]^w[E[D++]^k>>8&255]^v[E[D++]^k>>16&255]^g[E[D++]^k>>>24]^y[E[D++]]^m[E[D++]]^p[E[D++]]^d[E[D++]]^h[E[D++]]^f[E[D++]]^u[E[D++]]^l[E[D++]]^c[E[D++]]^o[E[D++]]^s[E[D++]]^n[E[D++]];for(R+=15;D<R;)k=k>>>8^n[(k^E[D++])&255];return~k}function S(E,C){for(var k=C^-1,R=0,D=E.length,L=0,H=0;R<D;)L=E.charCodeAt(R++),L<128?k=k>>>8^n[(k^L)&255]:L<2048?(k=k>>>8^n[(k^(192|L>>6&31))&255],k=k>>>8^n[(k^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,H=E.charCodeAt(R++)&1023,k=k>>>8^n[(k^(240|L>>8&7))&255],k=k>>>8^n[(k^(128|L>>2&63))&255],k=k>>>8^n[(k^(128|H>>6&15|(L&3)<<4))&255],k=k>>>8^n[(k^(128|H&63))&255]):(k=k>>>8^n[(k^(224|L>>12&15))&255],k=k>>>8^n[(k^(128|L>>6&63))&255],k=k>>>8^n[(k^(128|L&63))&255]);return~k}t.table=n,t.bstr=b,t.buf=x,t.str=S})})(Nw);const NV=we(Nw);var Yr={};(function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(i,s){return Object.prototype.hasOwnProperty.call(i,s)}e.assign=function(i){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var o=s.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var c in o)r(o,c)&&(i[c]=o[c])}}return i},e.shrinkBuf=function(i,s){return i.length===s?i:i.subarray?i.subarray(0,s):(i.length=s,i)};var n={arraySet:function(i,s,o,c,l){if(s.subarray&&i.subarray){i.set(s.subarray(o,o+c),l);return}for(var u=0;u<c;u++)i[l+u]=s[o+u]},flattenChunks:function(i){var s,o,c,l,u,f;for(c=0,s=0,o=i.length;s<o;s++)c+=i[s].length;for(f=new Uint8Array(c),l=0,s=0,o=i.length;s<o;s++)u=i[s],f.set(u,l),l+=u.length;return f}},a={arraySet:function(i,s,o,c,l){for(var u=0;u<c;u++)i[l+u]=s[o+u]},flattenChunks:function(i){return[].concat.apply([],i)}};e.setTyped=function(i){i?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(t)})(Yr);var As={},jr={},ui={},jV=Yr,RV=4,Im=0,Pm=1,FV=2;function fi(e){for(var t=e.length;--t>=0;)e[t]=0}var DV=0,jw=1,MV=2,UV=3,BV=258,Wd=29,ks=256,rs=ks+1+Wd,Ca=30,Zd=19,Rw=2*rs+1,Bn=15,jl=16,LV=7,Yd=256,Fw=16,Dw=17,Mw=18,Du=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Co=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],zV=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Uw=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],VV=512,Ur=new Array((rs+2)*2);fi(Ur);var qi=new Array(Ca*2);fi(qi);var ns=new Array(VV);fi(ns);var as=new Array(BV-UV+1);fi(as);var Xd=new Array(Wd);fi(Xd);var Qo=new Array(Ca);fi(Qo);function Rl(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}var Bw,Lw,zw;function Fl(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Vw(e){return e<256?ns[e]:ns[256+(e>>>7)]}function is(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function It(e,t,r){e.bi_valid>jl-r?(e.bi_buf|=t<<e.bi_valid&65535,is(e,e.bi_buf),e.bi_buf=t>>jl-e.bi_valid,e.bi_valid+=r-jl):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function xr(e,t,r){It(e,r[t*2],r[t*2+1])}function qw(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function qV(e){e.bi_valid===16?(is(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function HV(e,t){var r=t.dyn_tree,n=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length,l,u,f,h,d,p,m=0;for(h=0;h<=Bn;h++)e.bl_count[h]=0;for(r[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<Rw;l++)u=e.heap[l],h=r[r[u*2+1]*2+1]+1,h>c&&(h=c,m++),r[u*2+1]=h,!(u>n)&&(e.bl_count[h]++,d=0,u>=o&&(d=s[u-o]),p=r[u*2],e.opt_len+=p*(h+d),i&&(e.static_len+=p*(a[u*2+1]+d)));if(m!==0){do{for(h=c-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(h=c;h!==0;h--)for(u=e.bl_count[h];u!==0;)f=e.heap[--l],!(f>n)&&(r[f*2+1]!==h&&(e.opt_len+=(h-r[f*2+1])*r[f*2],r[f*2+1]=h),u--)}}function Hw(e,t,r){var n=new Array(Bn+1),a=0,i,s;for(i=1;i<=Bn;i++)n[i]=a=a+r[i-1]<<1;for(s=0;s<=t;s++){var o=e[s*2+1];o!==0&&(e[s*2]=qw(n[o]++,o))}}function KV(){var e,t,r,n,a,i=new Array(Bn+1);for(r=0,n=0;n<Wd-1;n++)for(Xd[n]=r,e=0;e<1<<Du[n];e++)as[r++]=n;for(as[r-1]=n,a=0,n=0;n<16;n++)for(Qo[n]=a,e=0;e<1<<Co[n];e++)ns[a++]=n;for(a>>=7;n<Ca;n++)for(Qo[n]=a<<7,e=0;e<1<<Co[n]-7;e++)ns[256+a++]=n;for(t=0;t<=Bn;t++)i[t]=0;for(e=0;e<=143;)Ur[e*2+1]=8,e++,i[8]++;for(;e<=255;)Ur[e*2+1]=9,e++,i[9]++;for(;e<=279;)Ur[e*2+1]=7,e++,i[7]++;for(;e<=287;)Ur[e*2+1]=8,e++,i[8]++;for(Hw(Ur,rs+1,i),e=0;e<Ca;e++)qi[e*2+1]=5,qi[e*2]=qw(e,5);Bw=new Rl(Ur,Du,ks+1,rs,Bn),Lw=new Rl(qi,Co,0,Ca,Bn),zw=new Rl(new Array(0),zV,0,Zd,LV)}function Kw(e){var t;for(t=0;t<rs;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Ca;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Zd;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Yd*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Gw(e){e.bi_valid>8?is(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function GV(e,t,r,n){Gw(e),is(e,r),is(e,~r),jV.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function Nm(e,t,r,n){var a=t*2,i=r*2;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[r]}function Dl(e,t,r){for(var n=e.heap[r],a=r<<1;a<=e.heap_len&&(a<e.heap_len&&Nm(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Nm(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n}function jm(e,t,r){var n,a,i=0,s,o;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+i*2]<<8|e.pending_buf[e.d_buf+i*2+1],a=e.pending_buf[e.l_buf+i],i++,n===0?xr(e,a,t):(s=as[a],xr(e,s+ks+1,t),o=Du[s],o!==0&&(a-=Xd[s],It(e,a,o)),n--,s=Vw(n),xr(e,s,r),o=Co[s],o!==0&&(n-=Qo[s],It(e,n,o)));while(i<e.last_lit);xr(e,Yd,t)}function Mu(e,t){var r=t.dyn_tree,n=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems,s,o,c=-1,l;for(e.heap_len=0,e.heap_max=Rw,s=0;s<i;s++)r[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):r[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,r[l*2]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=n[l*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)Dl(e,r,s);l=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Dl(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,r[l*2]=r[s*2]+r[o*2],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,r[s*2+1]=r[o*2+1]=l,e.heap[1]=l++,Dl(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],HV(e,t),Hw(r,c,e.bl_count)}function Rm(e,t,r){var n,a=-1,i,s=t[0*2+1],o=0,c=7,l=4;for(s===0&&(c=138,l=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=s,s=t[(n+1)*2+1],!(++o<c&&i===s)&&(o<l?e.bl_tree[i*2]+=o:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[Fw*2]++):o<=10?e.bl_tree[Dw*2]++:e.bl_tree[Mw*2]++,o=0,a=i,s===0?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4))}function Fm(e,t,r){var n,a=-1,i,s=t[0*2+1],o=0,c=7,l=4;for(s===0&&(c=138,l=3),n=0;n<=r;n++)if(i=s,s=t[(n+1)*2+1],!(++o<c&&i===s)){if(o<l)do xr(e,i,e.bl_tree);while(--o!==0);else i!==0?(i!==a&&(xr(e,i,e.bl_tree),o--),xr(e,Fw,e.bl_tree),It(e,o-3,2)):o<=10?(xr(e,Dw,e.bl_tree),It(e,o-3,3)):(xr(e,Mw,e.bl_tree),It(e,o-11,7));o=0,a=i,s===0?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4)}}function WV(e){var t;for(Rm(e,e.dyn_ltree,e.l_desc.max_code),Rm(e,e.dyn_dtree,e.d_desc.max_code),Mu(e,e.bl_desc),t=Zd-1;t>=3&&e.bl_tree[Uw[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function ZV(e,t,r,n){var a;for(It(e,t-257,5),It(e,r-1,5),It(e,n-4,4),a=0;a<n;a++)It(e,e.bl_tree[Uw[a]*2+1],3);Fm(e,e.dyn_ltree,t-1),Fm(e,e.dyn_dtree,r-1)}function YV(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Im;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Pm;for(r=32;r<ks;r++)if(e.dyn_ltree[r*2]!==0)return Pm;return Im}var Dm=!1;function XV(e){Dm||(KV(),Dm=!0),e.l_desc=new Fl(e.dyn_ltree,Bw),e.d_desc=new Fl(e.dyn_dtree,Lw),e.bl_desc=new Fl(e.bl_tree,zw),e.bi_buf=0,e.bi_valid=0,Kw(e)}function Ww(e,t,r,n){It(e,(DV<<1)+(n?1:0),3),GV(e,t,r)}function JV(e){It(e,jw<<1,3),xr(e,Yd,Ur),qV(e)}function QV(e,t,r,n){var a,i,s=0;e.level>0?(e.strm.data_type===FV&&(e.strm.data_type=YV(e)),Mu(e,e.l_desc),Mu(e,e.d_desc),s=WV(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=r+5,r+4<=a&&t!==-1?Ww(e,t,r,n):e.strategy===RV||i===a?(It(e,(jw<<1)+(n?1:0),3),jm(e,Ur,qi)):(It(e,(MV<<1)+(n?1:0),3),ZV(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),jm(e,e.dyn_ltree,e.dyn_dtree)),Kw(e),n&&Gw(e)}function eq(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(as[r]+ks+1)*2]++,e.dyn_dtree[Vw(t)*2]++),e.last_lit===e.lit_bufsize-1}ui._tr_init=XV;ui._tr_stored_block=Ww;ui._tr_flush_block=QV;ui._tr_tally=eq;ui._tr_align=JV;function tq(e,t,r,n){for(var a=e&65535|0,i=e>>>16&65535|0,s=0;r!==0;){s=r>2e3?2e3:r,r-=s;do a=a+t[n++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0}var Zw=tq;function rq(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var nq=rq();function aq(e,t,r,n){var a=nq,i=n+r;e^=-1;for(var s=n;s<i;s++)e=e>>>8^a[(e^t[s])&255];return e^-1}var Yw=aq,Jd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$t=Yr,Wt=ui,Xw=Zw,cn=Yw,iq=Jd,aa=0,sq=1,oq=3,_n=4,Mm=5,Or=0,Um=1,Zt=-2,cq=-3,Ml=-5,lq=-1,uq=1,uo=2,fq=3,dq=4,hq=0,pq=2,Qc=8,mq=9,gq=15,yq=8,vq=29,wq=256,Uu=wq+1+vq,_q=30,bq=19,$q=2*Uu+1,Sq=15,be=3,hn=258,cr=hn+be+1,Eq=32,el=42,Bu=69,To=73,Io=91,Po=103,Ln=113,Ri=666,ot=1,Cs=2,Kn=3,di=4,xq=3;function pn(e,t){return e.msg=iq[t],t}function Bm(e){return(e<<1)-(e>4?9:0)}function un(e){for(var t=e.length;--t>=0;)e[t]=0}function ln(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&($t.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function pt(e,t){Wt._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ln(e.strm)}function Ae(e,t){e.pending_buf[e.pending++]=t}function Ti(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function Oq(e,t,r,n){var a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,$t.arraySet(t,e.input,e.next_in,a,r),e.state.wrap===1?e.adler=Xw(e.adler,t,a,r):e.state.wrap===2&&(e.adler=cn(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)}function Jw(e,t){var r=e.max_chain_length,n=e.strstart,a,i,s=e.prev_length,o=e.nice_match,c=e.strstart>e.w_size-cr?e.strstart-(e.w_size-cr):0,l=e.window,u=e.w_mask,f=e.prev,h=e.strstart+hn,d=l[n+s-1],p=l[n+s];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do if(a=t,!(l[a+s]!==p||l[a+s-1]!==d||l[a]!==l[n]||l[++a]!==l[n+1])){n+=2,a++;do;while(l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&n<h);if(i=hn-(h-n),n=h-hn,i>s){if(e.match_start=t,s=i,i>=o)break;d=l[n+s-1],p=l[n+s]}}while((t=f[t&u])>c&&--r!==0);return s<=e.lookahead?s:e.lookahead}function Gn(e){var t=e.w_size,r,n,a,i,s;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-cr)){$t.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do a=e.head[--r],e.head[r]=a>=t?a-t:0;while(--n);n=t,r=n;do a=e.prev[--r],e.prev[r]=a>=t?a-t:0;while(--n);i+=t}if(e.strm.avail_in===0)break;if(n=Oq(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=be)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+be-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<be)););}while(e.lookahead<cr&&e.strm.avail_in!==0)}function Aq(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Gn(e),e.lookahead===0&&t===aa)return ot;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,pt(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-cr&&(pt(e,!1),e.strm.avail_out===0))return ot}return e.insert=0,t===_n?(pt(e,!0),e.strm.avail_out===0?Kn:di):(e.strstart>e.block_start&&(pt(e,!1),e.strm.avail_out===0),ot)}function Ul(e,t){for(var r,n;;){if(e.lookahead<cr){if(Gn(e),e.lookahead<cr&&t===aa)return ot;if(e.lookahead===0)break}if(r=0,e.lookahead>=be&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+be-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-cr&&(e.match_length=Jw(e,r)),e.match_length>=be)if(n=Wt._tr_tally(e,e.strstart-e.match_start,e.match_length-be),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=be){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+be-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=Wt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(pt(e,!1),e.strm.avail_out===0))return ot}return e.insert=e.strstart<be-1?e.strstart:be-1,t===_n?(pt(e,!0),e.strm.avail_out===0?Kn:di):e.last_lit&&(pt(e,!1),e.strm.avail_out===0)?ot:Cs}function wa(e,t){for(var r,n,a;;){if(e.lookahead<cr){if(Gn(e),e.lookahead<cr&&t===aa)return ot;if(e.lookahead===0)break}if(r=0,e.lookahead>=be&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+be-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=be-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-cr&&(e.match_length=Jw(e,r),e.match_length<=5&&(e.strategy===uq||e.match_length===be&&e.strstart-e.match_start>4096)&&(e.match_length=be-1)),e.prev_length>=be&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-be,n=Wt._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-be),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+be-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=be-1,e.strstart++,n&&(pt(e,!1),e.strm.avail_out===0))return ot}else if(e.match_available){if(n=Wt._tr_tally(e,0,e.window[e.strstart-1]),n&&pt(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ot}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Wt._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<be-1?e.strstart:be-1,t===_n?(pt(e,!0),e.strm.avail_out===0?Kn:di):e.last_lit&&(pt(e,!1),e.strm.avail_out===0)?ot:Cs}function kq(e,t){for(var r,n,a,i,s=e.window;;){if(e.lookahead<=hn){if(Gn(e),e.lookahead<=hn&&t===aa)return ot;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=be&&e.strstart>0&&(a=e.strstart-1,n=s[a],n===s[++a]&&n===s[++a]&&n===s[++a])){i=e.strstart+hn;do;while(n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&a<i);e.match_length=hn-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=be?(r=Wt._tr_tally(e,1,e.match_length-be),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Wt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(pt(e,!1),e.strm.avail_out===0))return ot}return e.insert=0,t===_n?(pt(e,!0),e.strm.avail_out===0?Kn:di):e.last_lit&&(pt(e,!1),e.strm.avail_out===0)?ot:Cs}function Cq(e,t){for(var r;;){if(e.lookahead===0&&(Gn(e),e.lookahead===0)){if(t===aa)return ot;break}if(e.match_length=0,r=Wt._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(pt(e,!1),e.strm.avail_out===0))return ot}return e.insert=0,t===_n?(pt(e,!0),e.strm.avail_out===0?Kn:di):e.last_lit&&(pt(e,!1),e.strm.avail_out===0)?ot:Cs}function vr(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}var Ea;Ea=[new vr(0,0,0,0,Aq),new vr(4,4,8,4,Ul),new vr(4,5,16,8,Ul),new vr(4,6,32,32,Ul),new vr(4,4,16,16,wa),new vr(8,16,32,32,wa),new vr(8,16,128,128,wa),new vr(8,32,128,256,wa),new vr(32,128,258,1024,wa),new vr(32,258,258,4096,wa)];function Tq(e){e.window_size=2*e.w_size,un(e.head),e.max_lazy_match=Ea[e.level].max_lazy,e.good_match=Ea[e.level].good_length,e.nice_match=Ea[e.level].nice_length,e.max_chain_length=Ea[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=be-1,e.match_available=0,e.ins_h=0}function Iq(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Qc,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new $t.Buf16($q*2),this.dyn_dtree=new $t.Buf16((2*_q+1)*2),this.bl_tree=new $t.Buf16((2*bq+1)*2),un(this.dyn_ltree),un(this.dyn_dtree),un(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new $t.Buf16(Sq+1),this.heap=new $t.Buf16(2*Uu+1),un(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new $t.Buf16(2*Uu+1),un(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Qw(e){var t;return!e||!e.state?pn(e,Zt):(e.total_in=e.total_out=0,e.data_type=pq,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?el:Ln,e.adler=t.wrap===2?0:1,t.last_flush=aa,Wt._tr_init(t),Or)}function e_(e){var t=Qw(e);return t===Or&&Tq(e.state),t}function Pq(e,t){return!e||!e.state||e.state.wrap!==2?Zt:(e.state.gzhead=t,Or)}function t_(e,t,r,n,a,i){if(!e)return Zt;var s=1;if(t===lq&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>mq||r!==Qc||n<8||n>15||t<0||t>9||i<0||i>dq)return pn(e,Zt);n===8&&(n=9);var o=new Iq;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+be-1)/be),o.window=new $t.Buf8(o.w_size*2),o.head=new $t.Buf16(o.hash_size),o.prev=new $t.Buf16(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new $t.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=i,o.method=r,e_(e)}function Nq(e,t){return t_(e,t,Qc,gq,yq,hq)}function jq(e,t){var r,n,a,i;if(!e||!e.state||t>Mm||t<0)return e?pn(e,Zt):Zt;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===Ri&&t!==_n)return pn(e,e.avail_out===0?Ml:Zt);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===el)if(n.wrap===2)e.adler=0,Ae(n,31),Ae(n,139),Ae(n,8),n.gzhead?(Ae(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ae(n,n.gzhead.time&255),Ae(n,n.gzhead.time>>8&255),Ae(n,n.gzhead.time>>16&255),Ae(n,n.gzhead.time>>24&255),Ae(n,n.level===9?2:n.strategy>=uo||n.level<2?4:0),Ae(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Ae(n,n.gzhead.extra.length&255),Ae(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=cn(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Bu):(Ae(n,0),Ae(n,0),Ae(n,0),Ae(n,0),Ae(n,0),Ae(n,n.level===9?2:n.strategy>=uo||n.level<2?4:0),Ae(n,xq),n.status=Ln);else{var s=Qc+(n.w_bits-8<<4)<<8,o=-1;n.strategy>=uo||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,s|=o<<6,n.strstart!==0&&(s|=Eq),s+=31-s%31,n.status=Ln,Ti(n,s),n.strstart!==0&&(Ti(n,e.adler>>>16),Ti(n,e.adler&65535)),e.adler=1}if(n.status===Bu)if(n.gzhead.extra){for(a=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=cn(e.adler,n.pending_buf,n.pending-a,a)),ln(e),a=n.pending,n.pending===n.pending_buf_size));)Ae(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>a&&(e.adler=cn(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=To)}else n.status=To;if(n.status===To)if(n.gzhead.name){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=cn(e.adler,n.pending_buf,n.pending-a,a)),ln(e),a=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,Ae(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=cn(e.adler,n.pending_buf,n.pending-a,a)),i===0&&(n.gzindex=0,n.status=Io)}else n.status=Io;if(n.status===Io)if(n.gzhead.comment){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=cn(e.adler,n.pending_buf,n.pending-a,a)),ln(e),a=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,Ae(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=cn(e.adler,n.pending_buf,n.pending-a,a)),i===0&&(n.status=Po)}else n.status=Po;if(n.status===Po&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&ln(e),n.pending+2<=n.pending_buf_size&&(Ae(n,e.adler&255),Ae(n,e.adler>>8&255),e.adler=0,n.status=Ln)):n.status=Ln),n.pending!==0){if(ln(e),e.avail_out===0)return n.last_flush=-1,Or}else if(e.avail_in===0&&Bm(t)<=Bm(r)&&t!==_n)return pn(e,Ml);if(n.status===Ri&&e.avail_in!==0)return pn(e,Ml);if(e.avail_in!==0||n.lookahead!==0||t!==aa&&n.status!==Ri){var c=n.strategy===uo?Cq(n,t):n.strategy===fq?kq(n,t):Ea[n.level].func(n,t);if((c===Kn||c===di)&&(n.status=Ri),c===ot||c===Kn)return e.avail_out===0&&(n.last_flush=-1),Or;if(c===Cs&&(t===sq?Wt._tr_align(n):t!==Mm&&(Wt._tr_stored_block(n,0,0,!1),t===oq&&(un(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ln(e),e.avail_out===0))return n.last_flush=-1,Or}return t!==_n?Or:n.wrap<=0?Um:(n.wrap===2?(Ae(n,e.adler&255),Ae(n,e.adler>>8&255),Ae(n,e.adler>>16&255),Ae(n,e.adler>>24&255),Ae(n,e.total_in&255),Ae(n,e.total_in>>8&255),Ae(n,e.total_in>>16&255),Ae(n,e.total_in>>24&255)):(Ti(n,e.adler>>>16),Ti(n,e.adler&65535)),ln(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Or:Um)}function Rq(e){var t;return!e||!e.state?Zt:(t=e.state.status,t!==el&&t!==Bu&&t!==To&&t!==Io&&t!==Po&&t!==Ln&&t!==Ri?pn(e,Zt):(e.state=null,t===Ln?pn(e,cq):Or))}function Fq(e,t){var r=t.length,n,a,i,s,o,c,l,u;if(!e||!e.state||(n=e.state,s=n.wrap,s===2||s===1&&n.status!==el||n.lookahead))return Zt;for(s===1&&(e.adler=Xw(e.adler,t,r,0)),n.wrap=0,r>=n.w_size&&(s===0&&(un(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new $t.Buf8(n.w_size),$t.arraySet(u,t,r-n.w_size,n.w_size,0),t=u,r=n.w_size),o=e.avail_in,c=e.next_in,l=e.input,e.avail_in=r,e.next_in=0,e.input=t,Gn(n);n.lookahead>=be;){a=n.strstart,i=n.lookahead-(be-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[a+be-1])&n.hash_mask,n.prev[a&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=a,a++;while(--i);n.strstart=a,n.lookahead=be-1,Gn(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=be-1,n.match_available=0,e.next_in=c,e.input=l,e.avail_in=o,n.wrap=s,Or}jr.deflateInit=Nq;jr.deflateInit2=t_;jr.deflateReset=e_;jr.deflateResetKeep=Qw;jr.deflateSetHeader=Pq;jr.deflate=jq;jr.deflateEnd=Rq;jr.deflateSetDictionary=Fq;jr.deflateInfo="pako deflate (from Nodeca project)";var ia={},tl=Yr,r_=!0,n_=!0;try{String.fromCharCode.apply(null,[0])}catch{r_=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n_=!1}var ss=new tl.Buf8(256);for(var rn=0;rn<256;rn++)ss[rn]=rn>=252?6:rn>=248?5:rn>=240?4:rn>=224?3:rn>=192?2:1;ss[254]=ss[254]=1;ia.string2buf=function(e){var t,r,n,a,i,s=e.length,o=0;for(a=0;a<s;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new tl.Buf8(o),i=0,a=0;i<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};function a_(e,t){if(t<65534&&(e.subarray&&n_||!e.subarray&&r_))return String.fromCharCode.apply(null,tl.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}ia.buf2binstring=function(e){return a_(e,e.length)};ia.binstring2buf=function(e){for(var t=new tl.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t};ia.buf2string=function(e,t){var r,n,a,i,s=t||e.length,o=new Array(s*2);for(n=0,r=0;r<s;){if(a=e[r++],a<128){o[n++]=a;continue}if(i=ss[a],i>4){o[n++]=65533,r+=i-1;continue}for(a&=i===2?31:i===3?15:7;i>1&&r<s;)a=a<<6|e[r++]&63,i--;if(i>1){o[n++]=65533;continue}a<65536?o[n++]=a:(a-=65536,o[n++]=55296|a>>10&1023,o[n++]=56320|a&1023)}return a_(o,n)};ia.utf8border=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+ss[e[r]]>t?r:t};function Dq(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var i_=Dq,Hi=jr,Ki=Yr,Lu=ia,zu=Jd,Mq=i_,s_=Object.prototype.toString,Uq=0,Bl=4,Ta=0,Lm=1,zm=2,Bq=-1,Lq=0,zq=8;function Wn(e){if(!(this instanceof Wn))return new Wn(e);this.options=Ki.assign({level:Bq,method:zq,chunkSize:16384,windowBits:15,memLevel:8,strategy:Lq,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Mq,this.strm.avail_out=0;var r=Hi.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Ta)throw new Error(zu[r]);if(t.header&&Hi.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(typeof t.dictionary=="string"?n=Lu.string2buf(t.dictionary):s_.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Hi.deflateSetDictionary(this.strm,n),r!==Ta)throw new Error(zu[r]);this._dict_set=!0}}Wn.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize,a,i;if(this.ended)return!1;i=t===~~t?t:t===!0?Bl:Uq,typeof e=="string"?r.input=Lu.string2buf(e):s_.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new Ki.Buf8(n),r.next_out=0,r.avail_out=n),a=Hi.deflate(r,i),a!==Lm&&a!==Ta)return this.onEnd(a),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(i===Bl||i===zm))&&(this.options.to==="string"?this.onData(Lu.buf2binstring(Ki.shrinkBuf(r.output,r.next_out))):this.onData(Ki.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&a!==Lm);return i===Bl?(a=Hi.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Ta):(i===zm&&(this.onEnd(Ta),r.avail_out=0),!0)};Wn.prototype.onData=function(e){this.chunks.push(e)};Wn.prototype.onEnd=function(e){e===Ta&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ki.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Qd(e,t){var r=new Wn(t);if(r.push(e,!0),r.err)throw r.msg||zu[r.err];return r.result}function Vq(e,t){return t=t||{},t.raw=!0,Qd(e,t)}function qq(e,t){return t=t||{},t.gzip=!0,Qd(e,t)}As.Deflate=Wn;As.deflate=Qd;As.deflateRaw=Vq;As.gzip=qq;var Ts={},fr={},fo=30,Hq=12,Kq=function(t,r){var n,a,i,s,o,c,l,u,f,h,d,p,m,y,g,v,w,_,b,x,S,E,C,k,R;n=t.state,a=t.next_in,k=t.input,i=a+(t.avail_in-5),s=t.next_out,R=t.output,o=s-(r-t.avail_out),c=s+(t.avail_out-257),l=n.dmax,u=n.wsize,f=n.whave,h=n.wnext,d=n.window,p=n.hold,m=n.bits,y=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,w=(1<<n.distbits)-1;e:do{m<15&&(p+=k[a++]<<m,m+=8,p+=k[a++]<<m,m+=8),_=y[p&v];t:for(;;){if(b=_>>>24,p>>>=b,m-=b,b=_>>>16&255,b===0)R[s++]=_&65535;else if(b&16){x=_&65535,b&=15,b&&(m<b&&(p+=k[a++]<<m,m+=8),x+=p&(1<<b)-1,p>>>=b,m-=b),m<15&&(p+=k[a++]<<m,m+=8,p+=k[a++]<<m,m+=8),_=g[p&w];r:for(;;){if(b=_>>>24,p>>>=b,m-=b,b=_>>>16&255,b&16){if(S=_&65535,b&=15,m<b&&(p+=k[a++]<<m,m+=8,m<b&&(p+=k[a++]<<m,m+=8)),S+=p&(1<<b)-1,S>l){t.msg="invalid distance too far back",n.mode=fo;break e}if(p>>>=b,m-=b,b=s-o,S>b){if(b=S-b,b>f&&n.sane){t.msg="invalid distance too far back",n.mode=fo;break e}if(E=0,C=d,h===0){if(E+=u-b,b<x){x-=b;do R[s++]=d[E++];while(--b);E=s-S,C=R}}else if(h<b){if(E+=u+h-b,b-=h,b<x){x-=b;do R[s++]=d[E++];while(--b);if(E=0,h<x){b=h,x-=b;do R[s++]=d[E++];while(--b);E=s-S,C=R}}}else if(E+=h-b,b<x){x-=b;do R[s++]=d[E++];while(--b);E=s-S,C=R}for(;x>2;)R[s++]=C[E++],R[s++]=C[E++],R[s++]=C[E++],x-=3;x&&(R[s++]=C[E++],x>1&&(R[s++]=C[E++]))}else{E=s-S;do R[s++]=R[E++],R[s++]=R[E++],R[s++]=R[E++],x-=3;while(x>2);x&&(R[s++]=R[E++],x>1&&(R[s++]=R[E++]))}}else if(b&64){t.msg="invalid distance code",n.mode=fo;break e}else{_=g[(_&65535)+(p&(1<<b)-1)];continue r}break}}else if(b&64)if(b&32){n.mode=Hq;break e}else{t.msg="invalid literal/length code",n.mode=fo;break e}else{_=y[(_&65535)+(p&(1<<b)-1)];continue t}break}}while(a<i&&s<c);x=m>>3,a-=x,m-=x<<3,p&=(1<<m)-1,t.next_in=a,t.next_out=s,t.avail_in=a<i?5+(i-a):5-(a-i),t.avail_out=s<c?257+(c-s):257-(s-c),n.hold=p,n.bits=m},Vm=Yr,_a=15,qm=852,Hm=592,Km=0,Ll=1,Gm=2,Gq=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Wq=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Zq=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Yq=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Xq=function(t,r,n,a,i,s,o,c){var l=c.bits,u=0,f=0,h=0,d=0,p=0,m=0,y=0,g=0,v=0,w=0,_,b,x,S,E,C=null,k=0,R,D=new Vm.Buf16(_a+1),L=new Vm.Buf16(_a+1),H=null,Y=0,ce,de,se;for(u=0;u<=_a;u++)D[u]=0;for(f=0;f<a;f++)D[r[n+f]]++;for(p=l,d=_a;d>=1&&D[d]===0;d--);if(p>d&&(p=d),d===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,c.bits=1,0;for(h=1;h<d&&D[h]===0;h++);for(p<h&&(p=h),g=1,u=1;u<=_a;u++)if(g<<=1,g-=D[u],g<0)return-1;if(g>0&&(t===Km||d!==1))return-1;for(L[1]=0,u=1;u<_a;u++)L[u+1]=L[u]+D[u];for(f=0;f<a;f++)r[n+f]!==0&&(o[L[r[n+f]]++]=f);if(t===Km?(C=H=o,R=19):t===Ll?(C=Gq,k-=257,H=Wq,Y-=257,R=256):(C=Zq,H=Yq,R=-1),w=0,f=0,u=h,E=s,m=p,y=0,x=-1,v=1<<p,S=v-1,t===Ll&&v>qm||t===Gm&&v>Hm)return 1;for(;;){ce=u-y,o[f]<R?(de=0,se=o[f]):o[f]>R?(de=H[Y+o[f]],se=C[k+o[f]]):(de=96,se=0),_=1<<u-y,b=1<<m,h=b;do b-=_,i[E+(w>>y)+b]=ce<<24|de<<16|se|0;while(b!==0);for(_=1<<u-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,f++,--D[u]===0){if(u===d)break;u=r[n+o[f]]}if(u>p&&(w&S)!==x){for(y===0&&(y=p),E+=h,m=u-y,g=1<<m;m+y<d&&(g-=D[m+y],!(g<=0));)m++,g<<=1;if(v+=1<<m,t===Ll&&v>qm||t===Gm&&v>Hm)return 1;x=w&S,i[x]=p<<24|m<<16|E-s|0}}return w!==0&&(i[E+w]=u-y<<24|64<<16|0),c.bits=p,0},Mt=Yr,Vu=Zw,wr=Yw,Jq=Kq,Gi=Xq,Qq=0,o_=1,c_=2,Wm=4,e7=5,ho=6,Zn=0,t7=1,r7=2,Yt=-2,l_=-3,u_=-4,n7=-5,Zm=8,f_=1,Ym=2,Xm=3,Jm=4,Qm=5,eg=6,tg=7,rg=8,ng=9,ag=10,ec=11,Dr=12,zl=13,ig=14,Vl=15,sg=16,og=17,cg=18,lg=19,po=20,mo=21,ug=22,fg=23,dg=24,hg=25,pg=26,ql=27,mg=28,gg=29,Ke=30,d_=31,a7=32,i7=852,s7=592,o7=15,c7=o7;function yg(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function l7(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Mt.Buf16(320),this.work=new Mt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h_(e){var t;return!e||!e.state?Yt:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=f_,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Mt.Buf32(i7),t.distcode=t.distdyn=new Mt.Buf32(s7),t.sane=1,t.back=-1,Zn)}function p_(e){var t;return!e||!e.state?Yt:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,h_(e))}function m_(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Yt:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,p_(e))}function g_(e,t){var r,n;return e?(n=new l7,e.state=n,n.window=null,r=m_(e,t),r!==Zn&&(e.state=null),r):Yt}function u7(e){return g_(e,c7)}var vg=!0,Hl,Kl;function f7(e){if(vg){var t;for(Hl=new Mt.Buf32(512),Kl=new Mt.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Gi(o_,e.lens,0,288,Hl,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Gi(c_,e.lens,0,32,Kl,0,e.work,{bits:5}),vg=!1}e.lencode=Hl,e.lenbits=9,e.distcode=Kl,e.distbits=5}function y_(e,t,r,n){var a,i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Mt.Buf8(i.wsize)),n>=i.wsize?(Mt.arraySet(i.window,t,r-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),Mt.arraySet(i.window,t,r-n,a,i.wnext),n-=a,n?(Mt.arraySet(i.window,t,r-n,n,0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0}function d7(e,t){var r,n,a,i,s,o,c,l,u,f,h,d,p,m,y=0,g,v,w,_,b,x,S,E,C=new Mt.Buf8(4),k,R,D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Yt;r=e.state,r.mode===Dr&&(r.mode=zl),s=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,l=r.hold,u=r.bits,f=o,h=c,E=Zn;e:for(;;)switch(r.mode){case f_:if(r.wrap===0){r.mode=zl;break}for(;u<16;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}if(r.wrap&2&&l===35615){r.check=0,C[0]=l&255,C[1]=l>>>8&255,r.check=wr(r.check,C,2,0),l=0,u=0,r.mode=Ym;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",r.mode=Ke;break}if((l&15)!==Zm){e.msg="unknown compression method",r.mode=Ke;break}if(l>>>=4,u-=4,S=(l&15)+8,r.wbits===0)r.wbits=S;else if(S>r.wbits){e.msg="invalid window size",r.mode=Ke;break}r.dmax=1<<S,e.adler=r.check=1,r.mode=l&512?ag:Dr,l=0,u=0;break;case Ym:for(;u<16;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}if(r.flags=l,(r.flags&255)!==Zm){e.msg="unknown compression method",r.mode=Ke;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Ke;break}r.head&&(r.head.text=l>>8&1),r.flags&512&&(C[0]=l&255,C[1]=l>>>8&255,r.check=wr(r.check,C,2,0)),l=0,u=0,r.mode=Xm;case Xm:for(;u<32;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}r.head&&(r.head.time=l),r.flags&512&&(C[0]=l&255,C[1]=l>>>8&255,C[2]=l>>>16&255,C[3]=l>>>24&255,r.check=wr(r.check,C,4,0)),l=0,u=0,r.mode=Jm;case Jm:for(;u<16;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=l&255,r.head.os=l>>8),r.flags&512&&(C[0]=l&255,C[1]=l>>>8&255,r.check=wr(r.check,C,2,0)),l=0,u=0,r.mode=Qm;case Qm:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}r.length=l,r.head&&(r.head.extra_len=l),r.flags&512&&(C[0]=l&255,C[1]=l>>>8&255,r.check=wr(r.check,C,2,0)),l=0,u=0}else r.head&&(r.head.extra=null);r.mode=eg;case eg:if(r.flags&1024&&(d=r.length,d>o&&(d=o),d&&(r.head&&(S=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Mt.arraySet(r.head.extra,n,i,d,S)),r.flags&512&&(r.check=wr(r.check,n,d,i)),o-=d,i+=d,r.length-=d),r.length))break e;r.length=0,r.mode=tg;case tg:if(r.flags&2048){if(o===0)break e;d=0;do S=n[i+d++],r.head&&S&&r.length<65536&&(r.head.name+=String.fromCharCode(S));while(S&&d<o);if(r.flags&512&&(r.check=wr(r.check,n,d,i)),o-=d,i+=d,S)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=rg;case rg:if(r.flags&4096){if(o===0)break e;d=0;do S=n[i+d++],r.head&&S&&r.length<65536&&(r.head.comment+=String.fromCharCode(S));while(S&&d<o);if(r.flags&512&&(r.check=wr(r.check,n,d,i)),o-=d,i+=d,S)break e}else r.head&&(r.head.comment=null);r.mode=ng;case ng:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}if(l!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Ke;break}l=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Dr;break;case ag:for(;u<32;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}e.adler=r.check=yg(l),l=0,u=0,r.mode=ec;case ec:if(r.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=l,r.bits=u,r7;e.adler=r.check=1,r.mode=Dr;case Dr:if(t===e7||t===ho)break e;case zl:if(r.last){l>>>=u&7,u-=u&7,r.mode=ql;break}for(;u<3;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}switch(r.last=l&1,l>>>=1,u-=1,l&3){case 0:r.mode=ig;break;case 1:if(f7(r),r.mode=po,t===ho){l>>>=2,u-=2;break e}break;case 2:r.mode=og;break;case 3:e.msg="invalid block type",r.mode=Ke}l>>>=2,u-=2;break;case ig:for(l>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Ke;break}if(r.length=l&65535,l=0,u=0,r.mode=Vl,t===ho)break e;case Vl:r.mode=sg;case sg:if(d=r.length,d){if(d>o&&(d=o),d>c&&(d=c),d===0)break e;Mt.arraySet(a,n,i,d,s),o-=d,i+=d,c-=d,s+=d,r.length-=d;break}r.mode=Dr;break;case og:for(;u<14;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}if(r.nlen=(l&31)+257,l>>>=5,u-=5,r.ndist=(l&31)+1,l>>>=5,u-=5,r.ncode=(l&15)+4,l>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Ke;break}r.have=0,r.mode=cg;case cg:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}r.lens[D[r.have++]]=l&7,l>>>=3,u-=3}for(;r.have<19;)r.lens[D[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,k={bits:r.lenbits},E=Gi(Qq,r.lens,0,19,r.lencode,0,r.work,k),r.lenbits=k.bits,E){e.msg="invalid code lengths set",r.mode=Ke;break}r.have=0,r.mode=lg;case lg:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[l&(1<<r.lenbits)-1],g=y>>>24,v=y>>>16&255,w=y&65535,!(g<=u);){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}if(w<16)l>>>=g,u-=g,r.lens[r.have++]=w;else{if(w===16){for(R=g+2;u<R;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}if(l>>>=g,u-=g,r.have===0){e.msg="invalid bit length repeat",r.mode=Ke;break}S=r.lens[r.have-1],d=3+(l&3),l>>>=2,u-=2}else if(w===17){for(R=g+3;u<R;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}l>>>=g,u-=g,S=0,d=3+(l&7),l>>>=3,u-=3}else{for(R=g+7;u<R;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}l>>>=g,u-=g,S=0,d=11+(l&127),l>>>=7,u-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Ke;break}for(;d--;)r.lens[r.have++]=S}}if(r.mode===Ke)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Ke;break}if(r.lenbits=9,k={bits:r.lenbits},E=Gi(o_,r.lens,0,r.nlen,r.lencode,0,r.work,k),r.lenbits=k.bits,E){e.msg="invalid literal/lengths set",r.mode=Ke;break}if(r.distbits=6,r.distcode=r.distdyn,k={bits:r.distbits},E=Gi(c_,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,k),r.distbits=k.bits,E){e.msg="invalid distances set",r.mode=Ke;break}if(r.mode=po,t===ho)break e;case po:r.mode=mo;case mo:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=l,r.bits=u,Jq(e,h),s=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,l=r.hold,u=r.bits,r.mode===Dr&&(r.back=-1);break}for(r.back=0;y=r.lencode[l&(1<<r.lenbits)-1],g=y>>>24,v=y>>>16&255,w=y&65535,!(g<=u);){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}if(v&&!(v&240)){for(_=g,b=v,x=w;y=r.lencode[x+((l&(1<<_+b)-1)>>_)],g=y>>>24,v=y>>>16&255,w=y&65535,!(_+g<=u);){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}l>>>=_,u-=_,r.back+=_}if(l>>>=g,u-=g,r.back+=g,r.length=w,v===0){r.mode=pg;break}if(v&32){r.back=-1,r.mode=Dr;break}if(v&64){e.msg="invalid literal/length code",r.mode=Ke;break}r.extra=v&15,r.mode=ug;case ug:if(r.extra){for(R=r.extra;u<R;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=fg;case fg:for(;y=r.distcode[l&(1<<r.distbits)-1],g=y>>>24,v=y>>>16&255,w=y&65535,!(g<=u);){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}if(!(v&240)){for(_=g,b=v,x=w;y=r.distcode[x+((l&(1<<_+b)-1)>>_)],g=y>>>24,v=y>>>16&255,w=y&65535,!(_+g<=u);){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}l>>>=_,u-=_,r.back+=_}if(l>>>=g,u-=g,r.back+=g,v&64){e.msg="invalid distance code",r.mode=Ke;break}r.offset=w,r.extra=v&15,r.mode=dg;case dg:if(r.extra){for(R=r.extra;u<R;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Ke;break}r.mode=hg;case hg:if(c===0)break e;if(d=h-c,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Ke;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=a,p=s-r.offset,d=r.length;d>c&&(d=c),c-=d,r.length-=d;do a[s++]=m[p++];while(--d);r.length===0&&(r.mode=mo);break;case pg:if(c===0)break e;a[s++]=r.length,c--,r.mode=mo;break;case ql:if(r.wrap){for(;u<32;){if(o===0)break e;o--,l|=n[i++]<<u,u+=8}if(h-=c,e.total_out+=h,r.total+=h,h&&(e.adler=r.check=r.flags?wr(r.check,a,h,s-h):Vu(r.check,a,h,s-h)),h=c,(r.flags?l:yg(l))!==r.check){e.msg="incorrect data check",r.mode=Ke;break}l=0,u=0}r.mode=mg;case mg:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,l+=n[i++]<<u,u+=8}if(l!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Ke;break}l=0,u=0}r.mode=gg;case gg:E=t7;break e;case Ke:E=l_;break e;case d_:return u_;case a7:default:return Yt}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=l,r.bits=u,(r.wsize||h!==e.avail_out&&r.mode<Ke&&(r.mode<ql||t!==Wm))&&y_(e,e.output,e.next_out,h-e.avail_out),f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,r.total+=h,r.wrap&&h&&(e.adler=r.check=r.flags?wr(r.check,a,h,e.next_out-h):Vu(r.check,a,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Dr?128:0)+(r.mode===po||r.mode===Vl?256:0),(f===0&&h===0||t===Wm)&&E===Zn&&(E=n7),E}function h7(e){if(!e||!e.state)return Yt;var t=e.state;return t.window&&(t.window=null),e.state=null,Zn}function p7(e,t){var r;return!e||!e.state||(r=e.state,!(r.wrap&2))?Yt:(r.head=t,t.done=!1,Zn)}function m7(e,t){var r=t.length,n,a,i;return!e||!e.state||(n=e.state,n.wrap!==0&&n.mode!==ec)?Yt:n.mode===ec&&(a=1,a=Vu(a,t,r,0),a!==n.check)?l_:(i=y_(e,t,r,r),i?(n.mode=d_,u_):(n.havedict=1,Zn))}fr.inflateReset=p_;fr.inflateReset2=m_;fr.inflateResetKeep=h_;fr.inflateInit=u7;fr.inflateInit2=g_;fr.inflate=d7;fr.inflateEnd=h7;fr.inflateGetHeader=p7;fr.inflateSetDictionary=m7;fr.inflateInfo="pako inflate (from Nodeca project)";var v_={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function g7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var y7=g7,Ia=fr,Wi=Yr,No=ia,tt=v_,qu=Jd,v7=i_,w7=y7,w_=Object.prototype.toString;function Yn(e){if(!(this instanceof Yn))return new Yn(e);this.options=Wi.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v7,this.strm.avail_out=0;var r=Ia.inflateInit2(this.strm,t.windowBits);if(r!==tt.Z_OK)throw new Error(qu[r]);if(this.header=new w7,Ia.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=No.string2buf(t.dictionary):w_.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ia.inflateSetDictionary(this.strm,t.dictionary),r!==tt.Z_OK)))throw new Error(qu[r])}Yn.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize,a=this.options.dictionary,i,s,o,c,l,u=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?tt.Z_FINISH:tt.Z_NO_FLUSH,typeof e=="string"?r.input=No.binstring2buf(e):w_.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new Wi.Buf8(n),r.next_out=0,r.avail_out=n),i=Ia.inflate(r,tt.Z_NO_FLUSH),i===tt.Z_NEED_DICT&&a&&(i=Ia.inflateSetDictionary(this.strm,a)),i===tt.Z_BUF_ERROR&&u===!0&&(i=tt.Z_OK,u=!1),i!==tt.Z_STREAM_END&&i!==tt.Z_OK)return this.onEnd(i),this.ended=!0,!1;r.next_out&&(r.avail_out===0||i===tt.Z_STREAM_END||r.avail_in===0&&(s===tt.Z_FINISH||s===tt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(o=No.utf8border(r.output,r.next_out),c=r.next_out-o,l=No.buf2string(r.output,o),r.next_out=c,r.avail_out=n-c,c&&Wi.arraySet(r.output,r.output,o,c,0),this.onData(l)):this.onData(Wi.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(u=!0)}while((r.avail_in>0||r.avail_out===0)&&i!==tt.Z_STREAM_END);return i===tt.Z_STREAM_END&&(s=tt.Z_FINISH),s===tt.Z_FINISH?(i=Ia.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===tt.Z_OK):(s===tt.Z_SYNC_FLUSH&&(this.onEnd(tt.Z_OK),r.avail_out=0),!0)};Yn.prototype.onData=function(e){this.chunks.push(e)};Yn.prototype.onEnd=function(e){e===tt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Wi.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function eh(e,t){var r=new Yn(t);if(r.push(e,!0),r.err)throw r.msg||qu[r.err];return r.result}function _7(e,t){return t=t||{},t.raw=!0,eh(e,t)}Ts.Inflate=Yn;Ts.inflate=eh;Ts.inflateRaw=_7;Ts.ungzip=eh;var b7=Yr.assign,$7=As,S7=Ts,E7=v_,__={};b7(__,$7,S7,E7);var x7=__;const th=we(x7),wg=(e,t)=>function(...r){const n=t.promiseModule;return new n((a,i)=>{t.multiArgs?r.push((...s)=>{t.errorFirst?s[0]?i(s):(s.shift(),a(s)):a(s)}):t.errorFirst?r.push((s,o)=>{s?i(s):a(o)}):r.push(a),e.apply(this,r)})};var O7=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=typeof e;if(!(e!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":r}\``);const n=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return t.include?t.include.some(s):!t.exclude.some(s)};let a;r==="function"?a=function(...i){return t.excludeMain?e(...i):wg(e,t).apply(this,i)}:a=Object.create(Object.getPrototypeOf(e));for(const i in e){const s=e[i];a[i]=typeof s=="function"&&n(i)?wg(s,t):s}return a};const Gl=we(O7);var _g={};function bg(e){return Array.isArray(e)?e:[e]}const Hu="",$g=" ",Wl="\\",A7=/^\s+$/,k7=/(?:[^\\]|^)\\$/,C7=/^\\!/,T7=/^\\#/,I7=/\r?\n/g,P7=/^\.*\/|^\.+$/,Zl="/";let b_="node-ignore";typeof Symbol<"u"&&(b_=Symbol.for("node-ignore"));const Sg=b_,N7=(e,t,r)=>Object.defineProperty(e,t,{value:r}),j7=/([0-z])-([0-z])/g,$_=()=>!1,R7=e=>e.replace(j7,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:Hu),F7=e=>{const{length:t}=e;return e.slice(0,t-t%2)},D7=[[/^\uFEFF/,()=>Hu],[/\\?\s+$/,e=>e.indexOf("\\")===0?$g:Hu],[/\\\s/g,()=>$g],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,r)=>{const n=r.replace(/\\\*/g,"[^\\/]*");return t+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>Wl],[/\\\\/g,()=>Wl],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,a)=>t===Wl?`\\[${r}${F7(n)}${a}`:a==="]"&&n.length%2===0?`[${R7(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],Eg=Object.create(null),M7=(e,t)=>{let r=Eg[e];return r||(r=D7.reduce((n,a)=>n.replace(a[0],a[1].bind(e)),e),Eg[e]=r),t?new RegExp(r,"i"):new RegExp(r)},rh=e=>typeof e=="string",U7=e=>e&&rh(e)&&!A7.test(e)&&!k7.test(e)&&e.indexOf("#")!==0,B7=e=>e.split(I7);class L7{constructor(t,r,n,a){this.origin=t,this.pattern=r,this.negative=n,this.regex=a}}const z7=(e,t)=>{const r=e;let n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(C7,"!").replace(T7,"#");const a=M7(e,t);return new L7(r,e,n,a)},V7=(e,t)=>{throw new t(e)},Hr=(e,t,r)=>rh(e)?e?Hr.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),S_=e=>P7.test(e);Hr.isNotRelative=S_;Hr.convert=e=>e;class q7{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){N7(this,Sg,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[Sg]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(U7(t)){const r=z7(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,bg(rh(t)?B7(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,a=!1;return this._rules.forEach(i=>{const{negative:s}=i;if(a===s&&n!==a||s&&!n&&!a&&!r)return;i.regex.test(t)&&(n=!s,a=s)}),{ignored:n,unignored:a}}_test(t,r,n,a){const i=t&&Hr.convert(t);return Hr(i,t,this._allowRelativePaths?$_:V7),this._t(i,r,n,a)}_t(t,r,n,a){if(t in r)return r[t];if(a||(a=t.split(Zl)),a.pop(),!a.length)return r[t]=this._testOne(t,n);const i=this._t(a.join(Zl)+Zl,r,n,a);return r[t]=i.ignored?i:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return bg(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}}const tc=e=>new q7(e),H7=e=>Hr(e&&Hr.convert(e),e,$_);tc.isPathValid=H7;tc.default=tc;var K7=tc;if(typeof Sr<"u"&&(_g&&_g.IGNORE_TEST_WIN32||Sr.platform==="win32")){const e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Hr.convert=e;const t=/^[a-z]:\//i;Hr.isNotRelative=r=>t.test(r)||S_(r)}const G7=we(K7);function W7(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _r(e,t,r){return t=t instanceof RegExp?t:new RegExp(W7(t),"g"),e.replace(t,r)}var Z7={clean:function(t){if(typeof t!="string")throw new Error("Expected a string, received: "+t);return t=_r(t,"./","/"),t=_r(t,"..","."),t=_r(t," ","-"),t=_r(t,/^[~^:?*\\\-]/g,""),t=_r(t,/[~^:?*\\]/g,"-"),t=_r(t,/[~^:?*\\\-]$/g,""),t=_r(t,"@{","-"),t=_r(t,/\.$/g,""),t=_r(t,/\/$/g,""),t=_r(t,/\.lock$/g,""),t}},Y7=Z7;const Ir=we(Y7);var X7=function(e,t){var r=e,n=t,a=r.length,i=n.length,s=!1,o=null,c=a+1,l=[],u=[],f=[],h="",d=-1,p=0,m=1,y,g,v=function(){a>=i&&(y=r,g=a,r=n,n=y,a=i,i=g,s=!0,c=a+1)},w=function(S,E,C){return{x:S,y:E,k:C}},_=function(S,E){return{elem:S,t:E}},b=function(S,E,C){var k,R,D;for(E>C?k=l[S-1+c]:k=l[S+1+c],D=Math.max(E,C),R=D-S;R<a&&D<i&&r[R]===n[D];)++R,++D;return l[S+c]=u.length,u[u.length]=new w(R,D,k),D},x=function(S){var E,C,k;for(E=C=0,k=S.length-1;k>=0;--k)for(;E<S[k].x||C<S[k].y;)S[k].y-S[k].x>C-E?(s?f[f.length]=new _(n[C],d):f[f.length]=new _(n[C],m),++C):S[k].y-S[k].x<C-E?(s?f[f.length]=new _(r[E],m):f[f.length]=new _(r[E],d),++E):(f[f.length]=new _(r[E],p),h+=r[E],++E,++C)};return v(),{SES_DELETE:-1,SES_COMMON:0,SES_ADD:1,editdistance:function(){return o},getlcs:function(){return h},getses:function(){return f},compose:function(){var S,E,C,k,R,D,L,H;for(S=i-a,E=a+i+3,C={},L=0;L<E;++L)C[L]=-1,l[L]=-1;k=-1;do{for(++k,H=-k;H<=S-1;++H)C[H+c]=b(H,C[H-1+c]+1,C[H+1+c]);for(H=S+k;H>=S+1;--H)C[H+c]=b(H,C[H-1+c]+1,C[H+1+c]);C[S+c]=b(S,C[S-1+c]+1,C[S+1+c])}while(C[S+c]!==i);for(o=S+2*k,R=l[S+c],D=[];R!==-1;)D[D.length]=new w(u[R].x,u[R].y,null),R=u[R].k;x(D)}}},J7=X7;function Q7(e,t){var r=new J7(e,t);r.compose();for(var n=r.getses(),a,i,s=e.length-1,o=t.length-1,c=n.length-1;c>=0;--c)n[c].t===r.SES_COMMON?(i?(i.chain={file1index:s,file2index:o,chain:null},i=i.chain):(a={file1index:s,file2index:o,chain:null},i=a),s--,o--):n[c].t===r.SES_DELETE?s--:n[c].t===r.SES_ADD&&o--;var l={file1index:-1,file2index:-1,chain:null};return i?(i.chain=l,a):l}function xg(e,t){for(var r=[],n=e.length,a=t.length,i=Q7(e,t);i!==null;i=i.chain){var s=n-i.file1index-1,o=a-i.file2index-1;n=i.file1index,a=i.file2index,(s||o)&&r.push({file1:[n+1,s],file2:[a+1,o]})}return r.reverse(),r}function eH(e,t,r){var n,a=xg(t,e),i=xg(t,r),s=[];function o(L,H){s.push([L.file1[0],H,L.file1[1],L.file2[0],L.file2[1]])}for(n=0;n<a.length;n++)o(a[n],0);for(n=0;n<i.length;n++)o(i[n],2);s.sort(function(L,H){return L[0]-H[0]});var c=[],l=0;function u(L){L>l&&(c.push([1,l,L-l]),l=L)}for(var f=0;f<s.length;f++){for(var h=f,d=s[f],p=d[0],m=p+d[2];f<s.length-1;){var y=s[f+1],g=y[0];if(g>m)break;m=Math.max(m,g+y[2]),f++}if(u(p),h==f)d[4]>0&&c.push([d[1],d[3],d[4]]);else{var v={0:[e.length,-1,t.length,-1],2:[r.length,-1,t.length,-1]};for(n=h;n<=f;n++){d=s[n];var w=d[1],_=v[w],b=d[0],x=b+d[2],S=d[3],E=S+d[4];_[0]=Math.min(S,_[0]),_[1]=Math.max(E,_[1]),_[2]=Math.min(b,_[2]),_[3]=Math.max(x,_[3])}var C=v[0][0]+(p-v[0][2]),k=v[0][1]+(m-v[0][3]),R=v[2][0]+(p-v[2][2]),D=v[2][1]+(m-v[2][3]);c.push([-1,C,k-C,p,m-p,R,D-R])}l=m}return u(t.length),c}function tH(e,t,r){var n=[],a=[e,t,r],i=eH(e,t,r),s=[];function o(){s.length&&n.push({ok:s}),s=[]}function c(d){for(var p=0;p<d.length;p++)s.push(d[p])}function l(d){if(d[2]!=d[6])return!0;for(var p=d[1],m=d[5],y=0;y<d[2];y++)if(e[y+p]!=r[y+m])return!0;return!1}for(var u=0;u<i.length;u++){var f=i[u],h=f[0];h==-1?l(f)?(o(),n.push({conflict:{a:e.slice(f[1],f[1]+f[2]),aIndex:f[1],o:t.slice(f[3],f[3]+f[4]),oIndex:f[3],b:r.slice(f[5],f[5]+f[6]),bIndex:f[5]}})):c(a[0].slice(f[1],f[1]+f[2])):c(a[h].slice(f[1],f[1]+f[2]))}return o(),n}var rH=tH;const nH=we(rH);class Oe extends Error{constructor(t){super(t),this.caller=""}toJSON(){return{code:this.code,data:this.data,caller:this.caller,message:this.message,stack:this.stack}}fromJSON(t){const r=new Oe(t.message);return r.code=t.code,r.data=t.data,r.caller=t.caller,r.stack=t.stack,r}get isIsomorphicGitError(){return!0}}class Is extends Oe{constructor(t){super(`Modifying the index is not possible because you have unmerged files: ${t.toString}. Fix them up in the work tree, and then use 'git add/rm as appropriate to mark resolution and make a commit.`),this.code=this.name=Is.code,this.data={filepaths:t}}}Is.code="UnmergedPathsError";class fe extends Oe{constructor(t){super(`An internal error caused this command to fail. Please file a bug report at https://github.com/isomorphic-git/isomorphic-git/issues with this error message: ${t}`),this.code=this.name=fe.code,this.data={message:t}}}fe.code="InternalError";class hi extends Oe{constructor(t){super(`The filepath "${t}" contains unsafe character sequences`),this.code=this.name=hi.code,this.data={filepath:t}}}hi.code="UnsafeFilepathError";class Ar{constructor(t){this.buffer=t,this._start=0}eof(){return this._start>=this.buffer.length}tell(){return this._start}seek(t){this._start=t}slice(t){const r=this.buffer.slice(this._start,this._start+t);return this._start+=t,r}toString(t,r){const n=this.buffer.toString(t,this._start,this._start+r);return this._start+=r,n}write(t,r,n){const a=this.buffer.write(t,this._start,r,n);return this._start+=r,a}copy(t,r,n){const a=t.copy(this.buffer,this._start,r,n);return this._start+=a,a}readUInt8(){const t=this.buffer.readUInt8(this._start);return this._start+=1,t}writeUInt8(t){const r=this.buffer.writeUInt8(t,this._start);return this._start+=1,r}readUInt16BE(){const t=this.buffer.readUInt16BE(this._start);return this._start+=2,t}writeUInt16BE(t){const r=this.buffer.writeUInt16BE(t,this._start);return this._start+=2,r}readUInt32BE(){const t=this.buffer.readUInt32BE(this._start);return this._start+=4,t}writeUInt32BE(t){const r=this.buffer.writeUInt32BE(t,this._start);return this._start+=4,r}}function rl(e,t){return-(e<t)||+(e>t)}function E_(e,t){return rl(e.path,t.path)}function x_(e){let t=e>0?e>>12:0;t!==4&&t!==8&&t!==10&&t!==14&&(t=8);let r=e&511;return r&73?r=493:r=420,t!==8&&(r=0),(t<<12)+r}const br=2**32;function Og(e,t,r,n){if(e!==void 0&&t!==void 0)return[e,t];r===void 0&&(r=n.valueOf());const a=Math.floor(r/1e3),i=(r-a*1e3)*1e6;return[a,i]}function Ma(e){const[t,r]=Og(e.ctimeSeconds,e.ctimeNanoseconds,e.ctimeMs,e.ctime),[n,a]=Og(e.mtimeSeconds,e.mtimeNanoseconds,e.mtimeMs,e.mtime);return{ctimeSeconds:t%br,ctimeNanoseconds:r%br,mtimeSeconds:n%br,mtimeNanoseconds:a%br,dev:e.dev%br,ino:e.ino%br,mode:x_(e.mode%br),uid:e.uid%br,gid:e.gid%br,size:e.size>-1?e.size%br:0}}function aH(e){let t="";for(const r of new Uint8Array(e))r<16&&(t+="0"),t+=r.toString(16);return t}let Yl=null;async function Kr(e){return Yl===null&&(Yl=await sH()),Yl?O_(e):iH(e)}function iH(e){return new Pw().update(e).digest("hex")}async function O_(e){const t=await crypto.subtle.digest("SHA-1",e);return aH(t)}async function sH(){try{if(await O_(new Uint8Array([]))==="da39a3ee5e6b4b0d3255bfef95601890afd80709")return!0}catch{}return!1}function oH(e){return{assumeValid:!!(e&32768),extended:!!(e&16384),stage:(e&12288)>>12,nameLength:e&4095}}function cH(e){const t=e.flags;return t.extended=!1,t.nameLength=Math.min(X.from(e.path).length,4095),(t.assumeValid?32768:0)+(t.extended?16384:0)+((t.stage&3)<<12)+(t.nameLength&4095)}class Un{constructor(t,r){this._dirty=!1,this._unmergedPaths=r||new Set,this._entries=t||new Map}_addEntry(t){if(t.flags.stage===0)t.stages=[t],this._entries.set(t.path,t),this._unmergedPaths.delete(t.path);else{let r=this._entries.get(t.path);r||(this._entries.set(t.path,t),r=t),r.stages[t.flags.stage]=t,this._unmergedPaths.add(t.path)}}static async from(t){if(X.isBuffer(t))return Un.fromBuffer(t);if(t===null)return new Un(null);throw new fe("invalid type passed to GitIndex.from")}static async fromBuffer(t){if(t.length===0)throw new fe("Index file is empty (.git/index)");const r=new Un,n=new Ar(t),a=n.toString("utf8",4);if(a!=="DIRC")throw new fe(`Invalid dircache magic file number: ${a}`);const i=await Kr(t.slice(0,-20)),s=t.slice(-20).toString("hex");if(s!==i)throw new fe(`Invalid checksum in GitIndex buffer: expected ${s} but saw ${i}`);const o=n.readUInt32BE();if(o!==2)throw new fe(`Unsupported dircache version: ${o}`);const c=n.readUInt32BE();let l=0;for(;!n.eof()&&l<c;){const u={};u.ctimeSeconds=n.readUInt32BE(),u.ctimeNanoseconds=n.readUInt32BE(),u.mtimeSeconds=n.readUInt32BE(),u.mtimeNanoseconds=n.readUInt32BE(),u.dev=n.readUInt32BE(),u.ino=n.readUInt32BE(),u.mode=n.readUInt32BE(),u.uid=n.readUInt32BE(),u.gid=n.readUInt32BE(),u.size=n.readUInt32BE(),u.oid=n.slice(20).toString("hex");const f=n.readUInt16BE();u.flags=oH(f);const h=t.indexOf(0,n.tell()+1)-n.tell();if(h<1)throw new fe(`Got a path length of: ${h}`);if(u.path=n.toString("utf8",h),u.path.includes("..\\")||u.path.includes("../"))throw new hi(u.path);let d=8-(n.tell()-12)%8;for(d===0&&(d=8);d--;){const p=n.readUInt8();if(p!==0)throw new fe(`Expected 1-8 null characters but got '${p}' after ${u.path}`);if(n.eof())throw new fe("Unexpected end of file")}u.stages=[],r._addEntry(u),l++}return r}get unmergedPaths(){return[...this._unmergedPaths]}get entries(){return[...this._entries.values()].sort(E_)}get entriesMap(){return this._entries}get entriesFlat(){return[...this.entries].flatMap(t=>t.stages.length>1?t.stages.filter(r=>r):t)}*[Symbol.iterator](){for(const t of this.entries)yield t}insert({filepath:t,stats:r,oid:n,stage:a=0}){r||(r={ctimeSeconds:0,ctimeNanoseconds:0,mtimeSeconds:0,mtimeNanoseconds:0,dev:0,ino:0,mode:0,uid:0,gid:0,size:0}),r=Ma(r);const i=X.from(t),s={ctimeSeconds:r.ctimeSeconds,ctimeNanoseconds:r.ctimeNanoseconds,mtimeSeconds:r.mtimeSeconds,mtimeNanoseconds:r.mtimeNanoseconds,dev:r.dev,ino:r.ino,mode:r.mode||33188,uid:r.uid,gid:r.gid,size:r.size,path:t,oid:n,flags:{assumeValid:!1,extended:!1,stage:a,nameLength:i.length<4095?i.length:4095},stages:[]};this._addEntry(s),this._dirty=!0}delete({filepath:t}){if(this._entries.has(t))this._entries.delete(t);else for(const r of this._entries.keys())r.startsWith(t+"/")&&this._entries.delete(r);this._unmergedPaths.has(t)&&this._unmergedPaths.delete(t),this._dirty=!0}clear(){this._entries.clear(),this._dirty=!0}has({filepath:t}){return this._entries.has(t)}render(){return this.entries.map(t=>`${t.mode.toString(8)} ${t.oid}    ${t.path}`).join(`
`)}static async _entryToBuffer(t){const r=X.from(t.path),n=Math.ceil((62+r.length+1)/8)*8,a=X.alloc(n),i=new Ar(a),s=Ma(t);return i.writeUInt32BE(s.ctimeSeconds),i.writeUInt32BE(s.ctimeNanoseconds),i.writeUInt32BE(s.mtimeSeconds),i.writeUInt32BE(s.mtimeNanoseconds),i.writeUInt32BE(s.dev),i.writeUInt32BE(s.ino),i.writeUInt32BE(s.mode),i.writeUInt32BE(s.uid),i.writeUInt32BE(s.gid),i.writeUInt32BE(s.size),i.write(t.oid,20,"hex"),i.writeUInt16BE(cH(t)),i.write(t.path,r.length,"utf8"),a}async toObject(){const t=X.alloc(12),r=new Ar(t);r.write("DIRC",4,"utf8"),r.writeUInt32BE(2),r.writeUInt32BE(this.entriesFlat.length);let n=[];for(const o of this.entries)if(n.push(Un._entryToBuffer(o)),o.stages.length>1)for(const c of o.stages)c&&c!==o&&n.push(Un._entryToBuffer(c));n=await Promise.all(n);const a=X.concat(n),i=X.concat([t,a]),s=await Kr(i);return X.concat([i,X.from(s,"hex")])}}function rc(e,t,r=!0,n=!0){const a=Ma(e),i=Ma(t);return r&&a.mode!==i.mode||a.mtimeSeconds!==i.mtimeSeconds||a.ctimeSeconds!==i.ctimeSeconds||a.uid!==i.uid||a.gid!==i.gid||n&&a.ino!==i.ino||a.size!==i.size}let Xl=null;const ba=Symbol("IndexCache");function lH(){return{map:new Map,stats:new Map}}async function uH(e,t,r){const n=await e.lstat(t),a=await e.read(t),i=await Un.from(a);r.map.set(t,i),r.stats.set(t,n)}async function fH(e,t,r){const n=r.stats.get(t);if(n===void 0)return!0;const a=await e.lstat(t);return n===null||a===null?!1:rc(n,a)}class mt{static async acquire({fs:t,gitdir:r,cache:n,allowUnmerged:a=!0},i){n[ba]||(n[ba]=lH());const s=`${r}/index`;Xl===null&&(Xl=new Jo({maxPending:1/0}));let o,c=[];return await Xl.acquire(s,async()=>{await fH(t,s,n[ba])&&await uH(t,s,n[ba]);const l=n[ba].map.get(s);if(c=l.unmergedPaths,c.length&&!a)throw new Is(c);if(o=await i(l),l._dirty){const u=await l.toObject();await t.write(s,u),n[ba].stats.set(s,await t.lstat(s)),l._dirty=!1}}),o}}function nc(e){const t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t>-1&&(e=e.slice(t+1)),e}function Ua(e){const t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t===-1?".":t===0?"/":e.slice(0,t)}function A_(e){const t=new Map,r=function(a){if(!t.has(a)){const i={type:"tree",fullpath:a,basename:nc(a),metadata:{},children:[]};t.set(a,i),i.parent=r(Ua(a)),i.parent&&i.parent!==i&&i.parent.children.push(i)}return t.get(a)},n=function(a,i){if(!t.has(a)){const s={type:"blob",fullpath:a,basename:nc(a),metadata:i,parent:r(Ua(a)),children:[]};s.parent&&s.parent.children.push(s),t.set(a,s)}return t.get(a)};r(".");for(const a of e)n(a.path,a);return t}function dH(e){switch(e){case 16384:return"tree";case 33188:return"blob";case 33261:return"blob";case 40960:return"blob";case 57344:return"commit"}throw new fe(`Unexpected GitTree entry mode: ${e.toString(8)}`)}class hH{constructor({fs:t,gitdir:r,cache:n}){this.treePromise=mt.acquire({fs:t,gitdir:r,cache:n},async function(i){return A_(i.entries)});const a=this;this.ConstructEntry=class{constructor(s){this._fullpath=s,this._type=!1,this._mode=!1,this._stat=!1,this._oid=!1}async type(){return a.type(this)}async mode(){return a.mode(this)}async stat(){return a.stat(this)}async content(){return a.content(this)}async oid(){return a.oid(this)}}}async readdir(t){const r=t._fullpath,a=(await this.treePromise).get(r);if(!a||a.type==="blob")return null;if(a.type!=="tree")throw new Error(`ENOTDIR: not a directory, scandir '${r}'`);const i=a.children.map(s=>s.fullpath);return i.sort(rl),i}async type(t){return t._type===!1&&await t.stat(),t._type}async mode(t){return t._mode===!1&&await t.stat(),t._mode}async stat(t){if(t._stat===!1){const n=(await this.treePromise).get(t._fullpath);if(!n)throw new Error(`ENOENT: no such file or directory, lstat '${t._fullpath}'`);const a=n.type==="tree"?{}:Ma(n.metadata);t._type=n.type==="tree"?"tree":dH(a.mode),t._mode=a.mode,n.type==="tree"?t._stat=void 0:t._stat=a}return t._stat}async content(t){}async oid(t){if(t._oid===!1){const n=(await this.treePromise).get(t._fullpath);t._oid=n.metadata.oid}return t._oid}}const nl=Symbol("GitWalkSymbol");function al(){const e=Object.create(null);return Object.defineProperty(e,nl,{value:function({fs:t,gitdir:r,cache:n}){return new hH({fs:t,gitdir:r,cache:n})}}),Object.freeze(e),e}class Be extends Oe{constructor(t){super(`Could not find ${t}.`),this.code=this.name=Be.code,this.data={what:t}}}Be.code="NotFoundError";class xt extends Oe{constructor(t,r,n,a){super(`Object ${t} ${a?`at ${a}`:""}was anticipated to be a ${n} but it is a ${r}.`),this.code=this.name=xt.code,this.data={oid:t,actual:r,expected:n,filepath:a}}}xt.code="ObjectTypeError";class En extends Oe{constructor(t){super(`Expected a 40-char hex object id but saw "${t}".`),this.code=this.name=En.code,this.data={value:t}}}En.code="InvalidOidError";class Ps extends Oe{constructor(t){super(`Could not find a fetch refspec for remote "${t}". Make sure the config file has an entry like the following:
[remote "${t}"]
	fetch = +refs/heads/*:refs/remotes/origin/*
`),this.code=this.name=Ps.code,this.data={remote:t}}}Ps.code="NoRefspecError";class ac{constructor(t){if(this.refs=new Map,this.parsedConfig=[],t){let r=null;this.parsedConfig=t.trim().split(`
`).map(n=>{if(/^\s*#/.test(n))return{line:n,comment:!0};const a=n.indexOf(" ");if(n.startsWith("^")){const i=n.slice(1);return this.refs.set(r+"^{}",i),{line:n,ref:r,peeled:i}}else{const i=n.slice(0,a);return r=n.slice(a+1),this.refs.set(r,i),{line:n,ref:r,oid:i}}})}return this}static from(t){return new ac(t)}delete(t){this.parsedConfig=this.parsedConfig.filter(r=>r.ref!==t),this.refs.delete(t)}toString(){return this.parsedConfig.map(({line:t})=>t).join(`
`)+`
`}}class ic{constructor({remotePath:t,localPath:r,force:n,matchPrefix:a}){Object.assign(this,{remotePath:t,localPath:r,force:n,matchPrefix:a})}static from(t){const[r,n,a,i,s]=t.match(/^(\+?)(.*?)(\*?):(.*?)(\*?)$/).slice(1),o=r==="+",c=a==="*";if(c!==(s==="*"))throw new fe("Invalid refspec");return new ic({remotePath:n,localPath:i,force:o,matchPrefix:c})}translate(t){if(this.matchPrefix){if(t.startsWith(this.remotePath))return this.localPath+t.replace(this.remotePath,"")}else if(t===this.remotePath)return this.localPath;return null}reverseTranslate(t){if(this.matchPrefix){if(t.startsWith(this.localPath))return this.remotePath+t.replace(this.localPath,"")}else if(t===this.localPath)return this.remotePath;return null}}class nh{constructor(t=[]){this.rules=t}static from(t){const r=[];for(const n of t)r.push(ic.from(n));return new nh(r)}add(t){const r=ic.from(t);this.rules.push(r)}translate(t){const r=[];for(const n of this.rules)for(const a of t){const i=n.translate(a);i&&r.push([a,i])}return r}translateOne(t){let r=null;for(const n of this.rules){const a=n.translate(t);a&&(r=a)}return r}localNamespaces(){return this.rules.filter(t=>t.matchPrefix).map(t=>t.localPath.replace(/\/$/,""))}}function pH(e,t){const r=e.replace(/\^\{\}$/,""),n=t.replace(/\^\{\}$/,""),a=-(r<n)||+(r>n);return a===0?e.endsWith("^{}")?1:-1:a}const Ag=new Map;function kg(e){let t=Ag.get(e);return t||(t=mH(e),Ag.set(e,t)),t}function mH(e){return e=e.split("/./").join("/").replace(/\/{2,}/g,"/"),e==="/."?"/":e==="./"||(e.startsWith("./")&&(e=e.slice(2)),e.endsWith("/.")&&(e=e.slice(0,-2)),e.length>1&&e.endsWith("/")&&(e=e.slice(0,-1)),e==="")?".":e}function q(...e){return kg(e.map(kg).join("/"))}const gH=e=>{e=e.toLowerCase();let t=parseInt(e);return e.endsWith("k")&&(t*=1024),e.endsWith("m")&&(t*=1024*1024),e.endsWith("g")&&(t*=1024*1024*1024),t},Ii=e=>{if(e=e.trim().toLowerCase(),e==="true"||e==="yes"||e==="on")return!0;if(e==="false"||e==="no"||e==="off")return!1;throw Error(`Expected 'true', 'false', 'yes', 'no', 'on', or 'off', but got ${e}`)},Cg={core:{filemode:Ii,bare:Ii,logallrefupdates:Ii,symlinks:Ii,ignorecase:Ii,bigFileThreshold:gH}},yH=/^\[([A-Za-z0-9-.]+)(?: "(.*)")?\]$/,vH=/^[A-Za-z0-9-.]+$/,wH=/^([A-Za-z][A-Za-z-]*)(?: *= *(.*))?$/,_H=/^[A-Za-z][A-Za-z-]*$/,bH=/^(.*?)( *[#;].*)$/,$H=e=>{const t=yH.exec(e);if(t!=null){const[r,n]=t.slice(1);return[r,n]}return null},SH=e=>{const t=wH.exec(e);if(t!=null){const[r,n="true"]=t.slice(1),a=EH(n),i=xH(a);return[r,i]}return null},EH=e=>{const t=bH.exec(e);if(t==null)return e;const[r,n]=t.slice(1);return Tg(r)&&Tg(n)?`${r}${n}`:r},Tg=e=>(e.match(/(?:^|[^\\])"/g)||[]).length%2!==0,xH=e=>e.split("").reduce((t,r,n,a)=>{const i=r==='"'&&a[n-1]!=="\\",s=r==="\\"&&a[n+1]==='"';return i||s?t:t+r},""),Ig=e=>e!=null?e.toLowerCase():null,Ku=(e,t,r)=>[Ig(e),t,Ig(r)].filter(n=>n!=null).join("."),Pg=e=>{const t=e.split("."),r=t.shift(),n=t.pop(),a=t.length?t.join("."):void 0;return{section:r,subsection:a,name:n,path:Ku(r,a,n),sectionPath:Ku(r,a,null)}},OH=(e,t)=>e.reduce((r,n,a)=>t(n)?a:r,-1);class ah{constructor(t){let r=null,n=null;this.parsedConfig=t?t.split(`
`).map(a=>{let i=null,s=null;const o=a.trim(),c=$H(o),l=c!=null;if(l)[r,n]=c;else{const f=SH(o);f!=null&&([i,s]=f)}const u=Ku(r,n,i);return{line:a,isSection:l,section:r,subsection:n,name:i,value:s,path:u}}):[]}static from(t){return new ah(t)}async get(t,r=!1){const n=Pg(t).path,a=this.parsedConfig.filter(i=>i.path===n).map(({section:i,name:s,value:o})=>{const c=Cg[i]&&Cg[i][s];return c?c(o):o});return r?a:a.pop()}async getall(t){return this.get(t,!0)}async getSubsections(t){return this.parsedConfig.filter(r=>r.section===t&&r.isSection).map(r=>r.subsection)}async deleteSection(t,r){this.parsedConfig=this.parsedConfig.filter(n=>!(n.section===t&&n.subsection===r))}async append(t,r){return this.set(t,r,!0)}async set(t,r,n=!1){const{section:a,subsection:i,name:s,path:o,sectionPath:c}=Pg(t),l=OH(this.parsedConfig,u=>u.path===o);if(r==null)l!==-1&&this.parsedConfig.splice(l,1);else if(l!==-1){const u=this.parsedConfig[l],f=Object.assign({},u,{name:s,value:r,modified:!0});n?this.parsedConfig.splice(l+1,0,f):this.parsedConfig[l]=f}else{const u=this.parsedConfig.findIndex(h=>h.path===c),f={section:a,subsection:i,name:s,value:r,modified:!0,path:o};if(vH.test(a)&&_H.test(s))if(u>=0)this.parsedConfig.splice(u+1,0,f);else{const h={section:a,subsection:i,modified:!0,path:c};this.parsedConfig.push(h,f)}}}toString(){return this.parsedConfig.map(({line:t,section:r,subsection:n,name:a,value:i,modified:s=!1})=>s?a!=null&&i!=null?typeof i=="string"&&/[#;]/.test(i)?`	${a} = "${i}"`:`	${a} = ${i}`:n!=null?`[${r} "${n}"]`:`[${r}]`:t).join(`
`)}}class lt{static async get({fs:t,gitdir:r}){const n=await t.read(`${r}/config`,{encoding:"utf8"});return ah.from(n)}static async save({fs:t,gitdir:r,config:n}){await t.write(`${r}/config`,n.toString(),{encoding:"utf8"})}}const go=e=>[`${e}`,`refs/${e}`,`refs/tags/${e}`,`refs/heads/${e}`,`refs/remotes/${e}`,`refs/remotes/${e}/HEAD`],AH=["config","description","index","shallow","commondir"];let Jl;async function nn(e,t){return Jl===void 0&&(Jl=new Jo),Jl.acquire(e,t)}class W{static async updateRemoteRefs({fs:t,gitdir:r,remote:n,refs:a,symrefs:i,tags:s,refspecs:o=void 0,prune:c=!1,pruneTags:l=!1}){for(const y of a.values())if(!y.match(/[0-9a-f]{40}/))throw new En(y);const u=await lt.get({fs:t,gitdir:r});if(!o){if(o=await u.getall(`remote.${n}.fetch`),o.length===0)throw new Ps(n);o.unshift(`+HEAD:refs/remotes/${n}/HEAD`)}const f=nh.from(o),h=new Map;if(l){const y=await W.listRefs({fs:t,gitdir:r,filepath:"refs/tags"});await W.deleteRefs({fs:t,gitdir:r,refs:y.map(g=>`refs/tags/${g}`)})}if(s){for(const y of a.keys())if(y.startsWith("refs/tags")&&!y.endsWith("^{}")&&!await W.exists({fs:t,gitdir:r,ref:y})){const g=a.get(y);h.set(y,g)}}const d=f.translate([...a.keys()]);for(const[y,g]of d){const v=a.get(y);h.set(g,v)}const p=f.translate([...i.keys()]);for(const[y,g]of p){const v=i.get(y),w=f.translateOne(v);w&&h.set(g,`ref: ${w}`)}const m=[];if(c){for(const y of f.localNamespaces()){const g=(await W.listRefs({fs:t,gitdir:r,filepath:y})).map(v=>`${y}/${v}`);for(const v of g)h.has(v)||m.push(v)}m.length>0&&await W.deleteRefs({fs:t,gitdir:r,refs:m})}for(const[y,g]of h)await nn(y,async()=>t.write(q(r,y),`${g.trim()}
`,"utf8"));return{pruned:m}}static async writeRef({fs:t,gitdir:r,ref:n,value:a}){if(!a.match(/[0-9a-f]{40}/))throw new En(a);await nn(n,async()=>t.write(q(r,n),`${a.trim()}
`,"utf8"))}static async writeSymbolicRef({fs:t,gitdir:r,ref:n,value:a}){await nn(n,async()=>t.write(q(r,n),`ref: ${a.trim()}
`,"utf8"))}static async deleteRef({fs:t,gitdir:r,ref:n}){return W.deleteRefs({fs:t,gitdir:r,refs:[n]})}static async deleteRefs({fs:t,gitdir:r,refs:n}){await Promise.all(n.map(o=>t.rm(q(r,o))));let a=await nn("packed-refs",async()=>t.read(`${r}/packed-refs`,{encoding:"utf8"}));const i=ac.from(a),s=i.refs.size;for(const o of n)i.refs.has(o)&&i.delete(o);i.refs.size<s&&(a=i.toString(),await nn("packed-refs",async()=>t.write(`${r}/packed-refs`,a,{encoding:"utf8"})))}static async resolve({fs:t,gitdir:r,ref:n,depth:a=void 0}){if(a!==void 0&&(a--,a===-1))return n;if(n.startsWith("ref: "))return n=n.slice(5),W.resolve({fs:t,gitdir:r,ref:n,depth:a});if(n.length===40&&/[0-9a-f]{40}/.test(n))return n;const i=await W.packedRefs({fs:t,gitdir:r}),s=go(n).filter(o=>!AH.includes(o));for(const o of s){const c=await nn(o,async()=>await t.read(`${r}/${o}`,{encoding:"utf8"})||i.get(o));if(c)return W.resolve({fs:t,gitdir:r,ref:c.trim(),depth:a})}throw new Be(n)}static async exists({fs:t,gitdir:r,ref:n}){try{return await W.expand({fs:t,gitdir:r,ref:n}),!0}catch{return!1}}static async expand({fs:t,gitdir:r,ref:n}){if(n.length===40&&/[0-9a-f]{40}/.test(n))return n;const a=await W.packedRefs({fs:t,gitdir:r}),i=go(n);for(const s of i)if(await nn(s,async()=>t.exists(`${r}/${s}`))||a.has(s))return s;throw new Be(n)}static async expandAgainstMap({ref:t,map:r}){const n=go(t);for(const a of n)if(await r.has(a))return a;throw new Be(t)}static resolveAgainstMap({ref:t,fullref:r=t,depth:n=void 0,map:a}){if(n!==void 0&&(n--,n===-1))return{fullref:r,oid:t};if(t.startsWith("ref: "))return t=t.slice(5),W.resolveAgainstMap({ref:t,fullref:r,depth:n,map:a});if(t.length===40&&/[0-9a-f]{40}/.test(t))return{fullref:r,oid:t};const i=go(t);for(const s of i){const o=a.get(s);if(o)return W.resolveAgainstMap({ref:o.trim(),fullref:s,depth:n,map:a})}throw new Be(t)}static async packedRefs({fs:t,gitdir:r}){const n=await nn("packed-refs",async()=>t.read(`${r}/packed-refs`,{encoding:"utf8"}));return ac.from(n).refs}static async listRefs({fs:t,gitdir:r,filepath:n}){const a=W.packedRefs({fs:t,gitdir:r});let i=null;try{i=await t.readdirDeep(`${r}/${n}`),i=i.map(s=>s.replace(`${r}/${n}/`,""))}catch{i=[]}for(let s of(await a).keys())s.startsWith(n)&&(s=s.replace(n+"/",""),i.includes(s)||i.push(s));return i.sort(pH),i}static async listBranches({fs:t,gitdir:r,remote:n}){return n?W.listRefs({fs:t,gitdir:r,filepath:`refs/remotes/${n}`}):W.listRefs({fs:t,gitdir:r,filepath:"refs/heads"})}static async listTags({fs:t,gitdir:r}){return(await W.listRefs({fs:t,gitdir:r,filepath:"refs/tags"})).filter(a=>!a.endsWith("^{}"))}}function kH(e,t){return rl(Ng(e),Ng(t))}function Ng(e){return e.mode==="040000"?e.path+"/":e.path}function k_(e){switch(e){case"040000":return"tree";case"100644":return"blob";case"100755":return"blob";case"120000":return"blob";case"160000":return"commit"}throw new fe(`Unexpected GitTree entry mode: ${e}`)}function CH(e){const t=[];let r=0;for(;r<e.length;){const n=e.indexOf(32,r);if(n===-1)throw new fe(`GitTree: Error parsing buffer at byte location ${r}: Could not find the next space character.`);const a=e.indexOf(0,r);if(a===-1)throw new fe(`GitTree: Error parsing buffer at byte location ${r}: Could not find the next null character.`);let i=e.slice(r,n).toString("utf8");i==="40000"&&(i="040000");const s=k_(i),o=e.slice(n+1,a).toString("utf8");if(o.includes("\\")||o.includes("/"))throw new hi(o);const c=e.slice(a+1,a+21).toString("hex");r=a+21,t.push({mode:i,path:o,oid:c,type:s})}return t}function TH(e){if(typeof e=="number"&&(e=e.toString(8)),e.match(/^0?4.*/))return"040000";if(e.match(/^1006.*/))return"100644";if(e.match(/^1007.*/))return"100755";if(e.match(/^120.*/))return"120000";if(e.match(/^160.*/))return"160000";throw new fe(`Could not understand file mode: ${e}`)}function IH(e){return!e.oid&&e.sha&&(e.oid=e.sha),e.mode=TH(e.mode),e.type||(e.type=k_(e.mode)),e}class Nt{constructor(t){if(X.isBuffer(t))this._entries=CH(t);else if(Array.isArray(t))this._entries=t.map(IH);else throw new fe("invalid type passed to GitTree constructor");this._entries.sort(E_)}static from(t){return new Nt(t)}render(){return this._entries.map(t=>`${t.mode} ${t.type} ${t.oid}    ${t.path}`).join(`
`)}toObject(){const t=[...this._entries];return t.sort(kH),X.concat(t.map(r=>{const n=X.from(r.mode.replace(/^0/,"")),a=X.from(" "),i=X.from(r.path,"utf8"),s=X.from([0]),o=X.from(r.oid,"hex");return X.concat([n,a,i,s,o])}))}entries(){return this._entries}*[Symbol.iterator](){for(const t of this._entries)yield t}}class pi{static wrap({type:t,object:r}){return X.concat([X.from(`${t} ${r.byteLength.toString()}\0`),X.from(r)])}static unwrap(t){const r=t.indexOf(32),n=t.indexOf(0),a=t.slice(0,r).toString("utf8"),i=t.slice(r+1,n).toString("utf8"),s=t.length-(n+1);if(parseInt(i)!==s)throw new fe(`Length mismatch: expected ${i} bytes but got ${s} instead.`);return{type:a,object:X.from(t.slice(n+1))}}}async function PH({fs:e,gitdir:t,oid:r}){const n=`objects/${r.slice(0,2)}/${r.slice(2)}`,a=await e.read(`${t}/${n}`);return a?{object:a,format:"deflated",source:n}:null}function NH(e,t){const r=new Ar(e),n=jg(r);if(n!==t.byteLength)throw new fe(`applyDelta expected source buffer to be ${n} bytes but the provided buffer was ${t.length} bytes`);const a=jg(r);let i;const s=Fg(r,t);if(s.byteLength===a)i=s;else{i=X.alloc(a);const o=new Ar(i);for(o.copy(s);!r.eof();)o.copy(Fg(r,t));const c=o.tell();if(a!==c)throw new fe(`applyDelta expected target buffer to be ${a} bytes but the resulting buffer was ${c} bytes`)}return i}function jg(e){let t=0,r=0,n=null;do n=e.readUInt8(),t|=(n&127)<<r,r+=7;while(n&128);return t}function Rg(e,t,r){let n=0,a=0;for(;r--;)t&1&&(n|=e.readUInt8()<<a),t>>=1,a+=8;return n}function Fg(e,t){const r=e.readUInt8(),n=128,a=15,i=112;if(r&n){const s=Rg(e,r&a,4);let o=Rg(e,(r&i)>>4,3);return o===0&&(o=65536),t.slice(s,s+o)}else return e.slice(r)}function jH(e){let t=[e];return{next(){return Promise.resolve({done:t.length===0,value:t.pop()})},return(){return t=[],{}},[Symbol.asyncIterator](){return this}}}function C_(e){return e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]?e[Symbol.iterator]():e.next?e:jH(e)}class T_{constructor(t){if(typeof X>"u")throw new Error("Missing Buffer dependency");this.stream=C_(t),this.buffer=null,this.cursor=0,this.undoCursor=0,this.started=!1,this._ended=!1,this._discardedBytes=0}eof(){return this._ended&&this.cursor===this.buffer.length}tell(){return this._discardedBytes+this.cursor}async byte(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(1),this.buffer[this.undoCursor]}async chunk(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(this.buffer.length),this.buffer.slice(this.undoCursor,this.cursor)}async read(t){if(!this.eof())return this.started||await this._init(),this.cursor+t>this.buffer.length&&(this._trim(),await this._accumulate(t)),this._moveCursor(t),this.buffer.slice(this.undoCursor,this.cursor)}async skip(t){this.eof()||(this.started||await this._init(),this.cursor+t>this.buffer.length&&(this._trim(),await this._accumulate(t)),this._moveCursor(t))}async undo(){this.cursor=this.undoCursor}async _next(){this.started=!0;let{done:t,value:r}=await this.stream.next();return t&&(this._ended=!0,!r)?X.alloc(0):(r&&(r=X.from(r)),r)}_trim(){this.buffer=this.buffer.slice(this.undoCursor),this.cursor-=this.undoCursor,this._discardedBytes+=this.undoCursor,this.undoCursor=0}_moveCursor(t){this.undoCursor=this.cursor,this.cursor+=t,this.cursor>this.buffer.length&&(this.cursor=this.buffer.length)}async _accumulate(t){if(this._ended)return;const r=[this.buffer];for(;this.cursor+t>RH(r);){const n=await this._next();if(this._ended)break;r.push(n)}this.buffer=X.concat(r)}async _loadnext(){this._discardedBytes+=this.buffer.length,this.undoCursor=0,this.cursor=0,this.buffer=await this._next()}async _init(){this.buffer=await this._next()}}function RH(e){return e.reduce((t,r)=>t+r.length,0)}async function FH(e,t){const r=new T_(e);let n=await r.read(4);if(n=n.toString("utf8"),n!=="PACK")throw new fe(`Invalid PACK header '${n}'`);let a=await r.read(4);if(a=a.readUInt32BE(0),a!==2)throw new fe(`Invalid packfile version: ${a}`);let i=await r.read(4);if(i=i.readUInt32BE(0),!(i<1))for(;!r.eof()&&i--;){const s=r.tell(),{type:o,length:c,ofs:l,reference:u}=await DH(r),f=new th.Inflate;for(;!f.result;){const h=await r.chunk();if(!h)break;if(f.push(h,!1),f.err)throw new fe(`Pako error: ${f.msg}`);if(f.result){if(f.result.length!==c)throw new fe("Inflated object size is different from that stated in packfile.");await r.undo(),await r.read(h.length-f.strm.avail_in);const d=r.tell();await t({data:f.result,type:o,num:i,offset:s,end:d,reference:u,ofs:l})}}}}async function DH(e){let t=await e.byte();const r=t>>4&7;let n=t&15;if(t&128){let s=4;do t=await e.byte(),n|=(t&127)<<s,s+=7;while(t&128)}let a,i;if(r===6){let s=0;a=0;const o=[];do t=await e.byte(),a|=(t&127)<<s,s+=7,o.push(t);while(t&128);i=X.from(o)}return r===7&&(i=await e.read(20)),{type:r,length:n,ofs:a,reference:i}}async function I_(e){return th.inflate(e)}function MH(e){const t=[];let r=0,n=0;do{r=e.readUInt8();const a=r&127;t.push(a),n=r&128}while(n);return t.reduce((a,i)=>a+1<<7|i,-1)}function UH(e,t){let r=t,n=4,a=null;do a=e.readUInt8(),r|=(a&127)<<n,n+=7;while(a&128);return r}class Ba{constructor(t){Object.assign(this,t),this.offsetCache={}}static async fromIdx({idx:t,getExternalRefDelta:r}){const n=new Ar(t);if(n.slice(4).toString("hex")!=="ff744f63")return;const i=n.readUInt32BE();if(i!==2)throw new fe(`Unable to read version ${i} packfile IDX. (Only version 2 supported)`);if(t.byteLength>2048*1024*1024)throw new fe("To keep implementation simple, I haven't implemented the layer 5 feature needed to support packfiles > 2GB in size.");n.seek(n.tell()+4*255);const s=n.readUInt32BE(),o=[];for(let u=0;u<s;u++){const f=n.slice(20).toString("hex");o[u]=f}n.seek(n.tell()+4*s);const c=new Map;for(let u=0;u<s;u++)c.set(o[u],n.readUInt32BE());const l=n.slice(20).toString("hex");return new Ba({hashes:o,crcs:{},offsets:c,packfileSha:l,getExternalRefDelta:r})}static async fromPack({pack:t,getExternalRefDelta:r,onProgress:n}){const a={1:"commit",2:"tree",3:"blob",4:"tag",6:"ofs-delta",7:"ref-delta"},i={},s=t.slice(-20).toString("hex"),o=[],c={},l=new Map;let u=null,f=null;await FH([t],async({data:y,type:g,reference:v,offset:w,num:_})=>{u===null&&(u=_);const b=Math.floor((u-_)*100/u);b!==f&&n&&await n({phase:"Receiving objects",loaded:u-_,total:u}),f=b,g=a[g],["commit","tree","blob","tag"].includes(g)?i[w]={type:g,offset:w}:g==="ofs-delta"?i[w]={type:g,offset:w}:g==="ref-delta"&&(i[w]={type:g,offset:w})});const h=Object.keys(i).map(Number);for(const[y,g]of h.entries()){const v=y+1===h.length?t.byteLength-20:h[y+1],w=i[g],_=NV.buf(t.slice(g,v))>>>0;w.end=v,w.crc=_}const d=new Ba({pack:Promise.resolve(t),packfileSha:s,crcs:c,hashes:o,offsets:l,getExternalRefDelta:r});f=null;let p=0;const m=[0,0,0,0,0,0,0,0,0,0,0,0];for(let y in i){y=Number(y);const g=Math.floor(p*100/u);g!==f&&n&&await n({phase:"Resolving deltas",loaded:p,total:u}),p++,f=g;const v=i[y];if(!v.oid)try{d.readDepth=0,d.externalReadDepth=0;const{type:w,object:_}=await d.readSlice({start:y});m[d.readDepth]+=1;const b=await Kr(pi.wrap({type:w,object:_}));v.oid=b,o.push(b),l.set(b,y),c[b]=v.crc}catch{continue}}return o.sort(),d}async toBuffer(){const t=[],r=(l,u)=>{t.push(X.from(l,u))};r("ff744f63","hex"),r("00000002","hex");const n=new Ar(X.alloc(256*4));for(let l=0;l<256;l++){let u=0;for(const f of this.hashes)parseInt(f.slice(0,2),16)<=l&&u++;n.writeUInt32BE(u)}t.push(n.buffer);for(const l of this.hashes)r(l,"hex");const a=new Ar(X.alloc(this.hashes.length*4));for(const l of this.hashes)a.writeUInt32BE(this.crcs[l]);t.push(a.buffer);const i=new Ar(X.alloc(this.hashes.length*4));for(const l of this.hashes)i.writeUInt32BE(this.offsets.get(l));t.push(i.buffer),r(this.packfileSha,"hex");const s=X.concat(t),o=await Kr(s),c=X.alloc(20);return c.write(o,"hex"),X.concat([s,c])}async load({pack:t}){this.pack=t}async unload(){this.pack=null}async read({oid:t}){if(!this.offsets.get(t)){if(this.getExternalRefDelta)return this.externalReadDepth++,this.getExternalRefDelta(t);throw new fe(`Could not read object ${t} from packfile`)}const r=this.offsets.get(t);return this.readSlice({start:r})}async readSlice({start:t}){if(this.offsetCache[t])return Object.assign({},this.offsetCache[t]);this.readDepth++;const r={16:"commit",32:"tree",48:"blob",64:"tag",96:"ofs_delta",112:"ref_delta"};if(!this.pack)throw new fe("Tried to read from a GitPackIndex with no packfile loaded into memory");const n=(await this.pack).slice(t),a=new Ar(n),i=a.readUInt8(),s=i&112;let o=r[s];if(o===void 0)throw new fe("Unrecognized type: 0b"+s.toString(2));const c=i&15;let l=c;i&128&&(l=UH(a,c));let f=null,h=null;if(o==="ofs_delta"){const p=MH(a),m=t-p;({object:f,type:o}=await this.readSlice({start:m}))}if(o==="ref_delta"){const p=a.slice(20).toString("hex");({object:f,type:o}=await this.read({oid:p}))}const d=n.slice(a.tell());if(h=X.from(await I_(d)),h.byteLength!==l)throw new fe(`Packfile told us object would have length ${l} but it had length ${h.byteLength}`);return f&&(h=X.from(NH(h,f))),this.readDepth>3&&(this.offsetCache[t]={type:o,object:h}),{type:o,format:"content",object:h}}}const yo=Symbol("PackfileCache");async function BH({fs:e,filename:t,getExternalRefDelta:r,emitter:n,emitterPrefix:a}){const i=await e.read(t);return Ba.fromIdx({idx:i,getExternalRefDelta:r})}function ih({fs:e,cache:t,filename:r,getExternalRefDelta:n,emitter:a,emitterPrefix:i}){t[yo]||(t[yo]=new Map);let s=t[yo].get(r);return s||(s=BH({fs:e,filename:r,getExternalRefDelta:n,emitter:a,emitterPrefix:i}),t[yo].set(r,s)),s}async function LH({fs:e,cache:t,gitdir:r,oid:n,format:a="content",getExternalRefDelta:i}){let s=await e.readdir(q(r,"objects/pack"));s=s.filter(o=>o.endsWith(".idx"));for(const o of s){const c=`${r}/objects/pack/${o}`,l=await ih({fs:e,cache:t,filename:c,getExternalRefDelta:i});if(l.error)throw new fe(l.error);if(l.offsets.has(n)){if(!l.pack){const f=c.replace(/idx$/,"pack");l.pack=e.read(f)}const u=await l.read({oid:n,getExternalRefDelta:i});return u.format="content",u.source=`objects/pack/${o.replace(/idx$/,"pack")}`,u}}return null}async function Ze({fs:e,cache:t,gitdir:r,oid:n,format:a="content"}){const i=o=>Ze({fs:e,cache:t,gitdir:r,oid:o});let s;if(n==="4b825dc642cb6eb9a060e54bf8d69288fbee4904"&&(s={format:"wrapped",object:X.from("tree 0\0")}),s||(s=await PH({fs:e,gitdir:r,oid:n})),s||(s=await LH({fs:e,cache:t,gitdir:r,oid:n,getExternalRefDelta:i})),!s)throw new Be(n);if(a==="deflated")return s;if(s.format==="deflated"&&(s.object=X.from(await I_(s.object)),s.format="wrapped"),s.format==="wrapped"){if(a==="wrapped"&&s.format==="wrapped")return s;const o=await Kr(s.object);if(o!==n)throw new fe(`SHA check failed! Expected ${n}, computed ${o}`);const{object:c,type:l}=pi.unwrap(s.object);s.type=l,s.object=c,s.format="content"}if(s.format==="content")return a==="content"?s:void 0;throw new fe(`invalid format "${s.format}"`)}class dr extends Oe{constructor(t,r,n=!0){super(`Failed to create ${t} at ${r} because it already exists.${n?` (Hint: use 'force: true' parameter to overwrite existing ${t}.)`:""}`),this.code=this.name=dr.code,this.data={noun:t,where:r,canForce:n}}}dr.code="AlreadyExistsError";class Ns extends Oe{constructor(t,r,n){super(`Found multiple ${t} matching "${r}" (${n.join(", ")}). Use a longer abbreviation length to disambiguate them.`),this.code=this.name=Ns.code,this.data={nouns:t,short:r,matches:n}}}Ns.code="AmbiguousError";class js extends Oe{constructor(t){super(`Your local changes to the following files would be overwritten by checkout: ${t.join(", ")}`),this.code=this.name=js.code,this.data={filepaths:t}}}js.code="CheckoutConflictError";class Rs extends Oe{constructor(t,r){super(`Failed to checkout "${t}" because commit ${r} is not available locally. Do a git fetch to make the branch available locally.`),this.code=this.name=Rs.code,this.data={ref:t,oid:r}}}Rs.code="CommitNotFetchedError";class Fs extends Oe{constructor(){super("Empty response from git server."),this.code=this.name=Fs.code,this.data={}}}Fs.code="EmptyServerResponseError";class Ds extends Oe{constructor(){super("A simple fast-forward merge was not possible."),this.code=this.name=Ds.code,this.data={}}}Ds.code="FastForwardError";class Ms extends Oe{constructor(t,r){super(`One or more branches were not updated: ${t}`),this.code=this.name=Ms.code,this.data={prettyDetails:t,result:r}}}Ms.code="GitPushError";class La extends Oe{constructor(t,r,n){super(`HTTP Error: ${t} ${r}`),this.code=this.name=La.code,this.data={statusCode:t,statusMessage:r,response:n}}}La.code="HttpError";class xn extends Oe{constructor(t){let r="invalid filepath";t==="leading-slash"||t==="trailing-slash"?r='"filepath" parameter should not include leading or trailing directory separators because these can cause problems on some platforms.':t==="directory"&&(r='"filepath" should not be a directory.'),super(r),this.code=this.name=xn.code,this.data={reason:t}}}xn.code="InvalidFilepathError";class Gr extends Oe{constructor(t,r){super(`"${t}" would be an invalid git reference. (Hint: a valid alternative would be "${r}".)`),this.code=this.name=Gr.code,this.data={ref:t,suggestion:r}}}Gr.code="InvalidRefNameError";class Us extends Oe{constructor(t){super(`Maximum search depth of ${t} exceeded.`),this.code=this.name=Us.code,this.data={depth:t}}}Us.code="MaxDepthError";class mi extends Oe{constructor(){super("Merges with conflicts are not supported yet."),this.code=this.name=mi.code,this.data={}}}mi.code="MergeNotSupportedError";class gi extends Oe{constructor(t,r,n,a){super(`Automatic merge failed with one or more merge conflicts in the following files: ${t.toString()}. Fix conflicts then commit the result.`),this.code=this.name=gi.code,this.data={filepaths:t,bothModified:r,deleteByUs:n,deleteByTheirs:a}}}gi.code="MergeConflictError";class Et extends Oe{constructor(t){super(`No name was provided for ${t} in the argument or in the .git/config file.`),this.code=this.name=Et.code,this.data={role:t}}}Et.code="MissingNameError";class Ut extends Oe{constructor(t){super(`The function requires a "${t}" parameter but none was provided.`),this.code=this.name=Ut.code,this.data={parameter:t}}}Ut.code="MissingParameterError";class Bs extends Oe{constructor(t){super('There are multiple errors that were thrown by the method. Please refer to the "errors" property to see more'),this.code=this.name=Bs.code,this.data={errors:t},this.errors=t}}Bs.code="MultipleGitError";class sa extends Oe{constructor(t,r){super(`Expected "${t}" but received "${r}".`),this.code=this.name=sa.code,this.data={expected:t,actual:r}}}sa.code="ParseError";class za extends Oe{constructor(t){let r="";t==="not-fast-forward"?r=" because it was not a simple fast-forward":t==="tag-exists"&&(r=" because tag already exists"),super(`Push rejected${r}. Use "force: true" to override.`),this.code=this.name=za.code,this.data={reason:t}}}za.code="PushRejectedError";class mn extends Oe{constructor(t,r){super(`Remote does not support the "${t}" so the "${r}" parameter cannot be used.`),this.code=this.name=mn.code,this.data={capability:t,parameter:r}}}mn.code="RemoteCapabilityError";class Ls extends Oe{constructor(t,r){super(`Remote did not reply using the "smart" HTTP protocol. Expected "001e# service=git-upload-pack" but received: ${t}`),this.code=this.name=Ls.code,this.data={preview:t,response:r}}}Ls.code="SmartHttpError";class zs extends Oe{constructor(t,r,n){super(`Git remote "${t}" uses an unrecognized transport protocol: "${r}"`),this.code=this.name=zs.code,this.data={url:t,transport:r,suggestion:n}}}zs.code="UnknownTransportError";class Vs extends Oe{constructor(t){super(`Cannot parse remote URL: "${t}"`),this.code=this.name=Vs.code,this.data={url:t}}}Vs.code="UrlParseError";class qs extends Oe{constructor(){super("The operation was canceled."),this.code=this.name=qs.code,this.data={}}}qs.code="UserCanceledError";class Hs extends Oe{constructor(t){super(`Could not merge index: Entry for '${t}' is not up to date. Either reset the index entry to HEAD, or stage your unstaged changes.`),this.code=this.name=Hs.code,this.data={filepath:t}}}Hs.code="IndexResetError";var zH=Object.freeze({__proto__:null,AlreadyExistsError:dr,AmbiguousError:Ns,CheckoutConflictError:js,CommitNotFetchedError:Rs,EmptyServerResponseError:Fs,FastForwardError:Ds,GitPushError:Ms,HttpError:La,InternalError:fe,InvalidFilepathError:xn,InvalidOidError:En,InvalidRefNameError:Gr,MaxDepthError:Us,MergeNotSupportedError:mi,MergeConflictError:gi,MissingNameError:Et,MissingParameterError:Ut,MultipleGitError:Bs,NoRefspecError:Ps,NotFoundError:Be,ObjectTypeError:xt,ParseError:sa,PushRejectedError:za,RemoteCapabilityError:mn,SmartHttpError:Ls,UnknownTransportError:zs,UnsafeFilepathError:hi,UrlParseError:Vs,UserCanceledError:qs,UnmergedPathsError:Is,IndexResetError:Hs});function Gu({name:e,email:t,timestamp:r,timezoneOffset:n}){return n=VH(n),`${e} <${t}> ${r} ${n}`}function VH(e){const t=qH(HH(e));e=Math.abs(e);const r=Math.floor(e/60);e-=r*60;let n=String(r),a=String(e);return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),(t===-1?"-":"+")+n+a}function qH(e){return Math.sign(e)||(Object.is(e,-0)?-1:1)}function HH(e){return e===0?e:-e}function Br(e){return e=e.replace(/\r/g,""),e=e.replace(/^\n+/,""),e=e.replace(/\n+$/,"")+`
`,e}function sc(e){const[,t,r,n,a]=e.match(/^(.*) <(.*)> (.*) (.*)$/);return{name:t,email:r,timestamp:Number(n),timezoneOffset:KH(a)}}function KH(e){let[,t,r,n]=e.match(/(\+|-)(\d\d)(\d\d)/);return n=(t==="+"?1:-1)*(Number(r)*60+Number(n)),GH(n)}function GH(e){return e===0?e:-e}class St{constructor(t){if(typeof t=="string")this._tag=t;else if(X.isBuffer(t))this._tag=t.toString("utf8");else if(typeof t=="object")this._tag=St.render(t);else throw new fe("invalid type passed to GitAnnotatedTag constructor")}static from(t){return new St(t)}static render(t){return`object ${t.object}
type ${t.type}
tag ${t.tag}
tagger ${Gu(t.tagger)}

${t.message}
${t.gpgsig?t.gpgsig:""}`}justHeaders(){return this._tag.slice(0,this._tag.indexOf(`

`))}message(){const t=this.withoutSignature();return t.slice(t.indexOf(`

`)+2)}parse(){return Object.assign(this.headers(),{message:this.message(),gpgsig:this.gpgsig()})}render(){return this._tag}headers(){const t=this.justHeaders().split(`
`),r=[];for(const a of t)a[0]===" "?r[r.length-1]+=`
`+a.slice(1):r.push(a);const n={};for(const a of r){const i=a.slice(0,a.indexOf(" ")),s=a.slice(a.indexOf(" ")+1);Array.isArray(n[i])?n[i].push(s):n[i]=s}return n.tagger&&(n.tagger=sc(n.tagger)),n.committer&&(n.committer=sc(n.committer)),n}withoutSignature(){const t=Br(this._tag);return t.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1?t:t.slice(0,t.lastIndexOf(`
-----BEGIN PGP SIGNATURE-----`))}gpgsig(){if(this._tag.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1)return;const t=this._tag.slice(this._tag.indexOf("-----BEGIN PGP SIGNATURE-----"),this._tag.indexOf("-----END PGP SIGNATURE-----")+27);return Br(t)}payload(){return this.withoutSignature()+`
`}toObject(){return X.from(this._tag,"utf8")}static async sign(t,r,n){const a=t.payload();let{signature:i}=await r({payload:a,secretKey:n});i=Br(i);const s=a+i;return St.from(s)}}function Ql(e){return e.trim().split(`
`).map(t=>" "+t).join(`
`)+`
`}function WH(e){return e.split(`
`).map(t=>t.replace(/^ /,"")).join(`
`)}class Ge{constructor(t){if(typeof t=="string")this._commit=t;else if(X.isBuffer(t))this._commit=t.toString("utf8");else if(typeof t=="object")this._commit=Ge.render(t);else throw new fe("invalid type passed to GitCommit constructor")}static fromPayloadSignature({payload:t,signature:r}){const n=Ge.justHeaders(t),a=Ge.justMessage(t),i=Br(n+`
gpgsig`+Ql(r)+`
`+a);return new Ge(i)}static from(t){return new Ge(t)}toObject(){return X.from(this._commit,"utf8")}headers(){return this.parseHeaders()}message(){return Ge.justMessage(this._commit)}parse(){return Object.assign({message:this.message()},this.headers())}static justMessage(t){return Br(t.slice(t.indexOf(`

`)+2))}static justHeaders(t){return t.slice(0,t.indexOf(`

`))}parseHeaders(){const t=Ge.justHeaders(this._commit).split(`
`),r=[];for(const a of t)a[0]===" "?r[r.length-1]+=`
`+a.slice(1):r.push(a);const n={parent:[]};for(const a of r){const i=a.slice(0,a.indexOf(" ")),s=a.slice(a.indexOf(" ")+1);Array.isArray(n[i])?n[i].push(s):n[i]=s}return n.author&&(n.author=sc(n.author)),n.committer&&(n.committer=sc(n.committer)),n}static renderHeaders(t){let r="";if(t.tree?r+=`tree ${t.tree}
`:r+=`tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904
`,t.parent){if(t.parent.length===void 0)throw new fe("commit 'parent' property should be an array");for(const i of t.parent)r+=`parent ${i}
`}const n=t.author;r+=`author ${Gu(n)}
`;const a=t.committer||t.author;return r+=`committer ${Gu(a)}
`,t.gpgsig&&(r+="gpgsig"+Ql(t.gpgsig)),r}static render(t){return Ge.renderHeaders(t)+`
`+Br(t.message)}render(){return this._commit}withoutSignature(){const t=Br(this._commit);if(t.indexOf(`
gpgsig`)===-1)return t;const r=t.slice(0,t.indexOf(`
gpgsig`)),n=t.slice(t.indexOf(`-----END PGP SIGNATURE-----
`)+28);return Br(r+`
`+n)}isolateSignature(){const t=this._commit.slice(this._commit.indexOf("-----BEGIN PGP SIGNATURE-----"),this._commit.indexOf("-----END PGP SIGNATURE-----")+27);return WH(t)}static async sign(t,r,n){const a=t.withoutSignature(),i=Ge.justMessage(t._commit);let{signature:s}=await r({payload:a,secretKey:n});s=Br(s);const c=Ge.justHeaders(t._commit)+`
gpgsig`+Ql(s)+`
`+i;return Ge.from(c)}}async function Va({fs:e,cache:t,gitdir:r,oid:n}){if(n==="4b825dc642cb6eb9a060e54bf8d69288fbee4904")return{tree:Nt.from([]),oid:n};const{type:a,object:i}=await Ze({fs:e,cache:t,gitdir:r,oid:n});if(a==="tag")return n=St.from(i).parse().object,Va({fs:e,cache:t,gitdir:r,oid:n});if(a==="commit")return n=Ge.from(i).parse().tree,Va({fs:e,cache:t,gitdir:r,oid:n});if(a!=="tree")throw new xt(n,a,"tree");return{tree:Nt.from(i),oid:n}}class ZH{constructor({fs:t,gitdir:r,ref:n,cache:a}){this.fs=t,this.cache=a,this.gitdir=r,this.mapPromise=(async()=>{const s=new Map;let o;try{o=await W.resolve({fs:t,gitdir:r,ref:n})}catch(l){l instanceof Be&&(o="4b825dc642cb6eb9a060e54bf8d69288fbee4904")}const c=await Va({fs:t,cache:this.cache,gitdir:r,oid:o});return c.type="tree",c.mode="40000",s.set(".",c),s})();const i=this;this.ConstructEntry=class{constructor(o){this._fullpath=o,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return i.type(this)}async mode(){return i.mode(this)}async stat(){return i.stat(this)}async content(){return i.content(this)}async oid(){return i.oid(this)}}}async readdir(t){const r=t._fullpath,{fs:n,cache:a,gitdir:i}=this,s=await this.mapPromise,o=s.get(r);if(!o)throw new Error(`No obj for ${r}`);const c=o.oid;if(!c)throw new Error(`No oid for obj ${JSON.stringify(o)}`);if(o.type!=="tree")return null;const{type:l,object:u}=await Ze({fs:n,cache:a,gitdir:i,oid:c});if(l!==o.type)throw new xt(c,l,o.type);const f=Nt.from(u);for(const h of f)s.set(q(r,h.path),h);return f.entries().map(h=>q(r,h.path))}async type(t){if(t._type===!1){const r=await this.mapPromise,{type:n}=r.get(t._fullpath);t._type=n}return t._type}async mode(t){if(t._mode===!1){const r=await this.mapPromise,{mode:n}=r.get(t._fullpath);t._mode=x_(parseInt(n,8))}return t._mode}async stat(t){}async content(t){if(t._content===!1){const r=await this.mapPromise,{fs:n,cache:a,gitdir:i}=this,o=r.get(t._fullpath).oid,{type:c,object:l}=await Ze({fs:n,cache:a,gitdir:i,oid:o});c!=="blob"?t._content=void 0:t._content=new Uint8Array(l)}return t._content}async oid(t){if(t._oid===!1){const n=(await this.mapPromise).get(t._fullpath);t._oid=n.oid}return t._oid}}function gn({ref:e="HEAD"}={}){const t=Object.create(null);return Object.defineProperty(t,nl,{value:function({fs:r,gitdir:n,cache:a}){return new ZH({fs:r,gitdir:n,ref:e,cache:a})}}),Object.freeze(t),t}class YH{constructor({fs:t,dir:r,gitdir:n,cache:a}){this.fs=t,this.cache=a,this.dir=r,this.gitdir=n;const i=this;this.ConstructEntry=class{constructor(o){this._fullpath=o,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return i.type(this)}async mode(){return i.mode(this)}async stat(){return i.stat(this)}async content(){return i.content(this)}async oid(){return i.oid(this)}}}async readdir(t){const r=t._fullpath,{fs:n,dir:a}=this,i=await n.readdir(q(a,r));return i===null?null:i.map(s=>q(r,s))}async type(t){return t._type===!1&&await t.stat(),t._type}async mode(t){return t._mode===!1&&await t.stat(),t._mode}async stat(t){if(t._stat===!1){const{fs:r,dir:n}=this;let a=await r.lstat(`${n}/${t._fullpath}`);if(!a)throw new Error(`ENOENT: no such file or directory, lstat '${t._fullpath}'`);let i=a.isDirectory()?"tree":"blob";i==="blob"&&!a.isFile()&&!a.isSymbolicLink()&&(i="special"),t._type=i,a=Ma(a),t._mode=a.mode,a.size===-1&&t._actualSize&&(a.size=t._actualSize),t._stat=a}return t._stat}async content(t){if(t._content===!1){const{fs:r,dir:n,gitdir:a}=this;if(await t.type()==="tree")t._content=void 0;else{const s=await(await lt.get({fs:r,gitdir:a})).get("core.autocrlf"),o=await r.read(`${n}/${t._fullpath}`,{autocrlf:s});t._actualSize=o.length,t._stat&&t._stat.size===-1&&(t._stat.size=t._actualSize),t._content=new Uint8Array(o)}}return t._content}async oid(t){if(t._oid===!1){const{fs:r,gitdir:n,cache:a}=this;let i;await mt.acquire({fs:r,gitdir:n,cache:a},async function(s){const o=s.entriesMap.get(t._fullpath),c=await t.stat(),u=await(await lt.get({fs:r,gitdir:n})).get("core.filemode"),f=Sr.platform!=="win32";!o||rc(c,o,u,f)?await t.content()===void 0?i=void 0:(i=await Kr(pi.wrap({type:"blob",object:await t.content()})),o&&i===o.oid&&(!u||c.mode===o.mode)&&rc(c,o,u,f)&&s.insert({filepath:t._fullpath,stats:c,oid:i})):i=o.oid}),t._oid=i}return t._oid}}function il(){const e=Object.create(null);return Object.defineProperty(e,nl,{value:function({fs:t,dir:r,gitdir:n,cache:a}){return new YH({fs:t,dir:r,gitdir:n,cache:a})}}),Object.freeze(e),e}function XH(e,t){const r=t-e;return Array.from({length:r},(n,a)=>e+a)}const P_=typeof Array.prototype.flat>"u"?e=>e.reduce((t,r)=>t.concat(r),[]):e=>e.flat();class JH{constructor(){this.value=null}consider(t){t!=null&&(this.value===null?this.value=t:t<this.value&&(this.value=t))}reset(){this.value=null}}function*QH(e){const t=new JH;let r;const n=[],a=e.length;for(let i=0;i<a;i++)n[i]=e[i].next().value,n[i]!==void 0&&t.consider(n[i]);if(t.value!==null)for(;;){const i=[];r=t.value,t.reset();for(let s=0;s<a;s++)n[s]!==void 0&&n[s]===r?(i[s]=n[s],n[s]=e[s].next().value):i[s]=null,n[s]!==void 0&&t.consider(n[s]);if(yield i,t.value===null)return}}async function qa({fs:e,cache:t,dir:r,gitdir:n,trees:a,map:i=async(c,l)=>l,reduce:s=async(c,l)=>{const u=P_(l);return c!==void 0&&u.unshift(c),u},iterate:o=(c,l)=>Promise.all([...l].map(c))}){const c=a.map(d=>d[nl]({fs:e,dir:r,gitdir:n,cache:t})),l=new Array(c.length).fill("."),u=XH(0,c.length),f=async d=>{u.map(y=>{d[y]=d[y]&&new c[y].ConstructEntry(d[y])});const m=(await Promise.all(u.map(y=>d[y]?c[y].readdir(d[y]):[]))).map(y=>y===null?[]:y).map(y=>y[Symbol.iterator]());return{entries:d,children:QH(m)}},h=async d=>{const{entries:p,children:m}=await f(d),y=p.find(v=>v&&v._fullpath)._fullpath,g=await i(y,p);if(g!==null){let v=await o(h,m);return v=v.filter(w=>w!==void 0),s(g,v)}};return h(l)}async function Wu(e,t){const r=await e.readdir(t);r==null?await e.rm(t):r.length?await Promise.all(r.map(n=>{const a=q(t,n);return e.lstat(a).then(i=>{if(i)return i.isDirectory()?Wu(e,a):e.rm(a)})})).then(()=>e.rmdir(t)):await e.rmdir(t)}function eK(e){return tK(e)&&Dg(e.then)&&Dg(e.catch)}function tK(e){return e&&typeof e=="object"}function Dg(e){return typeof e=="function"}function Mg(e){return eK((r=>{try{return r.readFile().catch(n=>n)}catch(n){return n}})(e))}const Ug=["readFile","writeFile","mkdir","rmdir","unlink","stat","lstat","readdir","readlink","symlink"];function Bg(e,t){if(Mg(t))for(const r of Ug)e[`_${r}`]=t[r].bind(t);else for(const r of Ug)e[`_${r}`]=Gl(t[r].bind(t));Mg(t)?t.rm?e._rm=t.rm.bind(t):t.rmdir.length>1?e._rm=t.rmdir.bind(t):e._rm=Wu.bind(null,e):t.rm?e._rm=Gl(t.rm.bind(t)):t.rmdir.length>2?e._rm=Gl(t.rmdir.bind(t)):e._rm=Wu.bind(null,e)}class te{constructor(t){if(typeof t._original_unwrapped_fs<"u")return t;const r=Object.getOwnPropertyDescriptor(t,"promises");r&&r.enumerable?Bg(this,t.promises):Bg(this,t),this._original_unwrapped_fs=t}async exists(t,r={}){try{return await this._stat(t),!0}catch(n){if(n.code==="ENOENT"||n.code==="ENOTDIR")return!1;throw console.log('Unhandled error in "FileSystem.exists()" function',n),n}}async read(t,r={}){try{let n=await this._readFile(t,r);if(r.autocrlf==="true")try{n=new TextDecoder("utf8",{fatal:!0}).decode(n),n=n.replace(/\r\n/g,`
`),n=new TextEncoder().encode(n)}catch{}return typeof n!="string"&&(n=X.from(n)),n}catch{return null}}async write(t,r,n={}){try{await this._writeFile(t,r,n);return}catch{await this.mkdir(Ua(t)),await this._writeFile(t,r,n)}}async mkdir(t,r=!1){try{await this._mkdir(t);return}catch(n){if(n===null||n.code==="EEXIST")return;if(r)throw n;if(n.code==="ENOENT"){const a=Ua(t);if(a==="."||a==="/"||a===t)throw n;await this.mkdir(a),await this.mkdir(t,!0)}}}async rm(t){try{await this._unlink(t)}catch(r){if(r.code!=="ENOENT")throw r}}async rmdir(t,r){try{r&&r.recursive?await this._rm(t,r):await this._rmdir(t)}catch(n){if(n.code!=="ENOENT")throw n}}async readdir(t){try{const r=await this._readdir(t);return r.sort(rl),r}catch(r){return r.code==="ENOTDIR"?null:[]}}async readdirDeep(t){const r=await this._readdir(t);return(await Promise.all(r.map(async a=>{const i=t+"/"+a;return(await this._stat(i)).isDirectory()?this.readdirDeep(i):i}))).reduce((a,i)=>a.concat(i),[])}async lstat(t){try{return await this._lstat(t)}catch(r){if(r.code==="ENOENT")return null;throw r}}async readlink(t,r={encoding:"buffer"}){try{const n=await this._readlink(t,r);return X.isBuffer(n)?n:X.from(n)}catch(n){if(n.code==="ENOENT")return null;throw n}}async writelink(t,r){return this._symlink(r.toString("utf8"),t)}}function j(e,t){if(t===void 0)throw new Ut(e)}async function oc(e,t){return!e&&!t?!1:e&&!t||!e&&t?!0:!(await e.type()==="tree"&&await t.type()==="tree"||await e.type()===await t.type()&&await e.mode()===await t.mode()&&await e.oid()===await t.oid())}async function rK({fs:e,dir:t,gitdir:r=q(t,".git"),commit:n="HEAD",cache:a={}}){try{j("fs",e),j("dir",t),j("gitdir",r);const i=new te(e),s=[gn({ref:n}),il(),al()];let o=[];await mt.acquire({fs:i,gitdir:r,cache:a},async function(l){o=l.unmergedPaths});const c=await qa({fs:i,cache:a,dir:t,gitdir:r,trees:s,map:async function(l,[u,f,h]){const d=!await oc(f,h),p=o.includes(l),m=!await oc(h,u);if(d||p)return u?{path:l,mode:await u.mode(),oid:await u.oid(),type:await u.type(),content:await u.content()}:void 0;if(m)return!1;throw new Hs(l)}});await mt.acquire({fs:i,gitdir:r,cache:a},async function(l){for(const u of c)if(u!==!1){if(!u){await i.rmdir(`${t}/${u.path}`,{recursive:!0}),l.delete({filepath:u.path});continue}if(u.type==="blob"){const f=new TextDecoder().decode(u.content);await i.write(`${t}/${u.path}`,f,{mode:u.mode}),l.insert({filepath:u.path,oid:u.oid,stage:0})}}})}catch(i){throw i.caller="git.abortMerge",i}}class sl{static async isIgnored({fs:t,dir:r,gitdir:n=q(r,".git"),filepath:a}){if(nc(a)===".git")return!0;if(a===".")return!1;let i="";const s=q(n,"info","exclude");await t.exists(s)&&(i=await t.read(s,"utf8"));const o=[{gitignore:q(r,".gitignore"),filepath:a}],c=a.split("/").filter(Boolean);for(let u=1;u<c.length;u++){const f=c.slice(0,u).join("/"),h=c.slice(u).join("/");o.push({gitignore:q(r,f,".gitignore"),filepath:h})}let l=!1;for(const u of o){let f;try{f=await t.read(u.gitignore,"utf8")}catch(p){if(p.code==="NOENT")continue}const h=G7().add(i);h.add(f);const d=Ua(u.filepath);if(d!=="."&&h.ignores(d))return!0;l?l=!h.test(u.filepath).unignored:l=h.test(u.filepath).ignored}return l}}async function nK({fs:e,gitdir:t,object:r,format:n,oid:a}){if(n!=="deflated")throw new fe("GitObjectStoreLoose expects objects to write to be in deflated format");const i=`objects/${a.slice(0,2)}/${a.slice(2)}`,s=`${t}/${i}`;await e.exists(s)||await e.write(s,r)}let eu=null;async function N_(e){return eu===null&&(eu=iK()),eu?aK(e):th.deflate(e)}async function aK(e){const t=new CompressionStream("deflate"),r=new Blob([e]).stream().pipeThrough(t);return new Uint8Array(await new Response(r).arrayBuffer())}function iK(){try{return new CompressionStream("deflate").writable.close(),new Blob([]).stream().cancel(),!0}catch{return!1}}async function Lt({fs:e,gitdir:t,type:r,object:n,format:a="content",oid:i=void 0,dryRun:s=!1}){return a!=="deflated"&&(a!=="wrapped"&&(n=pi.wrap({type:r,object:n})),i=await Kr(n),n=X.from(await N_(n))),s||await nK({fs:e,gitdir:t,object:n,format:"deflated",oid:i}),i}function sK(e){let t;for(;~(t=e.indexOf(92));)e[t]=47;return e}async function oK({fs:e,dir:t,gitdir:r=q(t,".git"),filepath:n,cache:a={},force:i=!1,parallel:s=!0}){try{j("fs",e),j("dir",t),j("gitdir",r),j("filepath",n);const o=new te(e);await mt.acquire({fs:o,gitdir:r,cache:a},async c=>Zu({dir:t,gitdir:r,fs:o,filepath:n,index:c,force:i,parallel:s}))}catch(o){throw o.caller="git.add",o}}async function Zu({dir:e,gitdir:t,fs:r,filepath:n,index:a,force:i,parallel:s}){n=Array.isArray(n)?n:[n];const o=n.map(async f=>{if(!i&&await sl.isIgnored({fs:r,dir:e,gitdir:t,filepath:f}))return;const h=await r.lstat(q(e,f));if(!h)throw new Be(f);if(h.isDirectory()){const d=await r.readdir(q(e,f));if(s){const p=d.map(m=>Zu({dir:e,gitdir:t,fs:r,filepath:[q(f,m)],index:a,force:i,parallel:s}));await Promise.all(p)}else for(const p of d)await Zu({dir:e,gitdir:t,fs:r,filepath:[q(f,p)],index:a,force:i,parallel:s})}else{const p=await(await lt.get({fs:r,gitdir:t})).get("core.autocrlf"),m=h.isSymbolicLink()?await r.readlink(q(e,f)).then(sK):await r.read(q(e,f),{autocrlf:p});if(m===null)throw new Be(f);const y=await Lt({fs:r,gitdir:t,type:"blob",object:m});a.insert({filepath:f,stats:h,oid:y})}}),c=await Promise.allSettled(o),l=c.filter(f=>f.status==="rejected").map(f=>f.reason);if(l.length>1)throw new Bs(l);if(l.length===1)throw l[0];return c.filter(f=>f.status==="fulfilled"&&f.value).map(f=>f.value)}async function ol({fs:e,cache:t,onSign:r,gitdir:n,message:a,author:i,committer:s,signingKey:o,dryRun:c=!1,noUpdateBranch:l=!1,ref:u,parent:f,tree:h}){return u||(u=await W.resolve({fs:e,gitdir:n,ref:"HEAD",depth:2})),mt.acquire({fs:e,gitdir:n,cache:t,allowUnmerged:!1},async function(d){const m=A_(d.entries).get(".");if(h||(h=await j_({fs:e,gitdir:n,inode:m,dryRun:c})),f)f=await Promise.all(f.map(v=>W.resolve({fs:e,gitdir:n,ref:v})));else try{f=[await W.resolve({fs:e,gitdir:n,ref:u})]}catch{f=[]}let y=Ge.from({tree:h,parent:f,author:i,committer:s,message:a});o&&(y=await Ge.sign(y,r,o));const g=await Lt({fs:e,gitdir:n,type:"commit",object:y.toObject(),dryRun:c});return!l&&!c&&await W.writeRef({fs:e,gitdir:n,ref:u,value:g}),g})}async function j_({fs:e,gitdir:t,inode:r,dryRun:n}){const a=r.children;for(const c of a)c.type==="tree"&&(c.metadata.mode="040000",c.metadata.oid=await j_({fs:e,gitdir:t,inode:c,dryRun:n}));const i=a.map(c=>({mode:c.metadata.mode,path:c.basename,oid:c.metadata.oid,type:c.type})),s=Nt.from(i);return await Lt({fs:e,gitdir:t,type:"tree",object:s.toObject(),dryRun:n})}async function Ks({fs:e,cache:t,gitdir:r,oid:n,filepath:a}){if(a.startsWith("/"))throw new xn("leading-slash");if(a.endsWith("/"))throw new xn("trailing-slash");const i=n,s=await Va({fs:e,cache:t,gitdir:r,oid:n}),o=s.tree;if(a==="")n=s.oid;else{const c=a.split("/");n=await R_({fs:e,cache:t,gitdir:r,tree:o,pathArray:c,oid:i,filepath:a})}return n}async function R_({fs:e,cache:t,gitdir:r,tree:n,pathArray:a,oid:i,filepath:s}){const o=a.shift();for(const c of n)if(c.path===o){if(a.length===0)return c.oid;{const{type:l,object:u}=await Ze({fs:e,cache:t,gitdir:r,oid:c.oid});if(l!=="tree")throw new xt(i,l,"tree",s);return n=Nt.from(u),R_({fs:e,cache:t,gitdir:r,tree:n,pathArray:a,oid:i,filepath:s})}}throw new Be(`file or directory found at "${i}:${s}"`)}async function yi({fs:e,cache:t,gitdir:r,oid:n,filepath:a=void 0}){a!==void 0&&(n=await Ks({fs:e,cache:t,gitdir:r,oid:n,filepath:a}));const{tree:i,oid:s}=await Va({fs:e,cache:t,gitdir:r,oid:n});return{oid:s,tree:i.entries()}}async function sh({fs:e,gitdir:t,tree:r}){const n=Nt.from(r).toObject();return await Lt({fs:e,gitdir:t,type:"tree",object:n,format:"content"})}async function cK({fs:e,cache:t,onSign:r,gitdir:n,ref:a,oid:i,note:s,force:o,author:c,committer:l,signingKey:u}){let f;try{f=await W.resolve({gitdir:n,fs:e,ref:a})}catch(g){if(!(g instanceof Be))throw g}let d=(await yi({fs:e,cache:t,gitdir:n,oid:f||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"})).tree;if(o)d=d.filter(g=>g.path!==i);else for(const g of d)if(g.path===i)throw new dr("note",i);typeof s=="string"&&(s=X.from(s,"utf8"));const p=await Lt({fs:e,gitdir:n,type:"blob",object:s,format:"content"});d.push({mode:"100644",path:i,oid:p,type:"blob"});const m=await sh({fs:e,gitdir:n,tree:d});return await ol({fs:e,cache:t,onSign:r,gitdir:n,ref:a,tree:m,parent:f&&[f],message:`Note added by 'isomorphic-git addNote'
`,author:c,committer:l,signingKey:u})}async function Yu({fs:e,gitdir:t,path:r}){return(await lt.get({fs:e,gitdir:t})).get(r)}async function oa({fs:e,gitdir:t,author:r={}}){let{name:n,email:a,timestamp:i,timezoneOffset:s}=r;if(n=n||await Yu({fs:e,gitdir:t,path:"user.name"}),a=a||await Yu({fs:e,gitdir:t,path:"user.email"})||"",n!==void 0)return i=i??Math.floor(Date.now()/1e3),s=s??new Date(i*1e3).getTimezoneOffset(),{name:n,email:a,timestamp:i,timezoneOffset:s}}async function Gs({fs:e,gitdir:t,author:r,committer:n}){return n=Object.assign({},n||r),r&&(n.timestamp=n.timestamp||r.timestamp,n.timezoneOffset=n.timezoneOffset||r.timezoneOffset),n=await oa({fs:e,gitdir:t,author:n}),n}async function lK({fs:e,onSign:t,dir:r,gitdir:n=q(r,".git"),ref:a="refs/notes/commits",oid:i,note:s,force:o,author:c,committer:l,signingKey:u,cache:f={}}){try{j("fs",e),j("gitdir",n),j("oid",i),j("note",s),u&&j("onSign",t);const h=new te(e),d=await oa({fs:h,gitdir:n,author:c});if(!d)throw new Et("author");const p=await Gs({fs:h,gitdir:n,author:d,committer:l});if(!p)throw new Et("committer");return await cK({fs:new te(h),cache:f,onSign:t,gitdir:n,ref:a,oid:i,note:s,force:o,author:d,committer:p,signingKey:u})}catch(h){throw h.caller="git.addNote",h}}async function F_({fs:e,gitdir:t,remote:r,url:n,force:a}){if(r!==Ir.clean(r))throw new Gr(r,Ir.clean(r));const i=await lt.get({fs:e,gitdir:t});if(!a&&(await i.getSubsections("remote")).includes(r)&&n!==await i.get(`remote.${r}.url`))throw new dr("remote",r);await i.set(`remote.${r}.url`,n),await i.set(`remote.${r}.fetch`,`+refs/heads/*:refs/remotes/${r}/*`),await lt.save({fs:e,gitdir:t,config:i})}async function uK({fs:e,dir:t,gitdir:r=q(t,".git"),remote:n,url:a,force:i=!1}){try{return j("fs",e),j("gitdir",r),j("remote",n),j("url",a),await F_({fs:new te(e),gitdir:r,remote:n,url:a,force:i})}catch(s){throw s.caller="git.addRemote",s}}async function fK({fs:e,cache:t,onSign:r,gitdir:n,ref:a,tagger:i,message:s=a,gpgsig:o,object:c,signingKey:l,force:u=!1}){if(a=a.startsWith("refs/tags/")?a:`refs/tags/${a}`,!u&&await W.exists({fs:e,gitdir:n,ref:a}))throw new dr("tag",a);const f=await W.resolve({fs:e,gitdir:n,ref:c||"HEAD"}),{type:h}=await Ze({fs:e,cache:t,gitdir:n,oid:f});let d=St.from({object:f,type:h,tag:a.replace("refs/tags/",""),tagger:i,message:s,gpgsig:o});l&&(d=await St.sign(d,r,l));const p=await Lt({fs:e,gitdir:n,type:"tag",object:d.toObject()});await W.writeRef({fs:e,gitdir:n,ref:a,value:p})}async function dK({fs:e,onSign:t,dir:r,gitdir:n=q(r,".git"),ref:a,tagger:i,message:s=a,gpgsig:o,object:c,signingKey:l,force:u=!1,cache:f={}}){try{j("fs",e),j("gitdir",n),j("ref",a),l&&j("onSign",t);const h=new te(e),d=await oa({fs:h,gitdir:n,author:i});if(!d)throw new Et("tagger");return await fK({fs:h,cache:f,onSign:t,gitdir:n,ref:a,tagger:d,message:s,gpgsig:o,object:c,signingKey:l,force:u})}catch(h){throw h.caller="git.annotatedTag",h}}async function hK({fs:e,gitdir:t,ref:r,object:n,checkout:a=!1,force:i=!1}){if(r!==Ir.clean(r))throw new Gr(r,Ir.clean(r));const s=`refs/heads/${r}`;if(!i&&await W.exists({fs:e,gitdir:t,ref:s}))throw new dr("branch",r,!1);let o;try{o=await W.resolve({fs:e,gitdir:t,ref:n||"HEAD"})}catch{}o&&await W.writeRef({fs:e,gitdir:t,ref:s,value:o}),a&&await W.writeSymbolicRef({fs:e,gitdir:t,ref:"HEAD",value:s})}async function pK({fs:e,dir:t,gitdir:r=q(t,".git"),ref:n,object:a,checkout:i=!1,force:s=!1}){try{return j("fs",e),j("gitdir",r),j("ref",n),await hK({fs:new te(e),gitdir:r,ref:n,object:a,checkout:i,force:s})}catch(o){throw o.caller="git.branch",o}}const D_=(e,t)=>e==="."||t==null||t.length===0||t==="."?!0:t.length>=e.length?t.startsWith(e):e.startsWith(t);async function oh({fs:e,cache:t,onProgress:r,dir:n,gitdir:a,remote:i,ref:s,filepaths:o,noCheckout:c,noUpdateHead:l,dryRun:u,force:f,track:h=!0}){let d;try{d=await W.resolve({fs:e,gitdir:a,ref:s})}catch(p){if(s==="HEAD")throw p;const m=`${i}/${s}`;if(d=await W.resolve({fs:e,gitdir:a,ref:m}),h){const y=await lt.get({fs:e,gitdir:a});await y.set(`branch.${s}.remote`,i),await y.set(`branch.${s}.merge`,`refs/heads/${s}`),await lt.save({fs:e,gitdir:a,config:y})}await W.writeRef({fs:e,gitdir:a,ref:`refs/heads/${s}`,value:d})}if(!c){let p;try{p=await mK({fs:e,cache:t,onProgress:r,dir:n,gitdir:a,ref:s,force:f,filepaths:o})}catch(w){throw w instanceof Be&&w.data.what===d?new Rs(s,d):w}const m=p.filter(([w])=>w==="conflict").map(([w,_])=>_);if(m.length>0)throw new js(m);const y=p.filter(([w])=>w==="error").map(([w,_])=>_);if(y.length>0)throw new fe(y.join(", "));if(u)return;let g=0;const v=p.length;await mt.acquire({fs:e,gitdir:a,cache:t},async function(w){await Promise.all(p.filter(([_])=>_==="delete"||_==="delete-index").map(async function([_,b]){const x=`${n}/${b}`;_==="delete"&&await e.rm(x),w.delete({filepath:b}),r&&await r({phase:"Updating workdir",loaded:++g,total:v})}))}),await mt.acquire({fs:e,gitdir:a,cache:t},async function(w){for(const[_,b]of p)if(_==="rmdir"||_==="rmdir-index"){const x=`${n}/${b}`;try{_==="rmdir-index"&&w.delete({filepath:b}),await e.rmdir(x),r&&await r({phase:"Updating workdir",loaded:++g,total:v})}catch(S){if(S.code==="ENOTEMPTY")console.log(`Did not delete ${b} because directory is not empty`);else throw S}}}),await Promise.all(p.filter(([w])=>w==="mkdir"||w==="mkdir-index").map(async function([w,_]){const b=`${n}/${_}`;await e.mkdir(b),r&&await r({phase:"Updating workdir",loaded:++g,total:v})})),await mt.acquire({fs:e,gitdir:a,cache:t},async function(w){await Promise.all(p.filter(([_])=>_==="create"||_==="create-index"||_==="update"||_==="mkdir-index").map(async function([_,b,x,S,E]){const C=`${n}/${b}`;try{if(_!=="create-index"&&_!=="mkdir-index"){const{object:R}=await Ze({fs:e,cache:t,gitdir:a,oid:x});if(E&&await e.rm(C),S===33188)await e.write(C,R);else if(S===33261)await e.write(C,R,{mode:511});else if(S===40960)await e.writelink(C,R);else throw new fe(`Invalid mode 0o${S.toString(8)} detected in blob ${x}`)}const k=await e.lstat(C);S===33261&&(k.mode=493),_==="mkdir-index"&&(k.mode=57344),w.insert({filepath:b,stats:k,oid:x}),r&&await r({phase:"Updating workdir",loaded:++g,total:v})}catch(k){console.log(k)}}))})}if(!l){const p=await W.expand({fs:e,gitdir:a,ref:s});p.startsWith("refs/heads")?await W.writeSymbolicRef({fs:e,gitdir:a,ref:"HEAD",value:p}):await W.writeRef({fs:e,gitdir:a,ref:"HEAD",value:d})}}async function mK({fs:e,cache:t,onProgress:r,dir:n,gitdir:a,ref:i,force:s,filepaths:o}){let c=0;return qa({fs:e,cache:t,dir:n,gitdir:a,trees:[gn({ref:i}),il(),al()],map:async function(l,[u,f,h]){if(l===".")return;if(o&&!o.some(p=>D_(l,p)))return null;switch(r&&await r({phase:"Analyzing workdir",loaded:++c}),[!!h,!!u,!!f].map(Number).join("")){case"000":return;case"001":return s&&o&&o.includes(l)?["delete",l]:void 0;case"010":switch(await u.type()){case"tree":return["mkdir",l];case"blob":return["create",l,await u.oid(),await u.mode()];case"commit":return["mkdir-index",l,await u.oid(),await u.mode()];default:return["error",`new entry Unhandled type ${await u.type()}`]}case"011":switch(`${await u.type()}-${await f.type()}`){case"tree-tree":return;case"tree-blob":case"blob-tree":return["conflict",l];case"blob-blob":return await u.oid()!==await f.oid()?s?["update",l,await u.oid(),await u.mode(),await u.mode()!==await f.mode()]:["conflict",l]:await u.mode()!==await f.mode()?s?["update",l,await u.oid(),await u.mode(),!0]:["conflict",l]:["create-index",l,await u.oid(),await u.mode()];case"commit-tree":return;case"commit-blob":return["conflict",l];default:return["error",`new entry Unhandled type ${u.type}`]}case"100":return["delete-index",l];case"101":switch(await h.type()){case"tree":return["rmdir",l];case"blob":return await h.oid()!==await f.oid()?s?["delete",l]:["conflict",l]:["delete",l];case"commit":return["rmdir-index",l];default:return["error",`delete entry Unhandled type ${await h.type()}`]}case"110":case"111":switch(`${await h.type()}-${await u.type()}`){case"tree-tree":return;case"blob-blob":{if(await h.oid()===await u.oid()&&await h.mode()===await u.mode()&&!s)return;if(f){if(await f.oid()!==await h.oid()&&await f.oid()!==await u.oid())return s?["update",l,await u.oid(),await u.mode(),await u.mode()!==await f.mode()]:["conflict",l]}else if(s)return["update",l,await u.oid(),await u.mode(),await u.mode()!==await h.mode()];return await u.mode()!==await h.mode()?["update",l,await u.oid(),await u.mode(),!0]:await u.oid()!==await h.oid()?["update",l,await u.oid(),await u.mode(),!1]:void 0}case"tree-blob":return["update-dir-to-blob",l,await u.oid()];case"blob-tree":return["update-blob-to-tree",l];case"commit-commit":return["mkdir-index",l,await u.oid(),await u.mode()];default:return["error",`update entry Unhandled type ${await h.type()}-${await u.type()}`]}}},reduce:async function(l,u){return u=P_(u),l?l&&l[0]==="rmdir"?(u.push(l),u):(u.unshift(l),u):u}})}async function gK({fs:e,onProgress:t,dir:r,gitdir:n=q(r,".git"),remote:a="origin",ref:i,filepaths:s,noCheckout:o=!1,noUpdateHead:c=i===void 0,dryRun:l=!1,force:u=!1,track:f=!0,cache:h={}}){try{j("fs",e),j("dir",r),j("gitdir",n);const d=i||"HEAD";return await oh({fs:new te(e),cache:h,onProgress:t,dir:r,gitdir:n,remote:a,ref:d,filepaths:s,noCheckout:o,noUpdateHead:c,dryRun:l,force:u,track:f})}catch(d){throw d.caller="git.checkout",d}}const yK=new RegExp("^refs/(heads/|tags/|remotes/)?(.*)");function xa(e){const t=yK.exec(e);return t?t[1]==="remotes/"&&e.endsWith("/HEAD")?t[2].slice(0,-5):t[2]:e}async function ca({fs:e,gitdir:t,fullname:r=!1,test:n=!1}){const a=await W.resolve({fs:e,gitdir:t,ref:"HEAD",depth:2});if(n)try{await W.resolve({fs:e,gitdir:t,ref:a})}catch{return}if(a.startsWith("refs/"))return r?a:xa(a)}function vK(e){return e=e.replace(/^git@([^:]+):/,"https://$1/"),e=e.replace(/^ssh:\/\//,"https://"),e}function M_({username:e="",password:t=""}){return`Basic ${X.from(`${e}:${t}`).toString("base64")}`}async function Ws(e,t){const r=C_(e);for(;;){const{value:n,done:a}=await r.next();if(n&&await t(n),a)break}r.return&&r.return()}async function cc(e){let t=0;const r=[];await Ws(e,i=>{r.push(i),t+=i.byteLength});const n=new Uint8Array(t);let a=0;for(const i of r)n.set(i,a),a+=i.byteLength;return n}function Lg(e){let t=e.match(/^https?:\/\/([^/]+)@/);if(t==null)return{url:e,auth:{}};t=t[1];const[r,n]=t.split(":");return e=e.replace(`${t}@`,""),{url:e,auth:{username:r,password:n}}}function Xu(e,t){const r=t.toString(16);return"0".repeat(e-r.length)+r}class rt{static flush(){return X.from("0000","utf8")}static delim(){return X.from("0001","utf8")}static encode(t){typeof t=="string"&&(t=X.from(t));const r=t.length+4,n=Xu(4,r);return X.concat([X.from(n,"utf8"),t])}static streamReader(t){const r=new T_(t);return async function(){try{let a=await r.read(4);if(a==null)return!0;if(a=parseInt(a.toString("utf8"),16),a===0||a===1)return null;const i=await r.read(a-4);return i??!0}catch(a){return t.error=a,!0}}}}async function zg(e){const t={};let r;for(;r=await e(),r!==!0;){if(r===null)continue;r=r.toString("utf8").replace(/\n$/,"");const n=r.indexOf("=");if(n>-1){const a=r.slice(0,n),i=r.slice(n+1);t[a]=i}else t[r]=!0}return{protocolVersion:2,capabilities2:t}}async function Vg(e,{service:t}){const r=new Set,n=new Map,a=new Map,i=rt.streamReader(e);let s=await i();for(;s===null;)s=await i();if(s===!0)throw new Fs;if(s.includes("version 2"))return zg(i);if(s.toString("utf8").replace(/\n$/,"")!==`# service=${t}`)throw new sa(`# service=${t}\\n`,s.toString("utf8"));let o=await i();for(;o===null;)o=await i();if(o===!0)return{capabilities:r,refs:n,symrefs:a};if(o=o.toString("utf8"),o.includes("version 2"))return zg(i);const[c,l]=tu(o,"\0","\\x00");if(l.split(" ").map(u=>r.add(u)),c!=="0000000000000000000000000000000000000000 capabilities^{}"){const[u,f]=tu(c," "," ");for(n.set(f,u);;){const h=await i();if(h===!0)break;if(h!==null){const[d,p]=tu(h.toString("utf8")," "," ");n.set(p,d)}}}for(const u of r)if(u.startsWith("symref=")){const f=u.match(/symref=([^:]+):(.*)/);f.length===3&&a.set(f[1],f[2])}return{protocolVersion:1,capabilities:r,refs:n,symrefs:a}}function tu(e,t,r){const n=e.trim().split(t);if(n.length!==2)throw new sa(`Two strings separated by '${r}'`,e.toString("utf8"));return n}const qg=(e,t)=>e.endsWith("?")?`${e}${t}`:`${e}/${t.replace(/^https?:\/\//,"")}`,Hg=(e,t)=>{(t.username||t.password)&&(e.Authorization=M_(t)),t.headers&&Object.assign(e,t.headers)},ru=async e=>{try{const t=X.from(await cc(e.body)),r=t.toString("utf8");return{preview:r.length<256?r:r.slice(0,256)+"...",response:r,data:t}}catch{return{}}};class lc{static async capabilities(){return["discover","connect"]}static async discover({http:t,onProgress:r,onAuth:n,onAuthSuccess:a,onAuthFailure:i,corsProxy:s,service:o,url:c,headers:l,protocolVersion:u}){let{url:f,auth:h}=Lg(c);const d=s?qg(s,f):f;(h.username||h.password)&&(l.Authorization=M_(h)),u===2&&(l["Git-Protocol"]="version=2");let p,m,y=!1;do if(p=await t.request({onProgress:r,method:"GET",url:`${d}/info/refs?service=${o}`,headers:l}),m=!1,p.statusCode===401||p.statusCode===203){const g=y?i:n;if(g){if(h=await g(f,{...h,headers:{...l}}),h&&h.cancel)throw new qs;h&&(Hg(l,h),y=!0,m=!0)}}else p.statusCode===200&&y&&a&&await a(f,h);while(m);if(p.statusCode!==200){const{response:g}=await ru(p);throw new La(p.statusCode,p.statusMessage,g)}if(p.headers["content-type"]===`application/x-${o}-advertisement`){const g=await Vg(p.body,{service:o});return g.auth=h,g}else{const{preview:g,response:v,data:w}=await ru(p);try{const _=await Vg([w],{service:o});return _.auth=h,_}catch{throw new Ls(g,v)}}}static async connect({http:t,onProgress:r,corsProxy:n,service:a,url:i,auth:s,body:o,headers:c}){const l=Lg(i);l&&(i=l.url),n&&(i=qg(n,i)),c["content-type"]=`application/x-${a}-request`,c.accept=`application/x-${a}-result`,Hg(c,s);const u=await t.request({onProgress:r,method:"POST",url:`${i}/${a}`,body:o,headers:c});if(u.statusCode!==200){const{response:f}=ru(u);throw new La(u.statusCode,u.statusMessage,f)}return u}}function wK({url:e}){if(e.startsWith("git@"))return{transport:"ssh",address:e};const t=e.match(/(\w+)(:\/\/|::)(.*)/);if(t!==null){if(t[2]==="://")return{transport:t[1],address:t[0]};if(t[2]==="::")return{transport:t[1],address:t[3]}}}class cl{static getRemoteHelperFor({url:t}){const r=new Map;r.set("http",lc),r.set("https",lc);const n=wK({url:t});if(!n)throw new Vs(t);if(r.has(n.transport))return r.get(n.transport);throw new zs(t,n.transport,n.transport==="ssh"?vK(t):void 0)}}let Pn=null;class os{static async read({fs:t,gitdir:r}){Pn===null&&(Pn=new Jo);const n=q(r,"shallow"),a=new Set;return await Pn.acquire(n,async function(){const i=await t.read(n,{encoding:"utf8"});if(i===null||i.trim()==="")return a;i.trim().split(`
`).map(s=>a.add(s))}),a}static async write({fs:t,gitdir:r,oids:n}){Pn===null&&(Pn=new Jo);const a=q(r,"shallow");if(n.size>0){const i=[...n].join(`
`)+`
`;await Pn.acquire(a,async function(){await t.write(a,i,{encoding:"utf8"})})}else await Pn.acquire(a,async function(){await t.rm(a)})}}async function _K({fs:e,gitdir:t,oid:r}){const n=`objects/${r.slice(0,2)}/${r.slice(2)}`;return e.exists(`${t}/${n}`)}async function bK({fs:e,cache:t,gitdir:r,oid:n,getExternalRefDelta:a}){let i=await e.readdir(q(r,"objects/pack"));i=i.filter(s=>s.endsWith(".idx"));for(const s of i){const o=`${r}/objects/pack/${s}`,c=await ih({fs:e,cache:t,filename:o,getExternalRefDelta:a});if(c.error)throw new fe(c.error);if(c.offsets.has(n))return!0}return!1}async function Kg({fs:e,cache:t,gitdir:r,oid:n,format:a="content"}){const i=o=>Ze({fs:e,cache:t,gitdir:r,oid:o});let s=await _K({fs:e,gitdir:r,oid:n});return s||(s=await bK({fs:e,cache:t,gitdir:r,oid:n,getExternalRefDelta:i})),s}function $K(e){const a="5041434b"+"00000002"+"00000000";return e.slice(0,12).toString("hex")===a}function U_(e,t){const r=e.map(n=>n.split("=",1)[0]);return t.filter(n=>{const a=n.split("=",1)[0];return r.includes(a)})}const ll={name:"isomorphic-git",version:"1.25.10",agent:"git/isomorphic-git@1.25.10"};class jo{constructor(){this._queue=[]}write(t){if(this._ended)throw Error("You cannot write to a FIFO that has already been ended!");if(this._waiting){const r=this._waiting;this._waiting=null,r({value:t})}else this._queue.push(t)}end(){if(this._ended=!0,this._waiting){const t=this._waiting;this._waiting=null,t({done:!0})}}destroy(t){this.error=t,this.end()}async next(){if(this._queue.length>0)return{value:this._queue.shift()};if(this._ended)return{done:!0};if(this._waiting)throw Error("You cannot call read until the previous call to read has returned!");return new Promise(t=>{this._waiting=t})}}function SK(e){const t=e.indexOf("\r"),r=e.indexOf(`
`);return t===-1&&r===-1?-1:t===-1?r+1:r===-1?t+1:r===t+1?r+1:Math.min(t,r)+1}function B_(e){const t=new jo;let r="";return(async()=>(await Ws(e,n=>{for(n=n.toString("utf8"),r+=n;;){const a=SK(r);if(a===-1)break;t.write(r.slice(0,a)),r=r.slice(a)}}),r.length>0&&t.write(r),t.end()))(),t}class L_{static demux(t){const r=rt.streamReader(t),n=new jo,a=new jo,i=new jo,s=async function(){const o=await r();if(o===null)return s();if(o===!0){n.end(),i.end(),t.error?a.destroy(t.error):a.end();return}switch(o[0]){case 1:{a.write(o.slice(1));break}case 2:{i.write(o.slice(1));break}case 3:{const c=o.slice(1);i.write(c),n.end(),i.end(),a.destroy(new Error(c.toString("utf8")));return}default:n.write(o)}s()};return s(),{packetlines:n,packfile:a,progress:i}}}async function EK(e){const{packetlines:t,packfile:r,progress:n}=L_.demux(e),a=[],i=[],s=[];let o=!1,c=!1;return new Promise((l,u)=>{Ws(t,f=>{const h=f.toString("utf8").trim();if(h.startsWith("shallow")){const d=h.slice(-41).trim();d.length!==40&&u(new En(d)),a.push(d)}else if(h.startsWith("unshallow")){const d=h.slice(-41).trim();d.length!==40&&u(new En(d)),i.push(d)}else if(h.startsWith("ACK")){const[,d,p]=h.split(" ");s.push({oid:d,status:p}),p||(c=!0)}else h.startsWith("NAK")?(o=!0,c=!0):(c=!0,o=!0);c&&(e.error?u(e.error):l({shallows:a,unshallows:i,acks:s,nak:o,packfile:r,progress:n}))}).finally(()=>{c||(e.error?u(e.error):l({shallows:a,unshallows:i,acks:s,nak:o,packfile:r,progress:n}))})})}function xK({capabilities:e=[],wants:t=[],haves:r=[],shallows:n=[],depth:a=null,since:i=null,exclude:s=[]}){const o=[];t=[...new Set(t)];let c=` ${e.join(" ")}`;for(const l of t)o.push(rt.encode(`want ${l}${c}
`)),c="";for(const l of n)o.push(rt.encode(`shallow ${l}
`));a!==null&&o.push(rt.encode(`deepen ${a}
`)),i!==null&&o.push(rt.encode(`deepen-since ${Math.floor(i.valueOf()/1e3)}
`));for(const l of s)o.push(rt.encode(`deepen-not ${l}
`));o.push(rt.flush());for(const l of r)o.push(rt.encode(`have ${l}
`));return o.push(rt.encode(`done
`)),o}async function ch({fs:e,cache:t,http:r,onProgress:n,onMessage:a,onAuth:i,onAuthSuccess:s,onAuthFailure:o,gitdir:c,ref:l,remoteRef:u,remote:f,url:h,corsProxy:d,depth:p=null,since:m=null,exclude:y=[],relative:g=!1,tags:v=!1,singleBranch:w=!1,headers:_={},prune:b=!1,pruneTags:x=!1}){const S=l||await ca({fs:e,gitdir:c,test:!0}),E=await lt.get({fs:e,gitdir:c}),C=f||S&&await E.get(`branch.${S}.remote`)||"origin",k=h||await E.get(`remote.${C}.url`);if(typeof k>"u")throw new Ut("remote OR url");const R=u||S&&await E.get(`branch.${S}.merge`)||l||"HEAD";d===void 0&&(d=await E.get("http.corsProxy"));const D=cl.getRemoteHelperFor({url:k}),L=await D.discover({http:r,onAuth:i,onAuthSuccess:s,onAuthFailure:o,corsProxy:d,service:"git-upload-pack",url:k,headers:_,protocolVersion:1}),H=L.auth,Y=L.refs;if(Y.size===0)return{defaultBranch:null,fetchHead:null,fetchHeadDescription:null};if(p!==null&&!L.capabilities.has("shallow"))throw new mn("shallow","depth");if(m!==null&&!L.capabilities.has("deepen-since"))throw new mn("deepen-since","since");if(y.length>0&&!L.capabilities.has("deepen-not"))throw new mn("deepen-not","exclude");if(g===!0&&!L.capabilities.has("deepen-relative"))throw new mn("deepen-relative","relative");const{oid:ce,fullref:de}=W.resolveAgainstMap({ref:R,map:Y});for(const he of Y.keys())he===de||he==="HEAD"||he.startsWith("refs/heads/")||v&&he.startsWith("refs/tags/")||Y.delete(he);const se=U_([...L.capabilities],["multi_ack_detailed","no-done","side-band-64k","ofs-delta",`agent=${ll.agent}`]);g&&se.push("deepen-relative");const ee=w?[ce]:Y.values(),V=w?[S]:await W.listRefs({fs:e,gitdir:c,filepath:"refs"});let N=[];for(let he of V)try{he=await W.expand({fs:e,gitdir:c,ref:he});const Ne=await W.resolve({fs:e,gitdir:c,ref:he});await Kg({fs:e,cache:t,gitdir:c,oid:Ne})&&N.push(Ne)}catch{}N=[...new Set(N)];const z=await os.read({fs:e,gitdir:c}),F=L.capabilities.has("shallow")?[...z]:[],$=xK({capabilities:se,wants:ee,haves:N,shallows:F,depth:p,since:m,exclude:y}),I=X.from(await cc($)),B=await D.connect({http:r,onProgress:n,corsProxy:d,service:"git-upload-pack",url:k,auth:H,body:[I],headers:_}),G=await EK(B.body);B.headers&&(G.headers=B.headers);for(const he of G.shallows)if(!z.has(he))try{const{object:Ne}=await Ze({fs:e,cache:t,gitdir:c,oid:he}),Xe=new Ge(Ne),Ve=await Promise.all(Xe.headers().parent.map(Rt=>Kg({fs:e,cache:t,gitdir:c,oid:Rt})));Ve.length===0||Ve.every(Rt=>Rt)||z.add(he)}catch{z.add(he)}for(const he of G.unshallows)z.delete(he);if(await os.write({fs:e,gitdir:c,oids:z}),w){const he=new Map([[de,ce]]),Ne=new Map;let Xe=10,Ve=de;for(;Xe--;){const er=L.symrefs.get(Ve);if(er===void 0)break;Ne.set(Ve,er),Ve=er}const it=Y.get(Ve);it&&he.set(Ve,it);const{pruned:Rt}=await W.updateRemoteRefs({fs:e,gitdir:c,remote:C,refs:he,symrefs:Ne,tags:v,prune:b});b&&(G.pruned=Rt)}else{const{pruned:he}=await W.updateRemoteRefs({fs:e,gitdir:c,remote:C,refs:Y,symrefs:L.symrefs,tags:v,prune:b,pruneTags:x});b&&(G.pruned=he)}if(G.HEAD=L.symrefs.get("HEAD"),G.HEAD===void 0){const{oid:he}=W.resolveAgainstMap({ref:"HEAD",map:Y});for(const[Ne,Xe]of Y.entries())if(Ne!=="HEAD"&&Xe===he){G.HEAD=Ne;break}}const J=de.startsWith("refs/tags")?"tag":"branch";if(G.FETCH_HEAD={oid:ce,description:`${J} '${xa(de)}' of ${k}`},n||a){const he=B_(G.progress);Ws(he,async Ne=>{if(a&&await a(Ne),n){const Xe=Ne.match(/([^:]*).*\((\d+?)\/(\d+?)\)/);Xe&&await n({phase:Xe[1].trim(),loaded:parseInt(Xe[2],10),total:parseInt(Xe[3],10)})}})}const ue=X.from(await cc(G.packfile));if(B.body.error)throw B.body.error;const me=ue.slice(-20).toString("hex"),Ce={defaultBranch:G.HEAD,fetchHead:G.FETCH_HEAD.oid,fetchHeadDescription:G.FETCH_HEAD.description};if(G.headers&&(Ce.headers=G.headers),b&&(Ce.pruned=G.pruned),me!==""&&!$K(ue)){Ce.packfile=`objects/pack/pack-${me}.pack`;const he=q(c,Ce.packfile);await e.write(he,ue);const Ne=Ve=>Ze({fs:e,cache:t,gitdir:c,oid:Ve}),Xe=await Ba.fromPack({pack:ue,getExternalRefDelta:Ne,onProgress:n});await e.write(he.replace(/\.pack$/,".idx"),await Xe.toBuffer())}return Ce}async function z_({fs:e,bare:t=!1,dir:r,gitdir:n=t?r:q(r,".git"),defaultBranch:a="master"}){if(await e.exists(n+"/config"))return;let i=["hooks","info","objects/info","objects/pack","refs/heads","refs/tags"];i=i.map(s=>n+"/"+s);for(const s of i)await e.mkdir(s);await e.write(n+"/config",`[core]
	repositoryformatversion = 0
	filemode = false
	bare = ${t}
`+(t?"":`	logallrefupdates = true
`)+`	symlinks = false
	ignorecase = true
`),await e.write(n+"/HEAD",`ref: refs/heads/${a}
`)}async function OK({fs:e,cache:t,http:r,onProgress:n,onMessage:a,onAuth:i,onAuthSuccess:s,onAuthFailure:o,dir:c,gitdir:l,url:u,corsProxy:f,ref:h,remote:d,depth:p,since:m,exclude:y,relative:g,singleBranch:v,noCheckout:w,noTags:_,headers:b}){try{if(await z_({fs:e,gitdir:l}),await F_({fs:e,gitdir:l,remote:d,url:u,force:!1}),f){const E=await lt.get({fs:e,gitdir:l});await E.set("http.corsProxy",f),await lt.save({fs:e,gitdir:l,config:E})}const{defaultBranch:x,fetchHead:S}=await ch({fs:e,cache:t,http:r,onProgress:n,onMessage:a,onAuth:i,onAuthSuccess:s,onAuthFailure:o,gitdir:l,ref:h,remote:d,corsProxy:f,depth:p,since:m,exclude:y,relative:g,singleBranch:v,headers:b,tags:!_});if(S===null)return;h=h||x,h=h.replace("refs/heads/",""),await oh({fs:e,cache:t,onProgress:n,dir:c,gitdir:l,ref:h,remote:d,noCheckout:w})}catch(x){throw await e.rmdir(l,{recursive:!0,maxRetries:10}).catch(()=>{}),x}}async function AK({fs:e,http:t,onProgress:r,onMessage:n,onAuth:a,onAuthSuccess:i,onAuthFailure:s,dir:o,gitdir:c=q(o,".git"),url:l,corsProxy:u=void 0,ref:f=void 0,remote:h="origin",depth:d=void 0,since:p=void 0,exclude:m=[],relative:y=!1,singleBranch:g=!1,noCheckout:v=!1,noTags:w=!1,headers:_={},cache:b={}}){try{return j("fs",e),j("http",t),j("gitdir",c),v||j("dir",o),j("url",l),await OK({fs:new te(e),cache:b,http:t,onProgress:r,onMessage:n,onAuth:a,onAuthSuccess:i,onAuthFailure:s,dir:o,gitdir:c,url:l,corsProxy:u,ref:f,remote:h,depth:d,since:p,exclude:m,relative:y,singleBranch:g,noCheckout:v,noTags:w,headers:_})}catch(x){throw x.caller="git.clone",x}}async function kK({fs:e,onSign:t,dir:r,gitdir:n=q(r,".git"),message:a,author:i,committer:s,signingKey:o,dryRun:c=!1,noUpdateBranch:l=!1,ref:u,parent:f,tree:h,cache:d={}}){try{j("fs",e),j("message",a),o&&j("onSign",t);const p=new te(e),m=await oa({fs:p,gitdir:n,author:i});if(!m)throw new Et("author");const y=await Gs({fs:p,gitdir:n,author:m,committer:s});if(!y)throw new Et("committer");return await ol({fs:p,cache:d,onSign:t,gitdir:n,message:a,author:m,committer:y,signingKey:o,dryRun:c,noUpdateBranch:l,ref:u,parent:f,tree:h})}catch(p){throw p.caller="git.commit",p}}async function CK({fs:e,dir:t,gitdir:r=q(t,".git"),fullname:n=!1,test:a=!1}){try{return j("fs",e),j("gitdir",r),await ca({fs:new te(e),gitdir:r,fullname:n,test:a})}catch(i){throw i.caller="git.currentBranch",i}}async function TK({fs:e,gitdir:t,ref:r}){if(r=r.startsWith("refs/heads/")?r:`refs/heads/${r}`,!await W.exists({fs:e,gitdir:t,ref:r}))throw new Be(r);const a=await W.expand({fs:e,gitdir:t,ref:r}),i=await ca({fs:e,gitdir:t,fullname:!0});if(a===i){const s=await W.resolve({fs:e,gitdir:t,ref:a});await W.writeRef({fs:e,gitdir:t,ref:"HEAD",value:s})}await W.deleteRef({fs:e,gitdir:t,ref:a})}async function IK({fs:e,dir:t,gitdir:r=q(t,".git"),ref:n}){try{return j("fs",e),j("ref",n),await TK({fs:new te(e),gitdir:r,ref:n})}catch(a){throw a.caller="git.deleteBranch",a}}async function PK({fs:e,dir:t,gitdir:r=q(t,".git"),ref:n}){try{j("fs",e),j("ref",n),await W.deleteRef({fs:new te(e),gitdir:r,ref:n})}catch(a){throw a.caller="git.deleteRef",a}}async function NK({fs:e,gitdir:t,remote:r}){const n=await lt.get({fs:e,gitdir:t});await n.deleteSection("remote",r),await lt.save({fs:e,gitdir:t,config:n})}async function jK({fs:e,dir:t,gitdir:r=q(t,".git"),remote:n}){try{return j("fs",e),j("remote",n),await NK({fs:new te(e),gitdir:r,remote:n})}catch(a){throw a.caller="git.deleteRemote",a}}async function RK({fs:e,gitdir:t,ref:r}){r=r.startsWith("refs/tags/")?r:`refs/tags/${r}`,await W.deleteRef({fs:e,gitdir:t,ref:r})}async function FK({fs:e,dir:t,gitdir:r=q(t,".git"),ref:n}){try{return j("fs",e),j("ref",n),await RK({fs:new te(e),gitdir:r,ref:n})}catch(a){throw a.caller="git.deleteTag",a}}async function DK({fs:e,gitdir:t,oid:r}){const n=r.slice(0,2);return(await e.readdir(`${t}/objects/${n}`)).map(i=>`${n}${i}`).filter(i=>i.startsWith(r))}async function MK({fs:e,cache:t,gitdir:r,oid:n,getExternalRefDelta:a}){const i=[];let s=await e.readdir(q(r,"objects/pack"));s=s.filter(o=>o.endsWith(".idx"));for(const o of s){const c=`${r}/objects/pack/${o}`,l=await ih({fs:e,cache:t,filename:c,getExternalRefDelta:a});if(l.error)throw new fe(l.error);for(const u of l.offsets.keys())u.startsWith(n)&&i.push(u)}return i}async function UK({fs:e,cache:t,gitdir:r,oid:n}){const a=o=>Ze({fs:e,cache:t,gitdir:r,oid:o}),i=await DK({fs:e,gitdir:r,oid:n}),s=await MK({fs:e,cache:t,gitdir:r,oid:n,getExternalRefDelta:a});for(const o of s)i.indexOf(o)===-1&&i.push(o);if(i.length===1)return i[0];throw i.length>1?new Ns("oids",n,i):new Be(`an object matching "${n}"`)}async function BK({fs:e,dir:t,gitdir:r=q(t,".git"),oid:n,cache:a={}}){try{return j("fs",e),j("gitdir",r),j("oid",n),await UK({fs:new te(e),cache:a,gitdir:r,oid:n})}catch(i){throw i.caller="git.expandOid",i}}async function LK({fs:e,dir:t,gitdir:r=q(t,".git"),ref:n}){try{return j("fs",e),j("gitdir",r),j("ref",n),await W.expand({fs:new te(e),gitdir:r,ref:n})}catch(a){throw a.caller="git.expandRef",a}}async function lh({fs:e,cache:t,gitdir:r,oids:n}){const a={},i=n.length;let s=n.map((o,c)=>({index:c,oid:o}));for(;s.length;){const o=new Set;for(const{oid:l,index:u}of s)a[l]||(a[l]=new Set),a[l].add(u),a[l].size===i&&o.add(l);if(o.size>0)return[...o];const c=new Map;for(const{oid:l,index:u}of s)try{const{object:f}=await Ze({fs:e,cache:t,gitdir:r,oid:l}),h=Ge.from(f),{parent:d}=h.parseHeaders();for(const p of d)(!a[p]||!a[p].has(u))&&c.set(p+":"+u,{oid:p,index:u})}catch{}s=Array.from(c.values())}return[]}const nu=/^.*(\r?\n|$)/gm;function zK({branches:e,contents:t}){const r=e[1],n=e[2],a=t[0],i=t[1],s=t[2],o=i.match(nu),c=a.match(nu),l=s.match(nu),u=nH(o,c,l),f=7;let h="",d=!0;for(const p of u)p.ok&&(h+=p.ok.join("")),p.conflict&&(d=!1,h+=`${"<".repeat(f)} ${r}
`,h+=p.conflict.a.join(""),h+=`${"=".repeat(f)}
`,h+=p.conflict.b.join(""),h+=`${">".repeat(f)} ${n}
`);return{cleanMerge:d,mergedText:h}}async function VK({fs:e,cache:t,dir:r,gitdir:n=q(r,".git"),index:a,ourOid:i,baseOid:s,theirOid:o,ourName:c="ours",baseName:l="base",theirName:u="theirs",dryRun:f=!1,abortOnConflict:h=!0,mergeDriver:d}){const p=gn({ref:i}),m=gn({ref:s}),y=gn({ref:o}),g=[],v=[],w=[],_=[],b=await qa({fs:e,cache:t,dir:r,gitdir:n,trees:[p,m,y],map:async function(x,[S,E,C]){const k=nc(x),R=await oc(S,E),D=await oc(C,E);switch(`${R}-${D}`){case"false-false":return{mode:await E.mode(),path:k,oid:await E.oid(),type:await E.type()};case"false-true":return C?{mode:await C.mode(),path:k,oid:await C.oid(),type:await C.type()}:void 0;case"true-false":return S?{mode:await S.mode(),path:k,oid:await S.oid(),type:await S.type()}:void 0;case"true-true":{if(S&&E&&C&&await S.type()==="blob"&&await E.type()==="blob"&&await C.type()==="blob")return qK({fs:e,gitdir:n,path:k,ours:S,base:E,theirs:C,ourName:c,baseName:l,theirName:u,mergeDriver:d}).then(async L=>{if(L.cleanMerge)h||a.insert({filepath:x,oid:L.mergeResult.oid,stage:0});else if(g.push(x),v.push(x),!h){const H=await E.oid(),Y=await S.oid(),ce=await C.oid();a.delete({filepath:x}),a.insert({filepath:x,oid:H,stage:1}),a.insert({filepath:x,oid:Y,stage:2}),a.insert({filepath:x,oid:ce,stage:3})}return L.mergeResult});if(E&&!S&&C&&await E.type()==="blob"&&await C.type()==="blob"){if(g.push(x),w.push(x),!h){const L=await E.oid(),H=await C.oid();a.delete({filepath:x}),a.insert({filepath:x,oid:L,stage:1}),a.insert({filepath:x,oid:H,stage:3})}return{mode:await C.mode(),oid:await C.oid(),type:"blob",path:k}}if(E&&S&&!C&&await E.type()==="blob"&&await S.type()==="blob"){if(g.push(x),_.push(x),!h){const L=await E.oid(),H=await S.oid();a.delete({filepath:x}),a.insert({filepath:x,oid:L,stage:1}),a.insert({filepath:x,oid:H,stage:2})}return{mode:await S.mode(),oid:await S.oid(),type:"blob",path:k}}if(E&&!S&&!C&&await E.type()==="blob")return;throw new mi}}},reduce:g.length!==0&&(!r||h)?void 0:async(x,S)=>{const E=S.filter(Boolean);if(x&&!(x&&x.type==="tree"&&E.length===0)){if(E.length>0){const k=new Nt(E).toObject(),R=await Lt({fs:e,gitdir:n,type:"tree",object:k,dryRun:f});x.oid=R}return x}}});return g.length!==0?(r&&!h&&await qa({fs:e,cache:t,dir:r,gitdir:n,trees:[gn({ref:b.oid})],map:async function(x,[S]){const E=`${r}/${x}`;if(await S.type()==="blob"){const C=await S.mode(),k=new TextDecoder().decode(await S.content());await e.write(E,k,{mode:C})}return!0}}),new gi(g,v,w,_)):b.oid}async function qK({fs:e,gitdir:t,path:r,ours:n,base:a,theirs:i,ourName:s,theirName:o,baseName:c,dryRun:l,mergeDriver:u=zK}){const f="blob",h=await a.mode()===await n.mode()?await i.mode():await n.mode();if(await n.oid()===await i.oid())return{cleanMerge:!0,mergeResult:{mode:h,path:r,oid:await n.oid(),type:f}};if(await n.oid()===await a.oid())return{cleanMerge:!0,mergeResult:{mode:h,path:r,oid:await i.oid(),type:f}};if(await i.oid()===await a.oid())return{cleanMerge:!0,mergeResult:{mode:h,path:r,oid:await n.oid(),type:f}};const d=X.from(await n.content()).toString("utf8"),p=X.from(await a.content()).toString("utf8"),m=X.from(await i.content()).toString("utf8"),{mergedText:y,cleanMerge:g}=await u({branches:[c,s,o],contents:[p,d,m],path:r}),v=await Lt({fs:e,gitdir:t,type:"blob",object:X.from(y,"utf8"),dryRun:l});return{cleanMerge:g,mergeResult:{mode:h,path:r,oid:v,type:f}}}async function V_({fs:e,cache:t,dir:r,gitdir:n,ours:a,theirs:i,fastForward:s=!0,fastForwardOnly:o=!1,dryRun:c=!1,noUpdateBranch:l=!1,abortOnConflict:u=!0,message:f,author:h,committer:d,signingKey:p,onSign:m,mergeDriver:y}){a===void 0&&(a=await ca({fs:e,gitdir:n,fullname:!0})),a=await W.expand({fs:e,gitdir:n,ref:a}),i=await W.expand({fs:e,gitdir:n,ref:i});const g=await W.resolve({fs:e,gitdir:n,ref:a}),v=await W.resolve({fs:e,gitdir:n,ref:i}),w=await lh({fs:e,cache:t,gitdir:n,oids:[g,v]});if(w.length!==1)throw new mi;const _=w[0];if(_===v)return{oid:g,alreadyMerged:!0};if(s&&_===g)return!c&&!l&&await W.writeRef({fs:e,gitdir:n,ref:a,value:v}),{oid:v,fastForward:!0};{if(o)throw new Ds;const b=await mt.acquire({fs:e,gitdir:n,cache:t,allowUnmerged:!1},async S=>VK({fs:e,cache:t,dir:r,gitdir:n,index:S,ourOid:g,theirOid:v,baseOid:_,ourName:xa(a),baseName:"base",theirName:xa(i),dryRun:c,abortOnConflict:u,mergeDriver:y}));if(b instanceof gi)throw b;return f||(f=`Merge branch '${xa(i)}' into ${xa(a)}`),{oid:await ol({fs:e,cache:t,gitdir:n,message:f,ref:a,tree:b,parent:[g,v],author:h,committer:d,signingKey:p,onSign:m,dryRun:c,noUpdateBranch:l}),tree:b,mergeCommit:!0}}}async function q_({fs:e,cache:t,http:r,onProgress:n,onMessage:a,onAuth:i,onAuthSuccess:s,onAuthFailure:o,dir:c,gitdir:l,ref:u,url:f,remote:h,remoteRef:d,prune:p,pruneTags:m,fastForward:y,fastForwardOnly:g,corsProxy:v,singleBranch:w,headers:_,author:b,committer:x,signingKey:S}){try{if(!u){const k=await ca({fs:e,gitdir:l});if(!k)throw new Ut("ref");u=k}const{fetchHead:E,fetchHeadDescription:C}=await ch({fs:e,cache:t,http:r,onProgress:n,onMessage:a,onAuth:i,onAuthSuccess:s,onAuthFailure:o,gitdir:l,corsProxy:v,ref:u,url:f,remote:h,remoteRef:d,singleBranch:w,headers:_,prune:p,pruneTags:m});await V_({fs:e,cache:t,gitdir:l,ours:u,theirs:E,fastForward:y,fastForwardOnly:g,message:`Merge ${C}`,author:b,committer:x,signingKey:S,dryRun:!1,noUpdateBranch:!1}),await oh({fs:e,cache:t,onProgress:n,dir:c,gitdir:l,ref:u,remote:h,noCheckout:!1})}catch(E){throw E.caller="git.pull",E}}async function HK({fs:e,http:t,onProgress:r,onMessage:n,onAuth:a,onAuthSuccess:i,onAuthFailure:s,dir:o,gitdir:c=q(o,".git"),ref:l,url:u,remote:f,remoteRef:h,corsProxy:d,singleBranch:p,headers:m={},cache:y={}}){try{j("fs",e),j("http",t),j("gitdir",c);const g={name:"",email:"",timestamp:Date.now(),timezoneOffset:0};return await q_({fs:new te(e),cache:y,http:t,onProgress:r,onMessage:n,onAuth:a,onAuthSuccess:i,onAuthFailure:s,dir:o,gitdir:c,ref:l,url:u,remote:f,remoteRef:h,fastForwardOnly:!0,corsProxy:d,singleBranch:p,headers:m,author:g,committer:g})}catch(g){throw g.caller="git.fastForward",g}}async function KK({fs:e,http:t,onProgress:r,onMessage:n,onAuth:a,onAuthSuccess:i,onAuthFailure:s,dir:o,gitdir:c=q(o,".git"),ref:l,remote:u,remoteRef:f,url:h,corsProxy:d,depth:p=null,since:m=null,exclude:y=[],relative:g=!1,tags:v=!1,singleBranch:w=!1,headers:_={},prune:b=!1,pruneTags:x=!1,cache:S={}}){try{return j("fs",e),j("http",t),j("gitdir",c),await ch({fs:new te(e),cache:S,http:t,onProgress:r,onMessage:n,onAuth:a,onAuthSuccess:i,onAuthFailure:s,gitdir:c,ref:l,remote:u,remoteRef:f,url:h,corsProxy:d,depth:p,since:m,exclude:y,relative:g,tags:v,singleBranch:w,headers:_,prune:b,pruneTags:x})}catch(E){throw E.caller="git.fetch",E}}async function GK({fs:e,dir:t,gitdir:r=q(t,".git"),oids:n,cache:a={}}){try{return j("fs",e),j("gitdir",r),j("oids",n),await lh({fs:new te(e),cache:a,gitdir:r,oids:n})}catch(i){throw i.caller="git.findMergeBase",i}}async function H_({fs:e,filepath:t}){if(await e.exists(q(t,".git")))return t;{const r=Ua(t);if(r===t)throw new Be(`git root for ${t}`);return H_({fs:e,filepath:r})}}async function WK({fs:e,filepath:t}){try{return j("fs",e),j("filepath",t),await H_({fs:new te(e),filepath:t})}catch(r){throw r.caller="git.findRoot",r}}async function ZK({fs:e,dir:t,gitdir:r=q(t,".git"),path:n}){try{return j("fs",e),j("gitdir",r),j("path",n),await Yu({fs:new te(e),gitdir:r,path:n})}catch(a){throw a.caller="git.getConfig",a}}async function YK({fs:e,gitdir:t,path:r}){return(await lt.get({fs:e,gitdir:t})).getall(r)}async function XK({fs:e,dir:t,gitdir:r=q(t,".git"),path:n}){try{return j("fs",e),j("gitdir",r),j("path",n),await YK({fs:new te(e),gitdir:r,path:n})}catch(a){throw a.caller="git.getConfigAll",a}}async function JK({http:e,onAuth:t,onAuthSuccess:r,onAuthFailure:n,corsProxy:a,url:i,headers:s={},forPush:o=!1}){try{j("http",e),j("url",i);const l=await cl.getRemoteHelperFor({url:i}).discover({http:e,onAuth:t,onAuthSuccess:r,onAuthFailure:n,corsProxy:a,service:o?"git-receive-pack":"git-upload-pack",url:i,headers:s,protocolVersion:1}),u={capabilities:[...l.capabilities]};for(const[f,h]of l.refs){const d=f.split("/"),p=d.pop();let m=u;for(const y of d)m[y]=m[y]||{},m=m[y];m[p]=h}for(const[f,h]of l.symrefs){const d=f.split("/"),p=d.pop();let m=u;for(const y of d)m[y]=m[y]||{},m=m[y];m[p]=h}return u}catch(c){throw c.caller="git.getRemoteInfo",c}}function K_(e,t,r,n){const a=[];for(const[i,s]of e.refs){if(t&&!i.startsWith(t))continue;if(i.endsWith("^{}")){if(n){const c=i.replace("^{}",""),l=a[a.length-1],u=l.ref===c?l:a.find(f=>f.ref===c);if(u===void 0)throw new Error("I did not expect this to happen");u.peeled=s}continue}const o={ref:i,oid:s};r&&e.symrefs.has(i)&&(o.target=e.symrefs.get(i)),a.push(o)}return a}async function QK({http:e,onAuth:t,onAuthSuccess:r,onAuthFailure:n,corsProxy:a,url:i,headers:s={},forPush:o=!1,protocolVersion:c=2}){try{j("http",e),j("url",i);const u=await cl.getRemoteHelperFor({url:i}).discover({http:e,onAuth:t,onAuthSuccess:r,onAuthFailure:n,corsProxy:a,service:o?"git-receive-pack":"git-upload-pack",url:i,headers:s,protocolVersion:c});if(u.protocolVersion===2)return{protocolVersion:u.protocolVersion,capabilities:u.capabilities2};const f={};for(const h of u.capabilities){const[d,p]=h.split("=");p?f[d]=p:f[d]=!0}return{protocolVersion:1,capabilities:f,refs:K_(u,void 0,!0,!0)}}catch(l){throw l.caller="git.getRemoteInfo2",l}}async function eG({type:e,object:t,format:r="content",oid:n=void 0}){return r!=="deflated"&&(r!=="wrapped"&&(t=pi.wrap({type:e,object:t})),n=await Kr(t)),{oid:n,object:t}}async function tG({object:e}){try{j("object",e),typeof e=="string"?e=X.from(e,"utf8"):e=X.from(e);const t="blob",{oid:r,object:n}=await eG({type:"blob",format:"content",object:e});return{oid:r,type:t,object:new Uint8Array(n),format:"wrapped"}}catch(t){throw t.caller="git.hashBlob",t}}async function rG({fs:e,cache:t,onProgress:r,dir:n,gitdir:a,filepath:i}){try{i=q(n,i);const s=await e.read(i),o=l=>Ze({fs:e,cache:t,gitdir:a,oid:l}),c=await Ba.fromPack({pack:s,getExternalRefDelta:o,onProgress:r});return await e.write(i.replace(/\.pack$/,".idx"),await c.toBuffer()),{oids:[...c.hashes]}}catch(s){throw s.caller="git.indexPack",s}}async function nG({fs:e,onProgress:t,dir:r,gitdir:n=q(r,".git"),filepath:a,cache:i={}}){try{return j("fs",e),j("dir",r),j("gitdir",r),j("filepath",a),await rG({fs:new te(e),cache:i,onProgress:t,dir:r,gitdir:n,filepath:a})}catch(s){throw s.caller="git.indexPack",s}}async function aG({fs:e,bare:t=!1,dir:r,gitdir:n=t?r:q(r,".git"),defaultBranch:a="master"}){try{return j("fs",e),j("gitdir",n),t||j("dir",r),await z_({fs:new te(e),bare:t,dir:r,gitdir:n,defaultBranch:a})}catch(i){throw i.caller="git.init",i}}async function G_({fs:e,cache:t,gitdir:r,oid:n,ancestor:a,depth:i}){const s=await os.read({fs:e,gitdir:r});if(!n)throw new Ut("oid");if(!a)throw new Ut("ancestor");if(n===a)return!1;const o=[n],c=new Set;let l=0;for(;o.length;){if(l++===i)throw new Us(i);const u=o.shift(),{type:f,object:h}=await Ze({fs:e,cache:t,gitdir:r,oid:u});if(f!=="commit")throw new xt(u,f,"commit");const d=Ge.from(h).parse();for(const p of d.parent)if(p===a)return!0;if(!s.has(u))for(const p of d.parent)c.has(p)||(o.push(p),c.add(p))}return!1}async function iG({fs:e,dir:t,gitdir:r=q(t,".git"),oid:n,ancestor:a,depth:i=-1,cache:s={}}){try{return j("fs",e),j("gitdir",r),j("oid",n),j("ancestor",a),await G_({fs:new te(e),cache:s,gitdir:r,oid:n,ancestor:a,depth:i})}catch(o){throw o.caller="git.isDescendent",o}}async function sG({fs:e,dir:t,gitdir:r=q(t,".git"),filepath:n}){try{return j("fs",e),j("dir",t),j("gitdir",r),j("filepath",n),sl.isIgnored({fs:new te(e),dir:t,gitdir:r,filepath:n})}catch(a){throw a.caller="git.isIgnored",a}}async function oG({fs:e,dir:t,gitdir:r=q(t,".git"),remote:n}){try{return j("fs",e),j("gitdir",r),W.listBranches({fs:new te(e),gitdir:r,remote:n})}catch(a){throw a.caller="git.listBranches",a}}async function cG({fs:e,gitdir:t,ref:r,cache:n}){if(r){const a=await W.resolve({gitdir:t,fs:e,ref:r}),i=[];return await W_({fs:e,cache:n,gitdir:t,oid:a,filenames:i,prefix:""}),i}else return mt.acquire({fs:e,gitdir:t,cache:n},async function(a){return a.entries.map(i=>i.path)})}async function W_({fs:e,cache:t,gitdir:r,oid:n,filenames:a,prefix:i}){const{tree:s}=await yi({fs:e,cache:t,gitdir:r,oid:n});for(const o of s)o.type==="tree"?await W_({fs:e,cache:t,gitdir:r,oid:o.oid,filenames:a,prefix:q(i,o.path)}):a.push(q(i,o.path))}async function lG({fs:e,dir:t,gitdir:r=q(t,".git"),ref:n,cache:a={}}){try{return j("fs",e),j("gitdir",r),await cG({fs:new te(e),cache:a,gitdir:r,ref:n})}catch(i){throw i.caller="git.listFiles",i}}async function uG({fs:e,cache:t,gitdir:r,ref:n}){let a;try{a=await W.resolve({gitdir:r,fs:e,ref:n})}catch(o){if(o instanceof Be)return[]}return(await yi({fs:e,cache:t,gitdir:r,oid:a})).tree.map(o=>({target:o.path,note:o.oid}))}async function fG({fs:e,dir:t,gitdir:r=q(t,".git"),ref:n="refs/notes/commits",cache:a={}}){try{return j("fs",e),j("gitdir",r),j("ref",n),await uG({fs:new te(e),cache:a,gitdir:r,ref:n})}catch(i){throw i.caller="git.listNotes",i}}async function dG({fs:e,gitdir:t}){const r=await lt.get({fs:e,gitdir:t}),n=await r.getSubsections("remote");return Promise.all(n.map(async i=>{const s=await r.get(`remote.${i}.url`);return{remote:i,url:s}}))}async function hG({fs:e,dir:t,gitdir:r=q(t,".git")}){try{return j("fs",e),j("gitdir",r),await dG({fs:new te(e),gitdir:r})}catch(n){throw n.caller="git.listRemotes",n}}async function pG(e){const t=rt.streamReader(e),r=[];let n;for(;n=await t(),n!==!0;){if(n===null)continue;n=n.toString("utf8").replace(/\n$/,"");const[a,i,...s]=n.split(" "),o={ref:i,oid:a};for(const c of s){const[l,u]=c.split(":");l==="symref-target"?o.target=u:l==="peeled"&&(o.peeled=u)}r.push(o)}return r}async function mG({prefix:e,symrefs:t,peelTags:r}){const n=[];return n.push(rt.encode(`command=ls-refs
`)),n.push(rt.encode(`agent=${ll.agent}
`)),(r||t||e)&&n.push(rt.delim()),r&&n.push(rt.encode("peel")),t&&n.push(rt.encode("symrefs")),e&&n.push(rt.encode(`ref-prefix ${e}`)),n.push(rt.flush()),n}async function gG({http:e,onAuth:t,onAuthSuccess:r,onAuthFailure:n,corsProxy:a,url:i,headers:s={},forPush:o=!1,protocolVersion:c=2,prefix:l,symrefs:u,peelTags:f}){try{j("http",e),j("url",i);const h=await lc.discover({http:e,onAuth:t,onAuthSuccess:r,onAuthFailure:n,corsProxy:a,service:o?"git-receive-pack":"git-upload-pack",url:i,headers:s,protocolVersion:c});if(h.protocolVersion===1)return K_(h,l,u,f);const d=await mG({prefix:l,symrefs:u,peelTags:f}),p=await lc.connect({http:e,auth:h.auth,headers:s,corsProxy:a,service:o?"git-receive-pack":"git-upload-pack",url:i,body:d});return pG(p.body)}catch(h){throw h.caller="git.listServerRefs",h}}async function yG({fs:e,dir:t,gitdir:r=q(t,".git")}){try{return j("fs",e),j("gitdir",r),W.listTags({fs:new te(e),gitdir:r})}catch(n){throw n.caller="git.listTags",n}}async function Z_({fs:e,cache:t,gitdir:r,oid:n}){const{type:a,object:i}=await Ze({fs:e,cache:t,gitdir:r,oid:n});if(a==="tag")return n=St.from(i).parse().object,Z_({fs:e,cache:t,gitdir:r,oid:n});if(a!=="commit")throw new xt(n,a,"commit");return{commit:Ge.from(i),oid:n}}async function Ju({fs:e,cache:t,gitdir:r,oid:n}){const{commit:a,oid:i}=await Z_({fs:e,cache:t,gitdir:r,oid:n});return{oid:i,commit:a.parse(),payload:a.withoutSignature()}}function vG(e,t){return e.committer.timestamp-t.committer.timestamp}const wG="e69de29bb2d1d6434b8b29ae775ad8c2e48c5391";async function Gg({fs:e,cache:t,gitdir:r,oid:n,fileId:a}){if(a===wG)return;const i=n;let s;const o=await Va({fs:e,cache:t,gitdir:r,oid:n}),c=o.tree;return a===o.oid?s=o.path:(s=await Y_({fs:e,cache:t,gitdir:r,tree:c,fileId:a,oid:i}),Array.isArray(s)&&(s.length===0?s=void 0:s.length===1&&(s=s[0]))),s}async function Y_({fs:e,cache:t,gitdir:r,tree:n,fileId:a,oid:i,filepaths:s=[],parentPath:o=""}){const c=n.entries().map(function(l){let u;return l.oid===a?(u=q(o,l.path),s.push(u)):l.type==="tree"&&(u=Ze({fs:e,cache:t,gitdir:r,oid:l.oid}).then(function({object:f}){return Y_({fs:e,cache:t,gitdir:r,tree:Nt.from(f),fileId:a,oid:i,filepaths:s,parentPath:q(o,l.path)})})),u});return await Promise.all(c),s}async function _G({fs:e,cache:t,gitdir:r,filepath:n,ref:a,depth:i,since:s,force:o,follow:c}){const l=typeof s>"u"?void 0:Math.floor(s.valueOf()/1e3),u=[],f=await os.read({fs:e,gitdir:r}),h=await W.resolve({fs:e,gitdir:r,ref:a}),d=[await Ju({fs:e,cache:t,gitdir:r,oid:h})];let p,m,y;function g(v){y&&n&&u.push(v)}for(;d.length>0;){const v=d.pop();if(l!==void 0&&v.commit.committer.timestamp<=l)break;if(n){let w;try{w=await Ks({fs:e,cache:t,gitdir:r,oid:v.commit.tree,filepath:n}),m&&p!==w&&u.push(m),p=w,m=v,y=!0}catch(_){if(_ instanceof Be){let b=c&&p;if(b&&(b=await Gg({fs:e,cache:t,gitdir:r,oid:v.commit.tree,fileId:p}),b))if(Array.isArray(b)){if(m){const x=await Gg({fs:e,cache:t,gitdir:r,oid:m.commit.tree,fileId:p});if(Array.isArray(x))if(b=b.filter(S=>x.indexOf(S)===-1),b.length===1)b=b[0],n=b,m&&u.push(m);else{b=!1,m&&u.push(m);break}}}else n=b,m&&u.push(m);if(!b){if(y&&p&&(u.push(m),!o))break;if(!o&&!c)throw _}m=v,y=!1}else throw _}}else u.push(v);if(i!==void 0&&u.length===i){g(v);break}if(!f.has(v.oid))for(const w of v.commit.parent){const _=await Ju({fs:e,cache:t,gitdir:r,oid:w});d.map(b=>b.oid).includes(_.oid)||d.push(_)}d.length===0&&g(v),d.sort((w,_)=>vG(w.commit,_.commit))}return u}async function bG({fs:e,dir:t,gitdir:r=q(t,".git"),filepath:n,ref:a="HEAD",depth:i,since:s,force:o,follow:c,cache:l={}}){try{return j("fs",e),j("gitdir",r),j("ref",a),await _G({fs:new te(e),cache:l,gitdir:r,filepath:n,ref:a,depth:i,since:s,force:o,follow:c})}catch(u){throw u.caller="git.log",u}}async function $G({fs:e,onSign:t,dir:r,gitdir:n=q(r,".git"),ours:a,theirs:i,fastForward:s=!0,fastForwardOnly:o=!1,dryRun:c=!1,noUpdateBranch:l=!1,abortOnConflict:u=!0,message:f,author:h,committer:d,signingKey:p,cache:m={},mergeDriver:y}){try{j("fs",e),p&&j("onSign",t);const g=new te(e),v=await oa({fs:g,gitdir:n,author:h});if(!v&&(!o||!s))throw new Et("author");const w=await Gs({fs:g,gitdir:n,author:v,committer:d});if(!w&&(!o||!s))throw new Et("committer");return await V_({fs:g,cache:m,dir:r,gitdir:n,ours:a,theirs:i,fastForward:s,fastForwardOnly:o,dryRun:c,noUpdateBranch:l,abortOnConflict:u,message:f,author:v,committer:w,signingKey:p,onSign:t,mergeDriver:y})}catch(g){throw g.caller="git.merge",g}}const SG={commit:16,tree:32,blob:48,tag:64,ofs_delta:96,ref_delta:112};async function X_({fs:e,cache:t,dir:r,gitdir:n=q(r,".git"),oids:a}){const i=new Pw,s=[];function o(u,f){const h=X.from(u,f);s.push(h),i.update(h)}async function c({stype:u,object:f}){const h=SG[u];let d=f.length,p=d>15?128:0;const m=d&15;d=d>>>4;let y=(p|h|m).toString(16);for(o(y,"hex");p;)p=d>127?128:0,y=p|d&127,o(Xu(2,y),"hex"),d=d>>>7;o(X.from(await N_(f)))}o("PACK"),o("00000002","hex"),o(Xu(8,a.length),"hex");for(const u of a){const{type:f,object:h}=await Ze({fs:e,cache:t,gitdir:n,oid:u});await c({write:o,object:h,stype:f})}const l=i.digest();return s.push(l),s}async function EG({fs:e,cache:t,gitdir:r,oids:n,write:a}){const i=await X_({fs:e,cache:t,gitdir:r,oids:n}),s=X.from(await cc(i)),c=`pack-${s.slice(-20).toString("hex")}.pack`;return a?(await e.write(q(r,`objects/pack/${c}`),s),{filename:c}):{filename:c,packfile:new Uint8Array(s)}}async function xG({fs:e,dir:t,gitdir:r=q(t,".git"),oids:n,write:a=!1,cache:i={}}){try{return j("fs",e),j("gitdir",r),j("oids",n),await EG({fs:new te(e),cache:i,gitdir:r,oids:n,write:a})}catch(s){throw s.caller="git.packObjects",s}}async function OG({fs:e,http:t,onProgress:r,onMessage:n,onAuth:a,onAuthSuccess:i,onAuthFailure:s,dir:o,gitdir:c=q(o,".git"),ref:l,url:u,remote:f,remoteRef:h,prune:d=!1,pruneTags:p=!1,fastForward:m=!0,fastForwardOnly:y=!1,corsProxy:g,singleBranch:v,headers:w={},author:_,committer:b,signingKey:x,cache:S={}}){try{j("fs",e),j("gitdir",c);const E=new te(e),C=await oa({fs:E,gitdir:c,author:_});if(!C)throw new Et("author");const k=await Gs({fs:E,gitdir:c,author:C,committer:b});if(!k)throw new Et("committer");return await q_({fs:E,cache:S,http:t,onProgress:r,onMessage:n,onAuth:a,onAuthSuccess:i,onAuthFailure:s,dir:o,gitdir:c,ref:l,url:u,remote:f,remoteRef:h,fastForward:m,fastForwardOnly:y,corsProxy:g,singleBranch:v,headers:w,author:C,committer:k,signingKey:x,prune:d,pruneTags:p})}catch(E){throw E.caller="git.pull",E}}async function AG({fs:e,cache:t,dir:r,gitdir:n=q(r,".git"),start:a,finish:i}){const s=await os.read({fs:e,gitdir:n}),o=new Set,c=new Set;for(const f of a)o.add(await W.resolve({fs:e,gitdir:n,ref:f}));for(const f of i)try{const h=await W.resolve({fs:e,gitdir:n,ref:f});c.add(h)}catch{}const l=new Set;async function u(f){l.add(f);const{type:h,object:d}=await Ze({fs:e,cache:t,gitdir:n,oid:f});if(h==="tag"){const m=St.from(d).headers().object;return u(m)}if(h!=="commit")throw new xt(f,h,"commit");if(!s.has(f)){const m=Ge.from(d).headers().parent;for(f of m)!c.has(f)&&!l.has(f)&&await u(f)}}for(const f of o)await u(f);return l}async function au({fs:e,cache:t,dir:r,gitdir:n=q(r,".git"),oids:a}){const i=new Set;async function s(o){if(i.has(o))return;i.add(o);const{type:c,object:l}=await Ze({fs:e,cache:t,gitdir:n,oid:o});if(c==="tag"){const f=St.from(l).headers().object;await s(f)}else if(c==="commit"){const f=Ge.from(l).headers().tree;await s(f)}else if(c==="tree"){const u=Nt.from(l);for(const f of u)f.type==="blob"&&i.add(f.oid),f.type==="tree"&&await s(f.oid)}}for(const o of a)await s(o);return i}async function kG(e){const t={};let r="";const n=rt.streamReader(e);let a=await n();for(;a!==!0;)a!==null&&(r+=a.toString("utf8")+`
`),a=await n();const i=r.toString("utf8").split(`
`);if(a=i.shift(),!a.startsWith("unpack "))throw new sa('unpack ok" or "unpack [error message]',a);t.ok=a==="unpack ok",t.ok||(t.error=a.slice(7)),t.refs={};for(const s of i){if(s.trim()==="")continue;const o=s.slice(0,2),c=s.slice(3);let l=c.indexOf(" ");l===-1&&(l=c.length);const u=c.slice(0,l),f=c.slice(l+1);t.refs[u]={ok:o==="ok",error:f}}return t}async function CG({capabilities:e=[],triplets:t=[]}){const r=[];let n=`\0 ${e.join(" ")}`;for(const a of t)r.push(rt.encode(`${a.oldoid} ${a.oid} ${a.fullRef}${n}
`)),n="";return r.push(rt.flush()),r}async function TG({fs:e,cache:t,http:r,onProgress:n,onMessage:a,onAuth:i,onAuthSuccess:s,onAuthFailure:o,gitdir:c,ref:l,remoteRef:u,remote:f,url:h,force:d=!1,delete:p=!1,corsProxy:m,headers:y={}}){const g=l||await ca({fs:e,gitdir:c});if(typeof g>"u")throw new Ut("ref");const v=await lt.get({fs:e,gitdir:c});f=f||await v.get(`branch.${g}.pushRemote`)||await v.get("remote.pushDefault")||await v.get(`branch.${g}.remote`)||"origin";const w=h||await v.get(`remote.${f}.pushurl`)||await v.get(`remote.${f}.url`);if(typeof w>"u")throw new Ut("remote OR url");const _=u||await v.get(`branch.${g}.merge`);if(typeof w>"u")throw new Ut("remoteRef");m===void 0&&(m=await v.get("http.corsProxy"));const b=await W.expand({fs:e,gitdir:c,ref:g}),x=p?"0000000000000000000000000000000000000000":await W.resolve({fs:e,gitdir:c,ref:b}),S=cl.getRemoteHelperFor({url:w}),E=await S.discover({http:r,onAuth:i,onAuthSuccess:s,onAuthFailure:o,corsProxy:m,service:"git-receive-pack",url:w,headers:y,protocolVersion:1}),C=E.auth;let k;if(!_)k=b;else try{k=await W.expandAgainstMap({ref:_,map:E.refs})}catch(N){if(N instanceof Be)k=_.startsWith("refs/")?_:`refs/heads/${_}`;else throw N}const R=E.refs.get(k)||"0000000000000000000000000000000000000000",D=!E.capabilities.has("no-thin");let L=new Set;if(!p){const N=[...E.refs.values()];let z=new Set;if(R!=="0000000000000000000000000000000000000000"){const F=await lh({fs:e,cache:t,gitdir:c,oids:[x,R]});for(const $ of F)N.push($);D&&(z=await au({fs:e,cache:t,gitdir:c,oids:F}))}if(!N.includes(x)){const F=await AG({fs:e,cache:t,gitdir:c,start:[x],finish:N});L=await au({fs:e,cache:t,gitdir:c,oids:F})}if(D){try{const F=await W.resolve({fs:e,gitdir:c,ref:`refs/remotes/${f}/HEAD`,depth:2}),{oid:$}=await W.resolveAgainstMap({ref:F.replace(`refs/remotes/${f}/`,""),fullref:F,map:E.refs}),I=[$];for(const B of await au({fs:e,cache:t,gitdir:c,oids:I}))z.add(B)}catch{}for(const F of z)L.delete(F)}if(x===R&&(d=!0),!d){if(b.startsWith("refs/tags")&&R!=="0000000000000000000000000000000000000000")throw new za("tag-exists");if(x!=="0000000000000000000000000000000000000000"&&R!=="0000000000000000000000000000000000000000"&&!await G_({fs:e,cache:t,gitdir:c,oid:x,ancestor:R,depth:-1}))throw new za("not-fast-forward")}}const H=U_([...E.capabilities],["report-status","side-band-64k",`agent=${ll.agent}`]),Y=await CG({capabilities:H,triplets:[{oldoid:R,oid:x,fullRef:k}]}),ce=p?[]:await X_({fs:e,cache:t,gitdir:c,oids:[...L]}),de=await S.connect({http:r,onProgress:n,corsProxy:m,service:"git-receive-pack",url:w,auth:C,headers:y,body:[...Y,...ce]}),{packfile:se,progress:ee}=await L_.demux(de.body);if(a){const N=B_(ee);Ws(N,async z=>{await a(z)})}const V=await kG(se);if(de.headers&&(V.headers=de.headers),f&&V.ok&&V.refs[k].ok){const N=`refs/remotes/${f}/${k.replace("refs/heads","")}`;p?await W.deleteRef({fs:e,gitdir:c,ref:N}):await W.writeRef({fs:e,gitdir:c,ref:N,value:x})}if(V.ok&&Object.values(V.refs).every(N=>N.ok))return V;{const N=Object.entries(V.refs).filter(([z,F])=>!F.ok).map(([z,F])=>`
  - ${z}: ${F.error}`).join("");throw new Ms(N,V)}}async function IG({fs:e,http:t,onProgress:r,onMessage:n,onAuth:a,onAuthSuccess:i,onAuthFailure:s,dir:o,gitdir:c=q(o,".git"),ref:l,remoteRef:u,remote:f="origin",url:h,force:d=!1,delete:p=!1,corsProxy:m,headers:y={},cache:g={}}){try{return j("fs",e),j("http",t),j("gitdir",c),await TG({fs:new te(e),cache:g,http:t,onProgress:r,onMessage:n,onAuth:a,onAuthSuccess:i,onAuthFailure:s,gitdir:c,ref:l,remoteRef:u,remote:f,url:h,force:d,delete:p,corsProxy:m,headers:y})}catch(v){throw v.caller="git.push",v}}async function J_({fs:e,cache:t,gitdir:r,oid:n}){const{type:a,object:i}=await Ze({fs:e,cache:t,gitdir:r,oid:n});if(a==="tag")return n=St.from(i).parse().object,J_({fs:e,cache:t,gitdir:r,oid:n});if(a!=="blob")throw new xt(n,a,"blob");return{oid:n,blob:new Uint8Array(i)}}async function Q_({fs:e,cache:t,gitdir:r,oid:n,filepath:a=void 0}){return a!==void 0&&(n=await Ks({fs:e,cache:t,gitdir:r,oid:n,filepath:a})),await J_({fs:e,cache:t,gitdir:r,oid:n})}async function PG({fs:e,dir:t,gitdir:r=q(t,".git"),oid:n,filepath:a,cache:i={}}){try{return j("fs",e),j("gitdir",r),j("oid",n),await Q_({fs:new te(e),cache:i,gitdir:r,oid:n,filepath:a})}catch(s){throw s.caller="git.readBlob",s}}async function NG({fs:e,dir:t,gitdir:r=q(t,".git"),oid:n,cache:a={}}){try{return j("fs",e),j("gitdir",r),j("oid",n),await Ju({fs:new te(e),cache:a,gitdir:r,oid:n})}catch(i){throw i.caller="git.readCommit",i}}async function jG({fs:e,cache:t,gitdir:r,ref:n="refs/notes/commits",oid:a}){const i=await W.resolve({gitdir:r,fs:e,ref:n}),{blob:s}=await Q_({fs:e,cache:t,gitdir:r,oid:i,filepath:a});return s}async function RG({fs:e,dir:t,gitdir:r=q(t,".git"),ref:n="refs/notes/commits",oid:a,cache:i={}}){try{return j("fs",e),j("gitdir",r),j("ref",n),j("oid",a),await jG({fs:new te(e),cache:i,gitdir:r,ref:n,oid:a})}catch(s){throw s.caller="git.readNote",s}}async function FG({fs:e,dir:t,gitdir:r=q(t,".git"),oid:n,format:a="parsed",filepath:i=void 0,encoding:s=void 0,cache:o={}}){try{j("fs",e),j("gitdir",r),j("oid",n);const c=new te(e);i!==void 0&&(n=await Ks({fs:c,cache:o,gitdir:r,oid:n,filepath:i}));const u=await Ze({fs:c,cache:o,gitdir:r,oid:n,format:a==="parsed"?"content":a});if(u.oid=n,a==="parsed")switch(u.format="parsed",u.type){case"commit":u.object=Ge.from(u.object).parse();break;case"tree":u.object=Nt.from(u.object).entries();break;case"blob":s?u.object=u.object.toString(s):(u.object=new Uint8Array(u.object),u.format="content");break;case"tag":u.object=St.from(u.object).parse();break;default:throw new xt(u.oid,u.type,"blob|commit|tag|tree")}else(u.format==="deflated"||u.format==="wrapped")&&(u.type=u.format);return u}catch(c){throw c.caller="git.readObject",c}}async function DG({fs:e,cache:t,gitdir:r,oid:n}){const{type:a,object:i}=await Ze({fs:e,cache:t,gitdir:r,oid:n,format:"content"});if(a!=="tag")throw new xt(n,a,"tag");const s=St.from(i);return{oid:n,tag:s.parse(),payload:s.payload()}}async function MG({fs:e,dir:t,gitdir:r=q(t,".git"),oid:n,cache:a={}}){try{return j("fs",e),j("gitdir",r),j("oid",n),await DG({fs:new te(e),cache:a,gitdir:r,oid:n})}catch(i){throw i.caller="git.readTag",i}}async function UG({fs:e,dir:t,gitdir:r=q(t,".git"),oid:n,filepath:a=void 0,cache:i={}}){try{return j("fs",e),j("gitdir",r),j("oid",n),await yi({fs:new te(e),cache:i,gitdir:r,oid:n,filepath:a})}catch(s){throw s.caller="git.readTree",s}}async function BG({fs:e,dir:t,gitdir:r=q(t,".git"),filepath:n,cache:a={}}){try{j("fs",e),j("gitdir",r),j("filepath",n),await mt.acquire({fs:new te(e),gitdir:r,cache:a},async function(i){i.delete({filepath:n})})}catch(i){throw i.caller="git.remove",i}}async function LG({fs:e,cache:t,onSign:r,gitdir:n,ref:a="refs/notes/commits",oid:i,author:s,committer:o,signingKey:c}){let l;try{l=await W.resolve({gitdir:n,fs:e,ref:a})}catch(p){if(!(p instanceof Be))throw p}let f=(await yi({fs:e,gitdir:n,oid:l||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"})).tree;f=f.filter(p=>p.path!==i);const h=await sh({fs:e,gitdir:n,tree:f});return await ol({fs:e,cache:t,onSign:r,gitdir:n,ref:a,tree:h,parent:l&&[l],message:`Note removed by 'isomorphic-git removeNote'
`,author:s,committer:o,signingKey:c})}async function zG({fs:e,onSign:t,dir:r,gitdir:n=q(r,".git"),ref:a="refs/notes/commits",oid:i,author:s,committer:o,signingKey:c,cache:l={}}){try{j("fs",e),j("gitdir",n),j("oid",i);const u=new te(e),f=await oa({fs:u,gitdir:n,author:s});if(!f)throw new Et("author");const h=await Gs({fs:u,gitdir:n,author:f,committer:o});if(!h)throw new Et("committer");return await LG({fs:u,cache:l,onSign:t,gitdir:n,ref:a,oid:i,author:f,committer:h,signingKey:c})}catch(u){throw u.caller="git.removeNote",u}}async function VG({fs:e,gitdir:t,oldref:r,ref:n,checkout:a=!1}){if(n!==Ir.clean(n))throw new Gr(n,Ir.clean(n));if(r!==Ir.clean(r))throw new Gr(r,Ir.clean(r));const i=`refs/heads/${r}`,s=`refs/heads/${n}`;if(await W.exists({fs:e,gitdir:t,ref:s}))throw new dr("branch",n,!1);const c=await W.resolve({fs:e,gitdir:t,ref:i,depth:1});await W.writeRef({fs:e,gitdir:t,ref:s,value:c}),await W.deleteRef({fs:e,gitdir:t,ref:i});const u=await ca({fs:e,gitdir:t,fullname:!0})===i;(a||u)&&await W.writeSymbolicRef({fs:e,gitdir:t,ref:"HEAD",value:s})}async function qG({fs:e,dir:t,gitdir:r=q(t,".git"),ref:n,oldref:a,checkout:i=!1}){try{return j("fs",e),j("gitdir",r),j("ref",n),j("oldref",a),await VG({fs:new te(e),gitdir:r,ref:n,oldref:a,checkout:i})}catch(s){throw s.caller="git.renameBranch",s}}async function eb({gitdir:e,type:t,object:r}){return Kr(pi.wrap({type:t,object:r}))}async function HG({fs:e,dir:t,gitdir:r=q(t,".git"),filepath:n,ref:a,cache:i={}}){try{j("fs",e),j("gitdir",r),j("filepath",n);const s=new te(e);let o,c;try{o=await W.resolve({fs:s,gitdir:r,ref:a||"HEAD"})}catch(f){if(a)throw f}if(o)try{o=await Ks({fs:s,cache:i,gitdir:r,oid:o,filepath:n})}catch{o=null}let l={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode:0,uid:0,gid:0,size:0};const u=t&&await s.read(q(t,n));u&&(c=await eb({gitdir:r,type:"blob",object:u}),o===c&&(l=await s.lstat(q(t,n)))),await mt.acquire({fs:s,gitdir:r,cache:i},async function(f){f.delete({filepath:n}),o&&f.insert({filepath:n,stats:l,oid:o})})}catch(s){throw s.caller="git.reset",s}}async function KG({fs:e,dir:t,gitdir:r=q(t,".git"),ref:n,depth:a}){try{return j("fs",e),j("gitdir",r),j("ref",n),await W.resolve({fs:new te(e),gitdir:r,ref:n,depth:a})}catch(i){throw i.caller="git.resolveRef",i}}async function GG({fs:e,dir:t,gitdir:r=q(t,".git"),path:n,value:a,append:i=!1}){try{j("fs",e),j("gitdir",r),j("path",n);const s=new te(e),o=await lt.get({fs:s,gitdir:r});i?await o.append(n,a):await o.set(n,a),await lt.save({fs:s,gitdir:r,config:o})}catch(s){throw s.caller="git.setConfig",s}}async function WG({fs:e,dir:t,gitdir:r=q(t,".git"),filepath:n,cache:a={}}){try{j("fs",e),j("gitdir",r),j("filepath",n);const i=new te(e);if(await sl.isIgnored({fs:i,gitdir:r,dir:t,filepath:n}))return"ignored";const o=await ZG({fs:i,cache:a,gitdir:r}),c=await tb({fs:i,cache:a,gitdir:r,tree:o,path:n}),l=await mt.acquire({fs:i,gitdir:r,cache:a},async function(m){for(const y of m)if(y.path===n)return y;return null}),u=await i.lstat(q(t,n)),f=c!==null,h=l!==null,d=u!==null,p=async()=>{if(h&&!rc(l,u))return l.oid;{const m=await i.read(q(t,n)),y=await eb({gitdir:r,type:"blob",object:m});return h&&l.oid===y&&u.size!==-1&&mt.acquire({fs:i,gitdir:r,cache:a},async function(g){g.insert({filepath:n,stats:u,oid:y})}),y}};if(!f&&!d&&!h)return"absent";if(!f&&!d&&h)return"*absent";if(!f&&d&&!h)return"*added";if(!f&&d&&h)return await p()===l.oid?"added":"*added";if(f&&!d&&!h)return"deleted";if(f&&!d&&h)return c===l.oid,"*deleted";if(f&&d&&!h)return await p()===c?"*undeleted":"*undeletemodified";if(f&&d&&h){const m=await p();return m===c?m===l.oid?"unmodified":"*unmodified":m===l.oid?"modified":"*modified"}}catch(i){throw i.caller="git.status",i}}async function tb({fs:e,cache:t,gitdir:r,tree:n,path:a}){typeof a=="string"&&(a=a.split("/"));const i=a.shift();for(const s of n)if(s.path===i){if(a.length===0)return s.oid;const{type:o,object:c}=await Ze({fs:e,cache:t,gitdir:r,oid:s.oid});if(o==="tree"){const l=Nt.from(c);return tb({fs:e,cache:t,gitdir:r,tree:l,path:a})}if(o==="blob")throw new xt(s.oid,o,"blob",a.join("/"))}return null}async function ZG({fs:e,cache:t,gitdir:r}){let n;try{n=await W.resolve({fs:e,gitdir:r,ref:"HEAD"})}catch(i){if(i instanceof Be)return[]}const{tree:a}=await yi({fs:e,cache:t,gitdir:r,oid:n});return a}async function YG({fs:e,dir:t,gitdir:r=q(t,".git"),ref:n="HEAD",filepaths:a=["."],filter:i,cache:s={},ignored:o=!1}){try{j("fs",e),j("gitdir",r),j("ref",n);const c=new te(e);return await qa({fs:c,cache:s,dir:t,gitdir:r,trees:[gn({ref:n}),il(),al()],map:async function(l,[u,f,h]){if(!u&&!h&&f&&!o&&await sl.isIgnored({fs:c,dir:t,filepath:l})||!a.some(x=>D_(l,x)))return null;if(i&&!i(l))return;const[d,p,m]=await Promise.all([u&&u.type(),f&&f.type(),h&&h.type()]),y=[d,p,m].includes("blob");if((d==="tree"||d==="special")&&!y)return;if(d==="commit")return null;if((p==="tree"||p==="special")&&!y)return;if(m==="commit")return null;if((m==="tree"||m==="special")&&!y)return;const g=d==="blob"?await u.oid():void 0,v=m==="blob"?await h.oid():void 0;let w;d!=="blob"&&p==="blob"&&m!=="blob"?w="42":p==="blob"&&(w=await f.oid());const _=[void 0,g,w,v],b=_.map(x=>_.indexOf(x));return b.shift(),[l,...b]}})}catch(c){throw c.caller="git.statusMatrix",c}}async function XG({fs:e,dir:t,gitdir:r=q(t,".git"),ref:n,object:a,force:i=!1}){try{j("fs",e),j("gitdir",r),j("ref",n);const s=new te(e);if(n===void 0)throw new Ut("ref");n=n.startsWith("refs/tags/")?n:`refs/tags/${n}`;const o=await W.resolve({fs:s,gitdir:r,ref:a||"HEAD"});if(!i&&await W.exists({fs:s,gitdir:r,ref:n}))throw new dr("tag",n);await W.writeRef({fs:s,gitdir:r,ref:n,value:o})}catch(s){throw s.caller="git.tag",s}}async function JG({fs:e,dir:t,gitdir:r=q(t,".git"),cache:n={},filepath:a,oid:i,mode:s,add:o,remove:c,force:l}){try{j("fs",e),j("gitdir",r),j("filepath",a);const u=new te(e);if(c)return await mt.acquire({fs:u,gitdir:r,cache:n},async function(h){let d;if(!l&&(d=await u.lstat(q(t,a)),d)){if(d.isDirectory())throw new xn("directory");return}h.has({filepath:a})&&h.delete({filepath:a})});let f;if(!i){if(f=await u.lstat(q(t,a)),!f)throw new Be(`file at "${a}" on disk and "remove" not set`);if(f.isDirectory())throw new xn("directory")}return await mt.acquire({fs:u,gitdir:r,cache:n},async function(h){if(!o&&!h.has({filepath:a}))throw new Be(`file at "${a}" in index and "add" not set`);let d={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode:s,uid:0,gid:0,size:0};if(!i){d=f;const p=d.isSymbolicLink()?await u.readlink(q(t,a)):await u.read(q(t,a));i=await Lt({fs:u,gitdir:r,type:"blob",format:"content",object:p})}return h.insert({filepath:a,oid:i,stats:d}),i})}catch(u){throw u.caller="git.updateIndex",u}}function QG(){try{return ll.version}catch(e){throw e.caller="git.version",e}}async function eW({fs:e,dir:t,gitdir:r=q(t,".git"),trees:n,map:a,reduce:i,iterate:s,cache:o={}}){try{return j("fs",e),j("gitdir",r),j("trees",n),await qa({fs:new te(e),cache:o,dir:t,gitdir:r,trees:n,map:a,reduce:i,iterate:s})}catch(c){throw c.caller="git.walk",c}}async function tW({fs:e,dir:t,gitdir:r=q(t,".git"),blob:n}){try{return j("fs",e),j("gitdir",r),j("blob",n),await Lt({fs:new te(e),gitdir:r,type:"blob",object:n,format:"content"})}catch(a){throw a.caller="git.writeBlob",a}}async function rW({fs:e,gitdir:t,commit:r}){const n=Ge.from(r).toObject();return await Lt({fs:e,gitdir:t,type:"commit",object:n,format:"content"})}async function nW({fs:e,dir:t,gitdir:r=q(t,".git"),commit:n}){try{return j("fs",e),j("gitdir",r),j("commit",n),await rW({fs:new te(e),gitdir:r,commit:n})}catch(a){throw a.caller="git.writeCommit",a}}async function aW({fs:e,dir:t,gitdir:r=q(t,".git"),type:n,object:a,format:i="parsed",oid:s,encoding:o=void 0}){try{const c=new te(e);if(i==="parsed"){switch(n){case"commit":a=Ge.from(a).toObject();break;case"tree":a=Nt.from(a).toObject();break;case"blob":a=X.from(a,o);break;case"tag":a=St.from(a).toObject();break;default:throw new xt(s||"",n,"blob|commit|tag|tree")}i="content"}return s=await Lt({fs:c,gitdir:r,type:n,object:a,oid:s,format:i}),s}catch(c){throw c.caller="git.writeObject",c}}async function iW({fs:e,dir:t,gitdir:r=q(t,".git"),ref:n,value:a,force:i=!1,symbolic:s=!1}){try{j("fs",e),j("gitdir",r),j("ref",n),j("value",a);const o=new te(e);if(n!==Ir.clean(n))throw new Gr(n,Ir.clean(n));if(!i&&await W.exists({fs:o,gitdir:r,ref:n}))throw new dr("ref",n);s?await W.writeSymbolicRef({fs:o,gitdir:r,ref:n,value:a}):(a=await W.resolve({fs:o,gitdir:r,ref:a}),await W.writeRef({fs:o,gitdir:r,ref:n,value:a}))}catch(o){throw o.caller="git.writeRef",o}}async function sW({fs:e,gitdir:t,tag:r}){const n=St.from(r).toObject();return await Lt({fs:e,gitdir:t,type:"tag",object:n,format:"content"})}async function oW({fs:e,dir:t,gitdir:r=q(t,".git"),tag:n}){try{return j("fs",e),j("gitdir",r),j("tag",n),await sW({fs:new te(e),gitdir:r,tag:n})}catch(a){throw a.caller="git.writeTag",a}}async function cW({fs:e,dir:t,gitdir:r=q(t,".git"),tree:n}){try{return j("fs",e),j("gitdir",r),j("tree",n),await sh({fs:new te(e),gitdir:r,tree:n})}catch(a){throw a.caller="git.writeTree",a}}var Mr={Errors:zH,STAGE:al,TREE:gn,WORKDIR:il,add:oK,abortMerge:rK,addNote:lK,addRemote:uK,annotatedTag:dK,branch:pK,checkout:gK,clone:AK,commit:kK,getConfig:ZK,getConfigAll:XK,setConfig:GG,currentBranch:CK,deleteBranch:IK,deleteRef:PK,deleteRemote:jK,deleteTag:FK,expandOid:BK,expandRef:LK,fastForward:HK,fetch:KK,findMergeBase:GK,findRoot:WK,getRemoteInfo:JK,getRemoteInfo2:QK,hashBlob:tG,indexPack:nG,init:aG,isDescendent:iG,isIgnored:sG,listBranches:oG,listFiles:lG,listNotes:fG,listRemotes:hG,listServerRefs:gG,listTags:yG,log:bG,merge:$G,packObjects:xG,pull:OG,push:IG,readBlob:PG,readCommit:NG,readNote:RG,readObject:FG,readTag:MG,readTree:UG,remove:BG,removeNote:zG,renameBranch:qG,resetIndex:HG,updateIndex:JG,resolveRef:KG,status:WG,statusMatrix:YG,tag:XG,version:QG,walk:eW,writeBlob:tW,writeCommit:nW,writeObject:aW,writeRef:iW,writeTag:oW,writeTree:cW};function lW(e){let t=[e];return{next(){return Promise.resolve({done:t.length===0,value:t.pop()})},return(){return t=[],{}},[Symbol.asyncIterator](){return this}}}function uW(e){return e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]?e[Symbol.iterator]():e.next?e:lW(e)}async function fW(e,t){const r=uW(e);for(;;){const{value:n,done:a}=await r.next();if(n&&await t(n),a)break}r.return&&r.return()}async function dW(e){let t=0;const r=[];await fW(e,i=>{r.push(i),t+=i.byteLength});const n=new Uint8Array(t);let a=0;for(const i of r)n.set(i,a),a+=i.byteLength;return n}function hW(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{next(){return t.read()},return(){return t.releaseLock(),{}},[Symbol.asyncIterator](){return this}}}async function pW({onProgress:e,url:t,method:r="GET",headers:n={},body:a}){a&&(a=await dW(a));const i=await fetch(t,{method:r,headers:n,body:a}),s=i.body&&i.body.getReader?hW(i.body):[new Uint8Array(await i.arrayBuffer())];n={};for(const[o,c]of i.headers.entries())n[o]=c;return{url:i.url,method:i.method,statusCode:i.status,statusMessage:i.statusText,body:s,headers:n}}var vo={request:pW},mW=gW;function gW(e){var t,r;if(typeof e!="function")throw new Error("expected a function but got "+e);return function(){return t||(t=!0,r=e.apply(this,arguments)),r}}(function(e){function t(g,v){var w;return g instanceof X?w=g:w=X.from(g.buffer,g.byteOffset,g.byteLength),w.toString(v)}var r=function(g){return X.from(g)};function n(g){for(var v=0,w=Math.min(256*256,g.length+1),_=new Uint16Array(w),b=[],x=0;;){var S=v<g.length;if(!S||x>=w-1){var E=_.subarray(0,x),C=E;if(b.push(String.fromCharCode.apply(null,C)),!S)return b.join("");g=g.subarray(v),v=0,x=0}var k=g[v++];if(!(k&128))_[x++]=k;else if((k&224)===192){var R=g[v++]&63;_[x++]=(k&31)<<6|R}else if((k&240)===224){var R=g[v++]&63,D=g[v++]&63;_[x++]=(k&31)<<12|R<<6|D}else if((k&248)===240){var R=g[v++]&63,D=g[v++]&63,L=g[v++]&63,H=(k&7)<<18|R<<12|D<<6|L;H>65535&&(H-=65536,_[x++]=H>>>10&1023|55296,H=56320|H&1023),_[x++]=H}}}function a(g){for(var v=0,w=g.length,_=0,b=Math.max(32,w+(w>>>1)+7),x=new Uint8Array(b>>>3<<3);v<w;){var S=g.charCodeAt(v++);if(S>=55296&&S<=56319){if(v<w){var E=g.charCodeAt(v);(E&64512)===56320&&(++v,S=((S&1023)<<10)+(E&1023)+65536)}if(S>=55296&&S<=56319)continue}if(_+4>x.length){b+=8,b*=1+v/g.length*2,b=b>>>3<<3;var C=new Uint8Array(b);C.set(x),x=C}if(S&4294967168)if(!(S&4294965248))x[_++]=S>>>6&31|192;else if(!(S&4294901760))x[_++]=S>>>12&15|224,x[_++]=S>>>6&63|128;else if(!(S&4292870144))x[_++]=S>>>18&7|240,x[_++]=S>>>12&63|128,x[_++]=S>>>6&63|128;else continue;else{x[_++]=S;continue}x[_++]=S&63|128}return x.slice?x.slice(0,_):x.subarray(0,_)}var i="Failed to ",s=function(g,v,w){if(g)throw new Error("".concat(i).concat(v,": the '").concat(w,"' option is unsupported."))},o=typeof X=="function"&&X.from,c=o?r:a;function l(){this.encoding="utf-8"}l.prototype.encode=function(g,v){return s(v&&v.stream,"encode","stream"),c(g)};function u(g){var v;try{var w=new Blob([g],{type:"text/plain;charset=UTF-8"});v=URL.createObjectURL(w);var _=new XMLHttpRequest;return _.open("GET",v,!1),_.send(),_.responseText}finally{v&&URL.revokeObjectURL(v)}}var f=!o&&typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function",h=["utf-8","utf8","unicode-1-1-utf-8"],d=n;o?d=t:f&&(d=function(g){try{return u(g)}catch{return n(g)}});var p="construct 'TextDecoder'",m="".concat(i," ").concat(p,": the ");function y(g,v){s(v&&v.fatal,p,"fatal"),g=g||"utf-8";var w;if(o?w=X.isEncoding(g):w=h.indexOf(g.toLowerCase())!==-1,!w)throw new RangeError("".concat(m," encoding label provided ('").concat(g,"') is invalid."));this.encoding=g,this.fatal=!1,this.ignoreBOM=!1}y.prototype.decode=function(g,v){s(v&&v.stream,"decode","stream");var w;return g instanceof Uint8Array?w=g:g.buffer instanceof ArrayBuffer?w=new Uint8Array(g.buffer):w=new Uint8Array(g),d(w,this.encoding)},e.TextEncoder=e.TextEncoder||l,e.TextDecoder=e.TextDecoder||y})(typeof window<"u"?window:typeof ar<"u"?ar:ar);var yW={encode:e=>new TextEncoder().encode(e),decode:e=>new TextDecoder().decode(e)},vW=wW;function wW(e,t,r){var n;return function(){if(!t)return e.apply(this,arguments);var a=this,i=arguments,s=r&&!n;if(clearTimeout(n),n=setTimeout(function(){if(n=null,!s)return e.apply(a,i)},t),s)return e.apply(this,arguments)}}function rb(e){if(e.length===0)return".";let t=nb(e);return t=t.reduce(SW,[]),uh(...t)}function _W(...e){let t="";for(let r of e)r.startsWith("/")?t=r:t=rb(uh(t,r));return t}function uh(...e){if(e.length===0)return"";let t=e.join("/");return t=t.replace(/\/{2,}/g,"/"),t}function nb(e){if(e.length===0)return[];if(e==="/")return["/"];let t=e.split("/");return t[t.length-1]===""&&t.pop(),e[0]==="/"?t[0]="/":t[0]!=="."&&t.unshift("."),t}function bW(e){const t=e.lastIndexOf("/");if(t===-1)throw new Error(`Cannot get dirname of "${e}"`);return t===0?"/":e.slice(0,t)}function $W(e){if(e==="/")throw new Error(`Cannot get basename of "${e}"`);const t=e.lastIndexOf("/");return t===-1?e:e.slice(t+1)}function SW(e,t){if(e.length===0)return e.push(t),e;if(t===".")return e;if(t===".."){if(e.length===1){if(e[0]==="/")throw new Error("Unable to normalize path - traverses above root directory");if(e[0]===".")return e.push(t),e}return e[e.length-1]===".."?(e.push(".."),e):(e.pop(),e)}return e.push(t),e}var fh={join:uh,normalize:rb,split:nb,basename:$W,dirname:bW,resolve:_W};function Zs(e){return class extends Error{constructor(...t){super(...t),this.code=e,this.message?this.message=e+": "+this.message:this.message=e}}}const EW=Zs("EEXIST"),xW=Zs("ENOENT"),OW=Zs("ENOTDIR"),AW=Zs("ENOTEMPTY"),kW=Zs("ETIMEDOUT");var ab={EEXIST:EW,ENOENT:xW,ENOTDIR:OW,ENOTEMPTY:AW,ETIMEDOUT:kW};const wt=fh,{EEXIST:Wg,ENOENT:CW,ENOTDIR:Zg,ENOTEMPTY:TW}=ab,yt=0;var IW=class{constructor(){}_makeRoot(t=new Map){return t.set(yt,{mode:511,type:"dir",size:0,ino:0,mtimeMs:Date.now()}),t}activate(t=null){t===null?this._root=new Map([["/",this._makeRoot()]]):typeof t=="string"?this._root=new Map([["/",this._makeRoot(this.parse(t))]]):this._root=t}get activated(){return!!this._root}deactivate(){this._root=void 0}size(){return this._countInodes(this._root.get("/"))-1}_countInodes(t){let r=1;for(let[n,a]of t)n!==yt&&(r+=this._countInodes(a));return r}autoinc(){return this._maxInode(this._root.get("/"))+1}_maxInode(t){let r=t.get(yt).ino;for(let[n,a]of t)n!==yt&&(r=Math.max(r,this._maxInode(a)));return r}print(t=this._root.get("/")){let r="";const n=(a,i)=>{for(let[s,o]of a){if(s===0)continue;let c=o.get(yt),l=c.mode.toString(8);r+=`${"	".repeat(i)}${s}	${l}`,c.type==="file"?r+=`	${c.size}	${c.mtimeMs}
`:(r+=`
`,n(o,i+1))}};return n(t,0),r}parse(t){let r=0;function n(o){const c=++r,l=o.length===1?"dir":"file";let[u,f,h]=o;return u=parseInt(u,8),f=f?parseInt(f):0,h=h?parseInt(h):Date.now(),new Map([[yt,{mode:u,type:l,size:f,mtimeMs:h,ino:c}]])}let a=t.trim().split(`
`),i=this._makeRoot(),s=[{indent:-1,node:i},{indent:0,node:null}];for(let o of a){let l=o.match(/^\t*/)[0].length;o=o.slice(l);let[u,...f]=o.split("	"),h=n(f);if(l<=s[s.length-1].indent)for(;l<=s[s.length-1].indent;)s.pop();s.push({indent:l,node:h}),s[s.length-2].node.set(u,h)}return i}_lookup(t,r=!0){let n=this._root,a="/",i=wt.split(t);for(let s=0;s<i.length;++s){let o=i[s];if(n=n.get(o),!n)throw new CW(t);if(r||s<i.length-1){const c=n.get(yt);if(c.type==="symlink"){let l=wt.resolve(a,c.target);n=this._lookup(l)}a?a=wt.join(a,o):a=o}}return n}mkdir(t,{mode:r}){if(t==="/")throw new Wg;let n=this._lookup(wt.dirname(t)),a=wt.basename(t);if(n.has(a))throw new Wg;let i=new Map,s={mode:r,type:"dir",size:0,mtimeMs:Date.now(),ino:this.autoinc()};i.set(yt,s),n.set(a,i)}rmdir(t){let r=this._lookup(t);if(r.get(yt).type!=="dir")throw new Zg;if(r.size>1)throw new TW;let n=this._lookup(wt.dirname(t)),a=wt.basename(t);n.delete(a)}readdir(t){let r=this._lookup(t);if(r.get(yt).type!=="dir")throw new Zg;return[...r.keys()].filter(n=>typeof n=="string")}writeStat(t,r,{mode:n}){let a;try{let l=this.stat(t);n==null&&(n=l.mode),a=l.ino}catch{}n==null&&(n=438),a==null&&(a=this.autoinc());let i=this._lookup(wt.dirname(t)),s=wt.basename(t),o={mode:n,type:"file",size:r,mtimeMs:Date.now(),ino:a},c=new Map;return c.set(yt,o),i.set(s,c),o}unlink(t){let r=this._lookup(wt.dirname(t)),n=wt.basename(t);r.delete(n)}rename(t,r){let n=wt.basename(r),a=this._lookup(t);this._lookup(wt.dirname(r)).set(n,a),this.unlink(t)}stat(t){return this._lookup(t).get(yt)}lstat(t){return this._lookup(t,!1).get(yt)}readlink(t){return this._lookup(t,!1).get(yt).target}symlink(t,r){let n,a;try{let l=this.stat(r);a===null&&(a=l.mode),n=l.ino}catch{}a==null&&(a=40960),n==null&&(n=this.autoinc());let i=this._lookup(wt.dirname(r)),s=wt.basename(r),o={mode:a,type:"symlink",target:t,size:0,mtimeMs:Date.now(),ino:n},c=new Map;return c.set(yt,o),i.set(s,c),o}_du(t){let r=0;for(const[n,a]of t.entries())n===yt?r+=a.size:r+=this._du(a);return r}du(t){let r=this._lookup(t);return this._du(r)}};class ib{constructor(t="keyval-store",r="keyval"){this.storeName=r,this._dbName=t,this._storeName=r,this._init()}_init(){this._dbp||(this._dbp=new Promise((t,r)=>{const n=indexedDB.open(this._dbName);n.onerror=()=>r(n.error),n.onsuccess=()=>t(n.result),n.onupgradeneeded=()=>{n.result.createObjectStore(this._storeName)}}))}_withIDBStore(t,r){return this._init(),this._dbp.then(n=>new Promise((a,i)=>{const s=n.transaction(this.storeName,t);s.oncomplete=()=>a(),s.onabort=s.onerror=()=>i(s.error),r(s.objectStore(this.storeName))}))}_close(){return this._init(),this._dbp.then(t=>{t.close(),this._dbp=void 0})}}let iu;function la(){return iu||(iu=new ib),iu}function PW(e,t=la()){let r;return t._withIDBStore("readwrite",n=>{r=n.get(e)}).then(()=>r.result)}function NW(e,t,r=la()){return r._withIDBStore("readwrite",n=>{n.put(t,e)})}function jW(e,t,r=la()){return r._withIDBStore("readwrite",n=>{const a=n.get(e);a.onsuccess=()=>{n.put(t(a.result),e)}})}function RW(e,t=la()){return t._withIDBStore("readwrite",r=>{r.delete(e)})}function FW(e=la()){return e._withIDBStore("readwrite",t=>{t.clear()})}function DW(e=la()){const t=[];return e._withIDBStore("readwrite",r=>{(r.openKeyCursor||r.openCursor).call(r).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}}).then(()=>t)}function MW(e=la()){return e._close()}const UW=Object.freeze(Object.defineProperty({__proto__:null,Store:ib,clear:FW,close:MW,del:RW,get:PW,keys:DW,set:NW,update:jW},Symbol.toStringTag,{value:"Module"})),sb=ef(UW),an=sb;var BW=class{constructor(t,r){this._database=t,this._storename=r,this._store=new an.Store(this._database,this._storename)}saveSuperblock(t){return an.set("!root",t,this._store)}loadSuperblock(){return an.get("!root",this._store)}readFile(t){return an.get(t,this._store)}writeFile(t,r){return an.set(t,r,this._store)}unlink(t){return an.del(t,this._store)}wipe(){return an.clear(this._store)}close(){return an.close(this._store)}},LW=class{constructor(t){this._url=t}loadSuperblock(){return fetch(this._url+"/.superblock.txt").then(t=>t.ok?t.text():null)}async readFile(t){const r=await fetch(this._url+t);if(r.status===200)return r.arrayBuffer();throw new Error("ENOENT")}async sizeFile(t){const r=await fetch(this._url+t,{method:"HEAD"});if(r.status===200)return r.headers.get("content-length");throw new Error("ENOENT")}};const Pi=sb,zW=e=>new Promise(t=>setTimeout(t,e));var VW=class{constructor(t,r){this._id=Math.random(),this._database=t,this._storename=r,this._store=new Pi.Store(this._database,this._storename),this._lock=null}async has({margin:t=2e3}={}){if(this._lock&&this._lock.holder===this._id){const r=Date.now();return this._lock.expires>r+t?!0:await this.renew()}else return!1}async renew({ttl:t=5e3}={}){let r;return await Pi.update("lock",n=>{const i=Date.now()+t;return r=n&&n.holder===this._id,this._lock=r?{holder:this._id,expires:i}:n,this._lock},this._store),r}async acquire({ttl:t=5e3}={}){let r,n,a;if(await Pi.update("lock",i=>{const s=Date.now(),o=s+t;return n=i&&i.expires<s,r=i===void 0||n,a=i&&i.holder===this._id,this._lock=r?{holder:this._id,expires:o}:i,this._lock},this._store),a)throw new Error("Mutex double-locked");return r}async wait({interval:t=100,limit:r=6e3,ttl:n}={}){for(;r--;){if(await this.acquire({ttl:n}))return!0;await zW(t)}throw new Error("Mutex timeout")}async release({force:t=!1}={}){let r,n,a;if(await Pi.update("lock",i=>(r=t||i&&i.holder===this._id,n=i===void 0,a=i&&i.holder!==this._id,this._lock=r?void 0:i,this._lock),this._store),await Pi.close(this._store),!r&&!t){if(n)throw new Error("Mutex double-freed");if(a)throw new Error("Mutex lost ownership")}return r}},qW=class{constructor(t){this._id=Math.random(),this._database=t,this._has=!1,this._release=null}async has(){return this._has}async acquire(){return new Promise(t=>{navigator.locks.request(this._database+"_lock",{ifAvailable:!0},r=>(this._has=!!r,t(!!r),new Promise(n=>{this._release=n})))})}async wait({timeout:t=6e5}={}){return new Promise((r,n)=>{const a=new AbortController;setTimeout(()=>{a.abort(),n(new Error("Mutex timeout"))},t),navigator.locks.request(this._database+"_lock",{signal:a.signal},i=>(this._has=!!i,r(!!i),new Promise(s=>{this._release=s})))})}async release({force:t=!1}={}){this._has=!1,this._release?this._release():t&&navigator.locks.request(this._database+"_lock",{steal:!0},r=>!0)}};const{encode:HW,decode:Yg}=yW,KW=vW,GW=IW,{ENOENT:WW,ENOTEMPTY:ZW,ETIMEDOUT:YW}=ab,XW=BW,JW=LW,QW=VW,eZ=qW,Ni=fh;var tZ=class{constructor(){this.saveSuperblock=KW(()=>{this.flush()},500)}async init(t,{wipe:r,url:n,urlauto:a,fileDbName:i=t,db:s=null,fileStoreName:o=t+"_files",lockDbName:c=t+"_lock",lockStoreName:l=t+"_lock"}={}){this._name=t,this._idb=s||new XW(i,o),this._mutex=navigator.locks?new eZ(t):new QW(c,l),this._cache=new GW(t),this._opts={wipe:r,url:n},this._needsWipe=!!r,n&&(this._http=new JW(n),this._urlauto=!!a)}async activate(){if(this._cache.activated)return;this._needsWipe&&(this._needsWipe=!1,await this._idb.wipe(),await this._mutex.release({force:!0})),await this._mutex.has()||await this._mutex.wait();const t=await this._idb.loadSuperblock();if(t)this._cache.activate(t);else if(this._http){const r=await this._http.loadSuperblock();this._cache.activate(r),await this._saveSuperblock()}else this._cache.activate();if(!await this._mutex.has())throw new YW}async deactivate(){await this._mutex.has()&&await this._saveSuperblock(),this._cache.deactivate();try{await this._mutex.release()}catch(t){console.log(t)}await this._idb.close()}async _saveSuperblock(){this._cache.activated&&(this._lastSavedAt=Date.now(),await this._idb.saveSuperblock(this._cache._root))}_writeStat(t,r,n){let a=Ni.split(Ni.dirname(t)),i=a.shift();for(let s of a){i=Ni.join(i,s);try{this._cache.mkdir(i,{mode:511})}catch{}}return this._cache.writeStat(t,r,n)}async readFile(t,r){const{encoding:n}=r;if(n&&n!=="utf8")throw new Error('Only "utf8" encoding is supported in readFile');let a=null,i=null;try{i=this._cache.stat(t),a=await this._idb.readFile(i.ino)}catch(s){if(!this._urlauto)throw s}if(!a&&this._http){let s=this._cache.lstat(t);for(;s.type==="symlink";)t=Ni.resolve(Ni.dirname(t),s.target),s=this._cache.lstat(t);a=await this._http.readFile(t)}if(a&&((!i||i.size!=a.byteLength)&&(i=await this._writeStat(t,a.byteLength,{mode:i?i.mode:438}),this.saveSuperblock()),n==="utf8"?a=Yg(a):a.toString=()=>Yg(a)),!i)throw new WW(t);return a}async writeFile(t,r,n){const{mode:a,encoding:i="utf8"}=n;if(typeof r=="string"){if(i!=="utf8")throw new Error('Only "utf8" encoding is supported in writeFile');r=HW(r)}const s=await this._cache.writeStat(t,r.byteLength,{mode:a});await this._idb.writeFile(s.ino,r)}async unlink(t,r){const n=this._cache.lstat(t);this._cache.unlink(t),n.type!=="symlink"&&await this._idb.unlink(n.ino)}readdir(t,r){return this._cache.readdir(t)}mkdir(t,r){const{mode:n=511}=r;this._cache.mkdir(t,{mode:n})}rmdir(t,r){if(t==="/")throw new ZW;this._cache.rmdir(t)}rename(t,r){this._cache.rename(t,r)}stat(t,r){return this._cache.stat(t)}lstat(t,r){return this._cache.lstat(t)}readlink(t,r){return this._cache.readlink(t)}symlink(t,r){this._cache.symlink(t,r)}async backFile(t,r){let n=await this._http.sizeFile(t);await this._writeStat(t,n,r)}du(t){return this._cache.du(t)}flush(){return this._saveSuperblock()}},rZ=class{constructor(t){this.type=t.type,this.mode=t.mode,this.size=t.size,this.ino=t.ino,this.mtimeMs=t.mtimeMs,this.ctimeMs=t.ctimeMs||t.mtimeMs,this.uid=1,this.gid=1,this.dev=1}isFile(){return this.type==="file"}isDirectory(){return this.type==="dir"}isSymbolicLink(){return this.type==="symlink"}};const nZ=tZ,Xg=rZ,uc=fh;function $r(e,t,...r){return e=uc.normalize(e),(typeof t>"u"||typeof t=="function")&&(t={}),typeof t=="string"&&(t={encoding:t}),[e,t,...r]}function aZ(e,t,r,...n){return e=uc.normalize(e),(typeof r>"u"||typeof r=="function")&&(r={}),typeof r=="string"&&(r={encoding:r}),[e,t,r,...n]}function Jg(e,t,...r){return[uc.normalize(e),uc.normalize(t),...r]}var iZ=class{constructor(t,r={}){this.init=this.init.bind(this),this.readFile=this._wrap(this.readFile,$r,!1),this.writeFile=this._wrap(this.writeFile,aZ,!0),this.unlink=this._wrap(this.unlink,$r,!0),this.readdir=this._wrap(this.readdir,$r,!1),this.mkdir=this._wrap(this.mkdir,$r,!0),this.rmdir=this._wrap(this.rmdir,$r,!0),this.rename=this._wrap(this.rename,Jg,!0),this.stat=this._wrap(this.stat,$r,!1),this.lstat=this._wrap(this.lstat,$r,!1),this.readlink=this._wrap(this.readlink,$r,!1),this.symlink=this._wrap(this.symlink,Jg,!0),this.backFile=this._wrap(this.backFile,$r,!0),this.du=this._wrap(this.du,$r,!1),this._deactivationPromise=null,this._deactivationTimeout=null,this._activationPromise=null,this._operations=new Set,t&&this.init(t,r)}async init(...t){return this._initPromiseResolve&&await this._initPromise,this._initPromise=this._init(...t),this._initPromise}async _init(t,r={}){await this._gracefulShutdown(),this._activationPromise&&await this._deactivate(),this._backend&&this._backend.destroy&&await this._backend.destroy(),this._backend=r.backend||new nZ,this._backend.init&&await this._backend.init(t,r),this._initPromiseResolve&&(this._initPromiseResolve(),this._initPromiseResolve=null),r.defer||this.stat("/")}async _gracefulShutdown(){this._operations.size>0&&(this._isShuttingDown=!0,await new Promise(t=>this._gracefulShutdownResolve=t),this._isShuttingDown=!1,this._gracefulShutdownResolve=null)}_wrap(t,r,n){return async(...a)=>{a=r(...a);let i={name:t.name,args:a};this._operations.add(i);try{return await this._activate(),await t.apply(this,a)}finally{this._operations.delete(i),n&&this._backend.saveSuperblock(),this._operations.size===0&&(this._deactivationTimeout||clearTimeout(this._deactivationTimeout),this._deactivationTimeout=setTimeout(this._deactivate.bind(this),500))}}}async _activate(){this._initPromise||console.warn(new Error(`Attempted to use LightningFS ${this._name} before it was initialized.`)),await this._initPromise,this._deactivationTimeout&&(clearTimeout(this._deactivationTimeout),this._deactivationTimeout=null),this._deactivationPromise&&await this._deactivationPromise,this._deactivationPromise=null,this._activationPromise||(this._activationPromise=this._backend.activate?this._backend.activate():Promise.resolve()),await this._activationPromise}async _deactivate(){return this._activationPromise&&await this._activationPromise,this._deactivationPromise||(this._deactivationPromise=this._backend.deactivate?this._backend.deactivate():Promise.resolve()),this._activationPromise=null,this._gracefulShutdownResolve&&this._gracefulShutdownResolve(),this._deactivationPromise}async readFile(t,r){return this._backend.readFile(t,r)}async writeFile(t,r,n){return await this._backend.writeFile(t,r,n),null}async unlink(t,r){return await this._backend.unlink(t,r),null}async readdir(t,r){return this._backend.readdir(t,r)}async mkdir(t,r){return await this._backend.mkdir(t,r),null}async rmdir(t,r){return await this._backend.rmdir(t,r),null}async rename(t,r){return await this._backend.rename(t,r),null}async stat(t,r){const n=await this._backend.stat(t,r);return new Xg(n)}async lstat(t,r){const n=await this._backend.lstat(t,r);return new Xg(n)}async readlink(t,r){return this._backend.readlink(t,r)}async symlink(t,r){return await this._backend.symlink(t,r),null}async backFile(t,r){return await this._backend.backFile(t,r),null}async du(t){return this._backend.du(t)}async flush(){return this._backend.flush()}};const sZ=mW,oZ=iZ;function At(e,t){return typeof e=="function"&&(t=e),t=sZ(t),[(...n)=>t(null,...n),t]}var cZ=class{constructor(...t){this.promises=new oZ(...t),this.init=this.init.bind(this),this.readFile=this.readFile.bind(this),this.writeFile=this.writeFile.bind(this),this.unlink=this.unlink.bind(this),this.readdir=this.readdir.bind(this),this.mkdir=this.mkdir.bind(this),this.rmdir=this.rmdir.bind(this),this.rename=this.rename.bind(this),this.stat=this.stat.bind(this),this.lstat=this.lstat.bind(this),this.readlink=this.readlink.bind(this),this.symlink=this.symlink.bind(this),this.backFile=this.backFile.bind(this),this.du=this.du.bind(this),this.flush=this.flush.bind(this)}init(t,r){return this.promises.init(t,r)}readFile(t,r,n){const[a,i]=At(r,n);this.promises.readFile(t,r).then(a).catch(i)}writeFile(t,r,n,a){const[i,s]=At(n,a);this.promises.writeFile(t,r,n).then(i).catch(s)}unlink(t,r,n){const[a,i]=At(r,n);this.promises.unlink(t,r).then(a).catch(i)}readdir(t,r,n){const[a,i]=At(r,n);this.promises.readdir(t,r).then(a).catch(i)}mkdir(t,r,n){const[a,i]=At(r,n);this.promises.mkdir(t,r).then(a).catch(i)}rmdir(t,r,n){const[a,i]=At(r,n);this.promises.rmdir(t,r).then(a).catch(i)}rename(t,r,n){const[a,i]=At(n);this.promises.rename(t,r).then(a).catch(i)}stat(t,r,n){const[a,i]=At(r,n);this.promises.stat(t).then(a).catch(i)}lstat(t,r,n){const[a,i]=At(r,n);this.promises.lstat(t).then(a).catch(i)}readlink(t,r,n){const[a,i]=At(r,n);this.promises.readlink(t).then(a).catch(i)}symlink(t,r,n){const[a,i]=At(n);this.promises.symlink(t,r).then(a).catch(i)}backFile(t,r,n){const[a,i]=At(r,n);this.promises.backFile(t,r).then(a).catch(i)}du(t,r){const[n,a]=At(r);this.promises.du(t).then(n).catch(a)}flush(t){const[r,n]=At(t);this.promises.flush().then(r).catch(n)}};const lZ=we(cZ);class uZ extends lZ{constructor(r){super(r);Ie(this,"name","fs");this.name=r}async wipe(){await this.init(this.name,{wipe:!0})}async writeFileSync(r,n){return await this.promises.writeFile(r,n)}async mkdirSync(r,n={}){return n.recursive?await this.mkdirRecursiveSync(r):await this.promises.mkdir(r)}async existsSync(r){try{if(await this.promises.stat(r))return!0}catch{console.log(`lfs: ${r} not found`)}return!1}async statSync(r){return await this.promises.stat(r)}async readFileSync(r){return await this.promises.readFile(r)}async unlinkSync(r){return await this.promises.unlink(r)}async readdirSync(r){return await this.promises.readdir(r)}}var fc={exports:{}};/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */fc.exports;(function(e,t){(function(r){var n=t,a=e&&e.exports==n&&e,i=typeof ar=="object"&&ar;(i.global===i||i.window===i)&&(r=i);var s=function(p){this.message=p};s.prototype=new Error,s.prototype.name="InvalidCharacterError";var o=function(p){throw new s(p)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,u=function(p){p=String(p).replace(l,"");var m=p.length;m%4==0&&(p=p.replace(/==?$/,""),m=p.length),(m%4==1||/[^+a-zA-Z0-9/]/.test(p))&&o("Invalid character: the string to be decoded is not correctly encoded.");for(var y=0,g,v,w="",_=-1;++_<m;)v=c.indexOf(p.charAt(_)),g=y%4?g*64+v:v,y++%4&&(w+=String.fromCharCode(255&g>>(-2*y&6)));return w},f=function(p){p=String(p),/[^\0-\xFF]/.test(p)&&o("The string to be encoded contains characters outside of the Latin1 range.");for(var m=p.length%3,y="",g=-1,v,w,_,b,x=p.length-m;++g<x;)v=p.charCodeAt(g)<<16,w=p.charCodeAt(++g)<<8,_=p.charCodeAt(++g),b=v+w+_,y+=c.charAt(b>>18&63)+c.charAt(b>>12&63)+c.charAt(b>>6&63)+c.charAt(b&63);return m==2?(v=p.charCodeAt(g)<<8,w=p.charCodeAt(++g),b=v+w,y+=c.charAt(b>>10)+c.charAt(b>>4&63)+c.charAt(b<<2&63)+"="):m==1&&(b=p.charCodeAt(g),y+=c.charAt(b>>2)+c.charAt(b<<4&63)+"=="),y},h={encode:f,decode:u,version:"1.0.0"};if(n&&!n.nodeType)if(a)a.exports=h;else for(var d in h)h.hasOwnProperty(d)&&(n[d]=h[d]);else r.base64=h})(ar)})(fc,fc.exports);var fZ=fc.exports;const dZ=we(fZ);function hZ(e){let t="";const r=new Uint8Array(e),n=r.byteLength;for(let a=0;a<n;a++)t+=String.fromCharCode(r[a]);return dZ.encode(t)}function ob(e,t=0){return cb(e,t,2).getUint16(0,!0)}function Qg(e,t=0){return cb(e,t,4).getUint32(0,!0)}function dh(e,t=0,r=e.byteLength){const n=e.slice(t,t+r);return pZ.decode(new Uint8Array(n))}function ey(e,t,r=0){if(e.length<t.length+r)return!1;for(const[n,a]of t.entries())if(a!==null&&a!==e[n+r])return!1;return!0}function cb(e,t,r){const n=e.slice(t,t+r);return new DataView(new Uint8Array(n).buffer)}const pZ=new TextDecoder("utf8"),Qu=[["db","application/vnd.sqlite3",[83,81,76,105,116,101,32,102,111,114,109,97,116,32,51,0]],["woff","font/woff",[119,79,70,70]],["woff2","font/woff2",[119,79,70,50]],["bmp","image/bmp",[66,77]],["gif","image/gif",[71,73,70,56,55,97]],["gif","image/gif",[71,73,70,56,57,97]],["heic","image/heic",[102,116,121,112,104,101,105],{offset:4}],["heic","image/heic",[102,116,121,112,109],{offset:4}],["ico","image/x-icon",[0,0,1,0]],["jpg","image/jpeg",[255,216,255]],["pdf","application/pdf",[37,80,68,70,45]],["png","image/png",[137,80,78,71,13,10,26,10]],["7z","application/x-7z-compressed",[55,122,188,175,39,28]],["rar","application/x-rar-compressed",[82,97,114,33,26,7,0]],["rar","application/x-rar-compressed",[82,97,114,33,26,7,1,0]],["rtf","application/rtf",[123,92,114,116,102,49]],["bz2","application/x-bzip2",[66,90,104]],["gz","application/gzip",[31,139]],["tar","application/x-tar",[117,115,116,97,114,0,48,48],{offset:257}],["tar","application/x-tar",[117,115,116,97,114,32,32,0],{offset:257}],["tif","image/tiff",[73,73,42,0]],["tiff","image/tiff",[77,77,0,42]],["zip","application/zip",[80,75,3,4],{exact:!1}],["zip","application/zip",[80,75,5,6]],["mp3","audio/mp3",[255,251]],["mp3","audio/mp3",[255,243]],["mp3","audio/mp3",[255,242]],["mp3","audio/mp3",[73,68,51]],["mp4","video/mp4",[102,116,121,112,105,115,111,109],{offset:4}],["avi","video/x-msvideo",[82,73,70,70,null,null,null,null,65,86,73,32]],["wav","audio/wav",[82,73,70,70,null,null,null,null,87,65,86,69]],["ogx","application/ogg",[79,103,103,83],{exact:!1},[["oga","audio/ogg",[127,70,76,65,67],{offset:28}],["ogg","audio/ogg",[1,118,111,114,98,105,115],{offset:28}],["ogm","video/ogg",[1,118,105,100,101,111,0],{offset:28}],["ogv","video/ogg",[128,116,104,101,111,114,97],{offset:28}]]],["webp","image/webp",[82,73,70,70,null,null,null,null,87,69,66,80]],["psd","image/vnd.adobe.photoshop",[56,66,80,83]],["flac","audio/x-flac",[102,76,97,67]],["wasm","application/wasm",[0,97,115,109]],["deb","application/x-deb",[33,60,97,114,99,104,62,10]],["exe","application/x-msdownload",[77,90]],["exe","application/x-msdownload",[90,77]],["class","application/java-vm",[202,254,186,190]]];function mZ(e){for(let t=0;t<e.length;t++)try{const r=e.charCodeAt(t);if(r===65533||r<=8)return!1}catch{return!1}return!0}function gZ(e){try{const t=dh(e);if(!mZ(t))return;try{return JSON.parse(t),{ext:"json",mime:"application/json"}}catch{return{ext:"txt",mime:"text/plain"}}}catch{return}}function yZ(e){return lb(e).map(([t,r,n,{offset:a=0}={}])=>n.length+a).reduce((t,r)=>r>t?r:t,0)}function lb(e){return e.flatMap(([t,r,n,a={},i=[]])=>[[t,r,n,a],...i])}function vZ(e,{ext:t,mime:r}){return t||r?lb(e).filter(n=>n[0]===t||n[1]===r):[]}function wZ(e,t){const r=ob(e,26),n=dh(e,30,r),[a]=n.split("/"),i=n.endsWith(".xml");return a==="META-INF"?{ext:"jar",mime:"application/java-archive"}:a==="ppt"&&i?{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:a==="word"&&i?{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:a==="xl"&&i?{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}:a==="mimetype"?_Z(e,r)??t:t}function _Z(e,t){const r=Qg(e,18),n=Qg(e,22),a=ob(e,28);if(r===n){const i=dh(e,30+t+a,r);if(i==="application/vnd.oasis.opendocument.presentation")return{ext:"odp",mime:i};if(i==="application/vnd.oasis.opendocument.spreadsheet")return{ext:"ods",mime:i};if(i==="application/vnd.oasis.opendocument.text")return{ext:"odt",mime:i};if(i==="application/epub+zip")return{ext:"epub",mime:i}}}const bZ=yZ(Qu);function $Z(e,{extra:t=!1,hint:r}={}){const n=new Uint8Array(e.slice(0,bZ));if(r){const i=vZ(Qu,r);if(i.length>0){const s=ty(n,i);if(s!==void 0)return s}}const a=ty(n,Qu);if(a)return a;if(t)return SZ(e)}function ty(e,t){for(const[r,n,a,{exact:i=!0,offset:s=0}={},o=[]]of t)if(ey(e,a,s)){if(r==="zip"&&!i)return wZ(e.buffer,{ext:r,mime:n});if(!i&&o.length){for(const[c,l,u,{offset:f=0}={}]of o)if(ey(e,u,f))return{ext:c,mime:l}}return{ext:r,mime:n}}}function SZ(e){return gZ(e)}function EZ(e){const t=e.split(".").pop(),n={aac:"audio/aac",abw:"application/x-abiword",arc:"application/x-freearc",avi:"video/x-msvideo",azw:"application/vnd.amazon.ebook",bin:"application/octet-stream",bmp:"image/bmp",bz:"application/x-bzip",bz2:"application/x-bzip2",cda:"application/x-cdf",csh:"application/x-csh",css:"text/css",csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gz:"application/gzip",gif:"image/gif",htm:"text/html",html:"text/html",ico:"image/vnd.microsoft.icon",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",jsonld:"application/ld+json",mid:"audio/midi audio/x-midi",midi:"audio/midi audio/x-midi",mjs:"text/javascript",mp3:"audio/mpeg",mp4:"video/mp4",mpeg:"video/mpeg",mpkg:"application/vnd.apple.installer+xml",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",opus:"audio/opus",otf:"font/otf",png:"image/png",pdf:"application/pdf",php:"application/x-httpd-php",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",sh:"application/x-sh",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",ts:"video/mp2t",ttf:"font/ttf",txt:"text/plain",vsd:"application/vnd.visio",wav:"audio/wav",weba:"audio/webm",webm:"video/webm",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",xul:"application/vnd.mozilla.xul+xml",zip:"application/zip","3gp":"video/3gpp","3g2":"video/3gpp2","7z":"application/x-7z-compressed"}[t]||"application/octet-stream";return{ext:t,mime:n}}const xZ={repoUrl:"http://localhost:3000/sutoyocutez/kanzululum-web.git",author:{name:"Tatang S.",email:"sutoyocutez@gmail.com"},token:"e05db2320178761249774568fa1882d3c0e21cfa",corsProxyUrl:"http://127.0.0.1:8787"};class Fi{constructor(t){Ie(this,"dir","/repo");Ie(this,"fs",null);Ie(this,"repoUrl",null);Ie(this,"corsProxyUrl",null);Ie(this,"author",null);Ie(this,"token",null);Ie(this,"onCloneCallback",t=>t);this.fs=new uZ("fs"),this.repoUrl=t.repoUrl,t.corsProxyUrl&&(this.corsProxyUrl=t.corsProxyUrl),this.dir=vV(this.repoUrl),this.token=t.token,this.author=t.author}getGit(){return Mr}async getFile64Data(t,r=!1,n=!1){const a=n?t:`${this.dir}${t}`,i=a.split("/"),s=i[i.length-1];let o;try{o=await this.fs.readFileSync(a)}catch{console.log(`lfs: cant readFile ${a}`)}if(o)try{let c=$Z(o);c||(c=EZ(s));let l="application/octet-stream";c&&(l=c.mime);let u=`data:${l};charset=utf-8;name=${s};base64,${hZ(o)}`;return r?{info:{mime:c,filename:s},dataUrl:u}:u}catch(c){console.log("Error:getFile64Data",c)}return null}getRelativePath(t){return t.replace(`${this.dir}/`,"")}basePath(t){return`${this.dir}/${t}`}async isCloned(){if(!await this.fs.existsSync(this.dir))return!1;try{if((await this.fs.readdirSync(this.dir)).length===0)return!1;if(await this.fs.existsSync(`${this.dir}/.git`))return!0}catch{console.log(`lfs: ${this.dir}/.git not found`)}return!1}cloneOption(){const t={fs:this.fs,http:vo,dir:this.dir,url:this.repoUrl,singleBranch:!0,onProgress:r=>{typeof this.onCloneCallback=="function"&&this.onCloneCallback(r)}};return this.corsProxyUrl&&(t.corsProxy=this.corsProxyUrl),t}fetchOption(){const t={fs:this.fs,http:vo,dir:this.dir,url:this.repoUrl,singleBranch:!0,tags:!1};return this.corsProxyUrl&&(t.corsProxy=this.corsProxyUrl),t}async commit(t,r=null){let n=[];for(const i of t){await Mr.add({fs:this.fs,dir:this.dir,filepath:i});const s=new Date;n.push(`Edit ${i} at ${s}`)}return await Mr.commit({fs:this.fs,dir:this.dir,author:this.author,message:r||n.join(`
`)})}async push(){let t={fs:this.fs,http:vo,dir:this.dir,onAuth:()=>({username:this.token})};return this.corsProxyUrl&&(t.corsProxy=this.corsProxyUrl),await Mr.push(t)}async log(){return await Mr.log({fs:this.fs,dir:this.dir,force:!0,follow:!0})}async fastForward(t=n=>n,r=n=>n){let n=!1,a="false",i={fs:this.fs,http:vo,dir:this.dir,singleBranch:!0,onProgress:s=>{t(s),console.log(s.phase),s.total?console.log(s.loaded/s.total):console.log(s.loaded)}};this.corsProxyUrl&&(i.corsProxy=this.corsProxyUrl);try{await Mr.fastForward(i),n=!0}catch(s){a=s,console.error(s)}n||await confirm(`Couldn't pull git repo error:${a} , Would you like to restart git clone?`)&&(console.log("Restart git clone"),await this.cleanup(),await this.init(),await this.fastForward()),r(n)}async cleanup(){await this.fs.wipe()}setOnCloneProgressHandler(t,r,n){this.onCloneCallback=a=>{let i="";if(a.total){const s=(a.loaded/a.total).toFixed(2)*100;i=`${a.phase}  ${s} %`}else i="Sedang memproses ...";t(n(i))}}async init(t){typeof t=="function"&&(this.onCloneCallback=t),await this.isCloned()||(console.log("Cloning repo "),await this.fs.existsSync(this.dir)||await this.fs.mkdirSync(this.dir),await Mr.clone(this.cloneOption()))}async remove(t){await Mr.remove({fs:this.fs,dir:this.dir,filepath:t})}async add(t){await Mr.add({fs:this.fs,dir:this.dir,filepath:t})}}Ie(Fi,"instance",null);function NY(){return OZ()}function OZ(){return Fi.instance||(Fi.instance=new Fi(xZ)),Fi.instance}class ub{constructor(t){this.dbInstance=t}report(t,r){const n=`DBGitError:${this.dbInstance.type}:(${t}) : ${r}`;console.log(n),alert(`${n}`)}}Ie(ub,"GET_DATA_FAILED",1);class AZ{constructor(t,r,n=null){Ie(this,"dbGitError",null);Ie(this,"git",null);Ie(this,"fs",null);Ie(this,"type",null);Ie(this,"defaultValue",null);Ie(this,"data",null);Ie(this,"path",null);Ie(this,"commitQueues",[]);Ie(this,"commitMessageQueues",[]);Ie(this,"originalData",null);Ie(this,"pk","id");Ie(this,"dataRootField",null);Ie(this,"shadowFields",null);Ie(this,"shadowedFieldValues",{});Ie(this,"reservedFieldValues",["@path"]);this.git=t,this.fs=t.fs,n&&(this.path=n),this.initDefaultValue(r),this.dbGitError=new ub(this)}setDbErrorHandler(t){this.dbGitError=t}getFieldNames(){return Object.keys(this.defaultValue)}shouldIDoTransformField(t){try{return Object.keys(this.shadowFields).some(n=>t.includes(n))}catch{}return!1}async transformShadowFieldItemOnSave(t,r){for(const n of r)if(this.shadowFields[n]){t[this.pk]||(t[this.pk]=xh());const a=t[this.pk];this.shadowedFieldValues[a]||(this.shadowedFieldValues[a]={}),t[n]=await this.shadowFields[n].transformOnSave(t[n],t,this),this.shadowedFieldValues[a][n]=t[n]}return t}async transformShadowFieldItemOnload(t,r){for(const n of r)if(this.shadowFields[n]){t[this.pk]||(t[this.pk]=xh());const a=t[this.pk];this.shadowedFieldValues[a]||(this.shadowedFieldValues[a]={}),this.shadowedFieldValues[a][n]=t[n],t[n]=await this.shadowFields[n].transformOnLoad(t[n],t,this)}return t}async transformShadowFieldOnload(){if(this.shadowFields!==null){const t=this.getFieldNames();if(this.shouldIDoTransformField(t))if(this.type==="single")this.data=await this.transformShadowFieldItemOnload(this.data,t);else for(let n of this.data)n=await this.transformShadowFieldItemOnload(n,t)}}async transformShadowFieldOnSave(){let t=this.type==="single"?{...this.data}:[...this.data];if(this.shadowFields!==null){const r=this.getFieldNames();if(this.shouldIDoTransformField(r))if(this.type==="single")t=await this.transformShadowFieldItemOnSave(t,r);else for(let a of t)a=await this.transformShadowFieldItemOnSave(a,r)}return t}initDefaultValue(t){this.defaultValue={};for(const r of Object.keys(t.properties))this.defaultValue[r]=""}async getData(t=!1){if(t&&this.data)return this.data;if(this.data={},this.type==="files"){this.data=[];const r=this.getFilePath();if(await this.fs.existsSync(r)){const n=await this.fs.readdirSync(r);let a=1;for(const i of n){if(!i.match(/\.json$/))continue;let s=null;const o=`${r}/${i}`;try{const c=i.replace(/\.json$/,""),l=await this.fs.readFileSync(o,"utf-8");s=JSON.parse(l),s={id:a,name:c,"@path":o,...s}}catch{const l=`lfs: can't get json data from ${o}`;this.dbGitError.report("GET_DATA",l)}s&&(this.data.push(s),a+=1)}}}else try{const r=await this.fs.readFileSync(this.getFilePath(),"utf-8");this.data=JSON.parse(r),this.dataRootField&&(this.originalData=Array.isArray(this.data)?[...this.data]:{...this.data},this.data=this.data[this.dataRootField])}catch{const n=`lfs:Could not get json data by reading file ${this.getFilePath()}`;this.dbGitError.report("GET_DATA",n),this.type==="single"?this.data={...this.defaultData}:this.data=[]}return this.data&&await this.transformShadowFieldOnload(),this.data}async push(){return await this.git.push()}getFilePath(){return`${this.git.dir}/${this.path}`}}class kZ extends AZ{constructor(){super(...arguments);Ie(this,"type","single")}async get(r=!1){return await this.getData()}async update(r,n=!1){let a=await this.get(n);a||(a=r);const i=this.getFieldNames();this.shouldIDoTransformField(i);for(const o of i)this.reservedFieldValues.includes(o)||(a[o]=r[o]);this.data=a;let s=await this.transformShadowFieldOnSave();if(this.dataRootField){let o={...this.originalData};o[this.dataRootField]={...s},s=o}await this.fs.writeFileSync(this.getFilePath(),JSON.stringify(s,null,2))}async commit(r=!1){const n=this.commitQueues;n.push(this.path);const a=`${this.commitMessageQueues.join(`
`)}
Edit file ${this.path}`;console.log({commitFileList:n,commitMessage:a});let i=await this.git.commit(n,a);return this.commitQueues=[],this.commitMessageQueues=[],r&&(i=await this.push()),i}}class jY extends kZ{constructor(){super(...arguments);Ie(this,"path","web/data/company.json")}}const CZ=({length:e})=>{let t=Array(e).fill("");return A.jsx("span",{children:t.map((r,n)=>A.jsx("span",{children:"."},n))})},RY=({icons:e=[],message:t="Loading"})=>{let r=Z.useRef(null);const[n,a]=Z.useState(1),i=6,[s,o]=Z.useState(0),[c,l]=Z.useState(null),u=i-1;return Z.useEffect(()=>(r.current||(r.current=setInterval(()=>{a(f=>f>u?1:f+1)},250)),()=>{r.current&&(clearInterval(r.current),r.current=null)}),[a]),Z.useEffect(()=>{n%2===0&&o(f=>f>=e.length-1?0:f+1)},[n,o]),Z.useEffect(()=>{e.length>0&&l(e[s])},[s,l]),A.jsxs(A.Fragment,{children:[c," ",A.jsx("span",{className:"twx-px-4",children:t})," ",A.jsx(CZ,{length:n})]})},TZ="object",IZ=["title","slug","cover","headline","content"],PZ={title:{title:"Title",type:"string"},slug:{title:"Slug",type:"string"},cover:{title:"Cover Image",type:"string",format:"data-url"},headline:{title:"Headline",type:"string"},content:{title:"Content",type:"string"},tags:{title:"Tags",type:"string"},author:{title:"Penulis",type:"string"}},FY={type:TZ,required:IZ,properties:PZ},NZ={"ui:autofocus":!0},jZ={},RZ={"ui:options":{filePreview:!0}},FZ={},DZ={"ui:widget":"textarea"},MZ={"ui:widget":"block"},UZ={},DY={title:NZ,slug:jZ,cover:RZ,date:FZ,headline:DZ,content:MZ,tags:UZ},BZ="object",LZ=["name","phone"],zZ={name:{title:"Nama",type:"string"},phone:{title:"Nomor",type:"string"}},MY={type:BZ,required:LZ,properties:zZ},VZ={"ui:autofocus":!0},qZ={"ui:options":{inputType:"tel"}},UY={name:VZ,phone:qZ},HZ="object",KZ=["title","description","image"],GZ={title:{title:"Title",type:"string"},description:{title:"Keterangan",type:"string"},image:{title:"Image",type:"string",format:"data-url"}},BY={type:HZ,required:KZ,properties:GZ},WZ={"ui:autofocus":!0},ZZ={},YZ={"ui:options":{filePreview:!0}},LY={name:WZ,description:ZZ,image:YZ},XZ="object",JZ=["fb","twitter","tiktok","youtube","ig"],QZ={fb:{title:"Facebook",type:"string"},twitter:{title:"Twitter",type:"string"},tiktok:{title:"Tiktok",type:"string"},youtube:{title:"Youtube",type:"string"},ig:{title:"Instagram",type:"string"}},zY={type:XZ,required:JZ,properties:QZ},eY={"ui:autofocus":!0},tY={},rY={},nY={},aY={},VY={fb:eY,twitter:tY,tiktok:rY,youtube:nY,ig:aY},iY="object",sY=["title","content"],oY={title:{title:"Title",type:"string"},content:{title:"Konten",type:"string"}},qY={type:iY,required:sY,properties:oY},cY={"ui:autofocus":!0},lY={"ui:widget":"block"},HY={title:cY,content:lY},uY="object",fY=["footerText"],dY={footerText:{title:"Text Footer",type:"string"}},KY={type:uY,required:fY,properties:dY},hY={"ui:autofocus":!0},GY={footerText:hY};export{$f as $,W8 as A,_s as B,Qt as C,V8 as D,D0 as E,yY as F,j0 as G,X8 as H,SM as I,ve as J,Ee as K,RY as L,jY as M,nd as N,oV as O,kZ as P,AZ as Q,NY as R,Eu as S,Z8 as T,Cw as U,bV as V,$V as W,SV as X,PV as Y,Le as Z,Fe as _,wY as a,Sf as a0,ft as a1,gf as a2,xf as a3,_Y as b,OZ as c,FY as d,DY as e,MY as f,UY as g,BY as h,LY as i,VY as j,HY as k,KY as l,GY as m,M6 as n,xe as o,ze as p,z8 as q,H8 as r,zY as s,K8 as t,Q8 as u,vY as v,qY as w,nt as x,O0 as y,F0 as z};
