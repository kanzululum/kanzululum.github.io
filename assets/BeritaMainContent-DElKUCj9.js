import{j as e,L as p,r as m,u as S}from"./reachHideWarning-IEH7Dx1O.js";import"./getBlocksReadingTime-Dto5agJ7.js";import{f as R,C as F,a as E,B as H}from"./BannerCrumb-CpdsY4-T.js";import{s as C}from"./slugify-CtJJmimd.js";import{U as T}from"./user-CPsLnqEq.js";const W=({list:t,loading:a})=>{const i="cls-0 relative md:twx-mt-12 twx-mt-8",j="cls-1 grid grid-cols-1 pb-6 text-center",o="cls-2 mb-6 md:text-3xl text-2xl md:leading-normal leading-normal font-semibold",d="cls-3 text-slate-400 max-w-xl mx-auto",r="cls-4 grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 mt-6 gap-6",v="cls-5 group relative overflow-hidden",b="cls-6 relative overflow-hidden rounded-md shadow dark:shadow-gray-800",f="cls-7 group-hover:scale-110 group-hover:rotate-3 duration-500",N="cls-8 absolute top-0 start-0 p-4 opacity-0 group-hover:opacity-100 duration-500",$="cls-9 bg-red-500 text-white text-[12px] px-2.5 py-1 font-medium rounded-md h-5",x="cls-10 mt-6",h="cls-11 flex mb-4",z="cls-12 flex items-center text-slate-400 text-sm",L="cls-13 feather feather-clock size-4 text-slate-900 dark:text-white me-1.5",k="cls-14 text-slate-400 text-sm ms-3",B="cls-15 twx-ml-2 text-slate-900 dark:text-white hover:text-red-500 dark:hover:text-red-500 font-medium",u="cls-16 text-lg font-medium hover:text-red-500 duration-500 ease-in-out",g="cls-17 text-slate-400 mt-2",w="cls-18 mt-3",l="cls-19 hover:text-red-500 inline-flex items-center",c="cls-20 feather feather-chevron-right size-4 ms-1",n="twx-shadow twx-bg-slate-300 twx-opacity-80 twx-shadow twx-rounded-md";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:i,children:[e.jsxs("div",{className:j,children:[e.jsx("h3",{className:o,children:" Berita "}),e.jsx("p",{className:d,children:" Berita Pondok Pesantren Kanzululum. "})]}),e.jsx("div",{className:r,children:a?e.jsx(e.Fragment,{children:[...Array(6)].fill(1).map((s,P)=>(C(s.title),e.jsxs("div",{className:`${v} twx-animate-pulse `,children:[e.jsx("div",{className:`${b} ${n}`,children:e.jsx("div",{className:`${f} twx-h-[200px] twx-w-full ${n}`})}),e.jsxs("div",{className:x,children:[e.jsx("div",{className:`${h} twx-w-3/4 ${n} twx-h-4`}),e.jsx("a",{className:`${u} ${n} twx-h-2`,children:" "}),e.jsx("p",{className:`${g} ${n} twx-h-2`,children:" "}),e.jsx("p",{className:`${g} ${n} twx-h-2`,children:" "}),e.jsx("p",{className:`${g} ${n} twx-h-2`,children:" "}),e.jsx("div",{className:`${w}  twx-w-1/2 ${n} twx-h-6`})]})]})))}):e.jsx(e.Fragment,{children:t&&Array.isArray(t.records)&&t.records.map((s,P)=>{const y=C(s.title);return e.jsxs("div",{className:v,children:[e.jsxs("div",{className:b,children:[e.jsx("img",{src:`/assets/images/berita/covers/${s.cover}`,alt:s.title,className:`${f}`}),e.jsx("div",{className:N,children:e.jsxs("span",{className:$,children:[" ",R(s.tags)," "]})})]}),e.jsxs("div",{className:x,children:[e.jsxs("div",{className:h,children:[e.jsxs("span",{className:z,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:L,children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14",children:" "})]}),s.readingTime," menit baca"]}),e.jsxs("span",{className:`${k} twx-flex twx-items-center`,children:[e.jsx(T,{className:"feather-icon inline-block twx-text-black !twx-w-[14.6px] !twx-h-[14.6px]"}),e.jsx("a",{href:`/berita/#/penulis/${s.author}`,className:B,children:s.author})]})]}),s.compiledHash?e.jsx("a",{href:`/berita/baca/${s.id}/${y}`,className:u,children:s.title}):e.jsx(p,{to:`/baca/${s.id}/${y}`,className:u,children:s.title}),e.jsxs("p",{className:`${g} twx-line-clamp-3`,children:[" ",s.headline]}),e.jsx("div",{className:w,children:s.compiledHash?e.jsxs("a",{href:`/berita/baca/${s.id}/${y}`,className:l,children:["Selengkapnya",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:c,children:e.jsx("polyline",{points:"9 18 15 12 9 6",children:" "})})]}):e.jsxs(p,{to:`/baca/${s.id}/${y}`,className:l,children:["Selengkapnya",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:c,children:e.jsx("polyline",{points:"9 18 15 12 9 6",children:" "})})]})})]})]},P)})})})]})})},U="twx-shadow twx-bg-slate-300 twx-opacity-80 twx-shadow twx-rounded-md",q=({pager:t,base:a="",routeName:i="page",loading:j})=>(console.log(t),m.useEffect(()=>{},[]),e.jsx("div",{className:"grid md:grid-cols-12 grid-cols-1 mt-6",children:e.jsx("div",{className:"md:col-span-12 text-center",children:j?e.jsx(e.Fragment,{children:e.jsx("div",{className:`twx-h-8 twx-w-[200px] ${U}  twx-animate-pulse twx-mx-auto twx-mt-6`})}):e.jsx("nav",{"aria-label":"Page navigation example",children:e.jsxs("ul",{className:"inline-flex items-center -space-x-px",children:[t.page>1&&e.jsx("li",{children:e.jsx(p,{to:`${a}/${i}/${t.page-1}`,className:"size-[40px] inline-flex justify-center items-center text-slate-400 bg-white dark:bg-slate-900 rounded-s-3xl hover:text-white border border-gray-100 dark:border-gray-800 hover:border-red-500 dark:hover:border-red-500 hover:bg-red-500 dark:hover:bg-red-500",children:e.jsx(F,{className:"size-5 rtl:rotate-180 rtl:-mt-1"})})}),[...Array(t.totalPages).fill(1)].map((o,d)=>{const r=d+1;return e.jsx("li",{children:t.page==r?e.jsx(p,{to:`${a}/${i}/${r}`,"aria-current":"page",className:"z-10 size-[40px] inline-flex justify-center items-center text-white bg-red-500 border border-red-500",children:r}):e.jsx(p,{to:`${a}/${i}/${r}`,className:"size-[40px] inline-flex justify-center items-center text-slate-400 hover:text-white bg-white dark:bg-slate-900 border border-gray-100 dark:border-gray-800 hover:border-red-500 dark:hover:border-red-500 hover:bg-red-500 dark:hover:bg-red-500",children:r})})}),t.page<t.totalPages&&e.jsx("li",{children:e.jsx(p,{to:`${a}/${i}/${t.page+1}`,className:"size-[40px] inline-flex justify-center items-center text-slate-400 bg-white dark:bg-slate-900 rounded-e-3xl hover:text-white border border-gray-100 dark:border-gray-800 hover:border-red-500 dark:hover:border-red-500 hover:bg-red-500 dark:hover:bg-red-500",children:e.jsx(E,{className:"size-5 rtl:rotate-180 rtl:-mt-1"})})})]})})})})),O=({beritaData:t,model:a,reload:i,loadingModel:j,byAuthor:o})=>{const{pageNumber:d,author:r}=S();console.log({byAuthor:o,author:r,pageNumber:d});const[v,b]=m.useState([{title:"Home",path:"/"},{title:"Berita",path:"/berita"}]),[f,N]=m.useState([]),[$,x]=m.useState(j),[h,z]=m.useState(6),[L,k]=m.useState({page:1,limit:h,totalPages:0,totalRecords:0}),B=async g=>{x(!0);const w=parseInt(g||1);let l=null;if(o?(l=await a.getList({limit:h,page:w,search:{type:"single",field:"author",query:r}}),b([{title:"Home",path:"/"},{title:"Berita",path:"/berita"},{title:`Oleh ${r}`,path:null}])):l=await a.getList(h,w),!l){x(!1);return}for(const c of l.records)c.readingTime=await a.getReadingTime(c.id);N(c=>l),k(c=>({...c,limit:h,page:w,totalRecords:l.totalRecords,totalPages:l.totalPages})),x(!1)};m.useEffect(()=>{a&&a.ready&&B(d)},[N,i,k,d,x,o,r]);const u=o?`penulis/${r}/page`:"page";return e.jsxs(e.Fragment,{children:[e.jsx(H,{banner:t.banner,breadcrumbs:v}),e.jsx("section",{className:"relative md:twx-py-12 twx-py-8 overflow-hidden",children:e.jsxs("div",{className:"container twx-relative",children:[e.jsx(W,{list:f,loading:$}),e.jsx(q,{pager:L,loading:$,routeName:u})]})})]})};export{O as B};
//# sourceMappingURL=BeritaMainContent-DElKUCj9.js.map
